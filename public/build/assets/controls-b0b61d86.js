import{R as M,r as C,j as h,c as de,u as We,b as ce,y as Mi,q as Li,d as ki,h as dn,e as Fi,f as vn,g as ji,i as Gi,k as Hi,l as Wi,F as _i,m as yt}from"./app-a8171a9a.js";import{G as k,U as zi}from"./UndoRedo-9dce11c5.js";function I(){return I=Object.assign?Object.assign.bind():function(e){for(var r=1;r<arguments.length;r++){var t=arguments[r];for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])}return e},I.apply(this,arguments)}function Pr(e,r){if(e==null)return{};var t={},n=Object.keys(e),a,i;for(i=0;i<n.length;i++)a=n[i],!(r.indexOf(a)>=0)&&(t[a]=e[a]);return t}function Ui(e){return k({tag:"svg",attr:{fill:"currentColor",viewBox:"0 0 16 16"},child:[{tag:"circle",attr:{cx:"8",cy:"8",r:"8"}}]})(e)}function Vi(e){return k({tag:"svg",attr:{fill:"currentColor",viewBox:"0 0 16 16"},child:[{tag:"path",attr:{d:"M8 15A7 7 0 1 1 8 1a7 7 0 0 1 0 14zm0 1A8 8 0 1 0 8 0a8 8 0 0 0 0 16z"}}]})(e)}function $i(e){return k({tag:"svg",attr:{fill:"currentColor",viewBox:"0 0 16 16"},child:[{tag:"path",attr:{d:"M8.086 2.207a2 2 0 0 1 2.828 0l3.879 3.879a2 2 0 0 1 0 2.828l-5.5 5.5A2 2 0 0 1 7.879 15H5.12a2 2 0 0 1-1.414-.586l-2.5-2.5a2 2 0 0 1 0-2.828l6.879-6.879zm2.121.707a1 1 0 0 0-1.414 0L4.16 7.547l5.293 5.293 4.633-4.633a1 1 0 0 0 0-1.414l-3.879-3.879zM8.746 13.547 3.453 8.254 1.914 9.793a1 1 0 0 0 0 1.414l2.5 2.5a1 1 0 0 0 .707.293H7.88a1 1 0 0 0 .707-.293l.16-.16z"}}]})(e)}function qi(e){return k({tag:"svg",attr:{fill:"currentColor",viewBox:"0 0 16 16"},child:[{tag:"path",attr:{d:"M2 2a1 1 0 0 0-1 1v10a1 1 0 0 0 1 1h12a1 1 0 0 0 1-1V3a1 1 0 0 0-1-1H2zm12-1a2 2 0 0 1 2 2v10a2 2 0 0 1-2 2H2a2 2 0 0 1-2-2V3a2 2 0 0 1 2-2h12z"}},{tag:"path",attr:{d:"M13 4a1 1 0 0 0-1-1h-2a1 1 0 0 0-1 1v8a1 1 0 0 0 1 1h2a1 1 0 0 0 1-1V4z"}}]})(e)}function Xi(e){return k({tag:"svg",attr:{fill:"currentColor",viewBox:"0 0 16 16"},child:[{tag:"path",attr:{d:"M14 2a1 1 0 0 1 1 1v10a1 1 0 0 1-1 1H2a1 1 0 0 1-1-1V3a1 1 0 0 1 1-1h12zM2 1a2 2 0 0 0-2 2v10a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V3a2 2 0 0 0-2-2H2z"}},{tag:"path",attr:{d:"M3 4a1 1 0 0 1 1-1h2a1 1 0 0 1 1 1v8a1 1 0 0 1-1 1H4a1 1 0 0 1-1-1V4z"}}]})(e)}function Yi(e){return k({tag:"svg",attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{d:"M9 9h6v6H9z"}},{tag:"path",attr:{d:"M19 17V7c0-1.103-.897-2-2-2H7c-1.103 0-2 .897-2 2v10c0 1.103.897 2 2 2h10c1.103 0 2-.897 2-2zM7 7h10l.002 10H7V7z"}}]})(e)}function fn(e){return k({tag:"svg",attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{d:"M7 11h10v2H7z"}},{tag:"path",attr:{d:"M12 2C6.486 2 2 6.486 2 12s4.486 10 10 10 10-4.486 10-10S17.514 2 12 2zm0 18c-4.411 0-8-3.589-8-8s3.589-8 8-8 8 3.589 8 8-3.589 8-8 8z"}}]})(e)}function Ki(e){return k({tag:"svg",attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{d:"M7.061 22c1.523 0 2.84-.543 3.91-1.613 1.123-1.123 1.707-2.854 1.551-4.494l8.564-8.564a3.123 3.123 0 0 0-.002-4.414c-1.178-1.18-3.234-1.18-4.412 0l-8.884 8.884c-1.913.169-3.807 1.521-3.807 3.919 0 .303.021.588.042.86.08 1.031.109 1.418-1.471 2.208a1.001 1.001 0 0 0-.122 1.717C2.52 20.563 4.623 22 7.061 22c-.001 0-.001 0 0 0zM18.086 4.328a1.144 1.144 0 0 1 1.586.002 1.12 1.12 0 0 1 0 1.584L12 13.586 10.414 12l7.672-7.672zM6.018 16.423c-.018-.224-.037-.458-.037-.706 0-1.545 1.445-1.953 2.21-1.953.356 0 .699.073.964.206.945.475 1.26 1.293 1.357 1.896.177 1.09-.217 2.368-.956 3.107C8.865 19.664 8.049 20 7.061 20H7.06c-.75 0-1.479-.196-2.074-.427 1.082-.973 1.121-1.989 1.032-3.15z"}}]})(e)}function pn(e){return k({tag:"svg",attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{d:"M13 7h-2v4H7v2h4v4h2v-4h4v-2h-4z"}},{tag:"path",attr:{d:"M12 2C6.486 2 2 6.486 2 12s4.486 10 10 10 10-4.486 10-10S17.514 2 12 2zm0 18c-4.411 0-8-3.589-8-8s3.589-8 8-8 8 3.589 8 8-3.589 8-8 8z"}}]})(e)}function Ji(e){return k({tag:"svg",attr:{viewBox:"0 0 24 24",fill:"none"},child:[{tag:"path",attr:{d:"M15 9H9V15H15V9Z",fill:"currentColor"}},{tag:"path",attr:{fillRule:"evenodd",clipRule:"evenodd",d:"M23 12C23 18.0751 18.0751 23 12 23C5.92487 23 1 18.0751 1 12C1 5.92487 5.92487 1 12 1C18.0751 1 23 5.92487 23 12ZM21 12C21 16.9706 16.9706 21 12 21C7.02944 21 3 16.9706 3 12C3 7.02944 7.02944 3 12 3C16.9706 3 21 7.02944 21 12Z",fill:"currentColor"}}]})(e)}function Zi(e){return k({tag:"svg",attr:{viewBox:"0 0 24 24",fill:"none"},child:[{tag:"path",attr:{d:"M12 15C13.6569 15 15 13.6569 15 12C15 10.3431 13.6569 9 12 9C10.3431 9 9 10.3431 9 12C9 13.6569 10.3431 15 12 15Z",fill:"currentColor"}},{tag:"path",attr:{fillRule:"evenodd",clipRule:"evenodd",d:"M22 12C22 17.5228 17.5228 22 12 22C6.47715 22 2 17.5228 2 12C2 6.47715 6.47715 2 12 2C17.5228 2 22 6.47715 22 12ZM20 12C20 16.4183 16.4183 20 12 20C7.58172 20 4 16.4183 4 12C4 7.58172 7.58172 4 12 4C16.4183 4 20 7.58172 20 12Z",fill:"currentColor"}}]})(e)}function Qi(e){return k({tag:"svg",attr:{viewBox:"0 0 24 24",fill:"none"},child:[{tag:"path",attr:{fillRule:"evenodd",clipRule:"evenodd",d:"M17 5V4C17 2.89543 16.1046 2 15 2H9C7.89543 2 7 2.89543 7 4V5H4C3.44772 5 3 5.44772 3 6C3 6.55228 3.44772 7 4 7H5V18C5 19.6569 6.34315 21 8 21H16C17.6569 21 19 19.6569 19 18V7H20C20.5523 7 21 6.55228 21 6C21 5.44772 20.5523 5 20 5H17ZM15 4H9V5H15V4ZM17 7H7V18C7 18.5523 7.44772 19 8 19H16C16.5523 19 17 18.5523 17 18V7Z",fill:"currentColor"}},{tag:"path",attr:{d:"M9 9H11V17H9V9Z",fill:"currentColor"}},{tag:"path",attr:{d:"M13 9H15V17H13V9Z",fill:"currentColor"}}]})(e)}function eo(){return["video/mp4","video/quicktime","video/3gpp","video/h264"].filter(r=>MediaRecorder.isTypeSupported(r))}let Ir,Fe;var xt=null;const ro=()=>{Fe=[];var e=document.querySelector("#myCanvas");if(e){var r=e.captureStream(),t={mimeType:eo()[0]};try{Ir=new MediaRecorder(r,t)}catch(n){return console.error("Exception while creating MediaRecorder:",n),!1}return Ir.ondataavailable=no,Ir.start(),e.toBlob(n=>{xt=n},"image/jpeg",.65),!0}},to=()=>{try{return Ir.stop(),Fe}catch(e){return console.error("Error while Stop recorder : "+e),!1}};function no(e){e.data&&e.data.size>0&&Fe.push(e.data)}const ao=e=>{if(console.log({downloadTitle:e}),Fe.length==0){console.log("no blob chunks");return}var r=new Blob(Fe,{type:"video/mp4"}),t=URL.createObjectURL(r),n=document.createElement("a");document.body.appendChild(n),n.style="display: none",n.href=t,n.download=`${e==""?"canvas_recording":e}.mp4`,n.click(),window.URL.revokeObjectURL(t)},io=({tState:e,tActions:r})=>{const t=C.createRef(),{threadLayersView:n,drawTool:a,isRecording:i}=de(c=>c.uiSlice),o=We(),l=()=>{var c;i&&(o(ce.stopRecording()),(c=t.current)==null||c.showModal(),to(),r.pauseAll())};return h.jsxs("div",{className:"mt-2 flex items-center",children:[h.jsx($i,{size:25,className:`-mt-2 mx-2 cursor-pointer ${a=="eraser"&&"text-green-400"}`,onClick:()=>{o(ce.setDrawTool(a=="eraser"?"brush":"eraser"))}}),h.jsx("div",{className:"h-10 w-10 cursor-pointer",onClick:()=>{o(ce.setThreadLayersView(n=="Next"?"Previous":n=="Previous"?"Current":"Next"))},children:n=="Current"?h.jsx(Yi,{size:33,width:40}):n=="Previous"?h.jsx(Xi,{size:25,className:"mt-1",width:40}):h.jsx(qi,{size:25,className:"mt-1",width:40})}),i&&h.jsx("div",{className:"h-16 w-52 bg-gray-700 rounded z-50 absolute top-20 right-0 shadow-3xl border border-gray-600",children:h.jsxs("div",{className:"flex flex-row justify-between items-center",children:[h.jsxs("div",{className:"flex flex-row justify-start items-center h-16 px-5",children:[h.jsx("span",{className:"animate-ping inline-flex h-3 w-3 rounded-full bg-red-700 opacity-75"}),h.jsx("span",{className:"ml-3 text-white",children:"Recording..."})]}),h.jsx("div",{className:"h-14 bg-red-700 my-1",style:{width:"2px"}}),h.jsx("div",{className:"h-16 w-12 flex justify-center items-center  cursor-pointer rounded-tr roundedbr",children:h.jsx(Ji,{size:24,className:"play-icon",onClick:l})})]})}),h.jsx(oo,{ref:t})]})},oo=M.forwardRef((e,r)=>{const[t,n]=C.useState(""),[a,i]=C.useState(!1),[o,l]=C.useState(!1),c=async()=>{if(o)return;if(t==""){i(!0);return}l(!0);const u=new FormData;u.append("title",t),u.append("fileName",`${Date.now()}-${Math.random().toString(36).substring(2,7)}`),xt&&u.append("screenshot",xt);const s=await d(Fe);var v=new Blob(s,{type:"video/mp4"});u.append("video",v),Mi.post("/video",u)};async function d(u){const s=[];for(const v of u){const f=await v.arrayBuffer(),p=new Uint8Array(f);s.push(p.buffer)}return s}return h.jsxs("dialog",{className:" bg-gray-800 rounded-lg shadow-xl",ref:r,children:[h.jsxs("div",{className:"text-white flex justify-between",children:[h.jsx("h1",{className:"font-semibold text-base p-4",children:"Video Recorded"}),h.jsx("span",{className:"cursor-pointer p-4",onClick:()=>{r.current.close()},children:"X"})]}),h.jsxs("div",{className:"flex flex-col my-16 ml-8",children:[h.jsx("h1",{className:"font-normal text-white text-xl my-3",children:"Video recorded successfully. Select the action"}),h.jsxs("div",{className:"mb-4 w-1/2",children:[h.jsx("input",{value:t,onChange:u=>{n(u.target.value),a&&i(!1)},className:"shadow appearance-none border rounded w-full py-2 px-3 text-gray-700 leading-tight focus:outline-none focus:shadow-outline",type:"text",placeholder:"Enter Video Title(Optional)",required:!0}),a&&h.jsx("h1",{className:"text-red-400 m-0.5",children:"title is required"})]}),h.jsxs("div",{className:"self-end px-10 mt-16 flex",children:[h.jsx("button",{className:"btn btn-primary  mx-10",onClick:()=>ao(t),children:"Download"}),o?h.jsx("div",{className:"btn bg-gray-400 cursor-not-allowed ",children:h.jsx("div",{className:"custom-loader"})}):h.jsx("input",{type:"submit",onClick:c,className:"btn btn-success",value:"Post Video"})]})]})]})});function lo(e){return k({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M167.02 309.34c-40.12 2.58-76.53 17.86-97.19 72.3-2.35 6.21-8 9.98-14.59 9.98-11.11 0-45.46-27.67-55.25-34.35C0 439.62 37.93 512 128 512c75.86 0 128-43.77 128-120.19 0-3.11-.65-6.08-.97-9.13l-88.01-73.34zM457.89 0c-15.16 0-29.37 6.71-40.21 16.45C213.27 199.05 192 203.34 192 257.09c0 13.7 3.25 26.76 8.73 38.7l63.82 53.18c7.21 1.8 14.64 3.03 22.39 3.03 62.11 0 98.11-45.47 211.16-256.46 7.38-14.35 13.9-29.85 13.9-45.99C512 20.64 486 0 457.89 0z"}}]})(e)}function ea(e){return k({tag:"svg",attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M144 479H48c-26.5 0-48-21.5-48-48V79c0-26.5 21.5-48 48-48h96c26.5 0 48 21.5 48 48v352c0 26.5-21.5 48-48 48zm304-48V79c0-26.5-21.5-48-48-48h-96c-26.5 0-48 21.5-48 48v352c0 26.5 21.5 48 48 48h96c26.5 0 48-21.5 48-48z"}}]})(e)}function ra(e){return k({tag:"svg",attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M424.4 214.7L72.4 6.6C43.8-10.3 0 6.1 0 47.9V464c0 37.5 40.7 60.1 72.4 41.3l352-208c31.4-18.5 31.5-64.1 0-82.6z"}}]})(e)}function ta(e){return k({tag:"svg",attr:{viewBox:"0 0 1024 1024"},child:[{tag:"path",attr:{d:"M872 474H286.9l350.2-304c5.6-4.9 2.2-14-5.2-14h-88.5c-3.9 0-7.6 1.4-10.5 3.9L155 487.8a31.96 31.96 0 0 0 0 48.3L535.1 866c1.5 1.3 3.3 2 5.2 2h91.5c7.4 0 10.8-9.2 5.2-14L286.9 550H872c4.4 0 8-3.6 8-8v-60c0-4.4-3.6-8-8-8z"}}]})(e)}function na(e){return k({tag:"svg",attr:{viewBox:"0 0 1024 1024"},child:[{tag:"path",attr:{d:"M869 487.8L491.2 159.9c-2.9-2.5-6.6-3.9-10.5-3.9h-88.5c-7.4 0-10.8 9.2-5.2 14l350.2 304H152c-4.4 0-8 3.6-8 8v60c0 4.4 3.6 8 8 8h585.1L386.9 854c-5.6 4.9-2.2 14 5.2 14h91.5c1.9 0 3.8-.7 5.2-2L869 536.2a32.07 32.07 0 0 0 0-48.4z"}}]})(e)}function so(e){return k({tag:"svg",attr:{viewBox:"0 0 1024 1024"},child:[{tag:"path",attr:{d:"M868 732h-70.3c-4.8 0-9.3 2.1-12.3 5.8-7 8.5-14.5 16.7-22.4 24.5a353.84 353.84 0 0 1-112.7 75.9A352.8 352.8 0 0 1 512.4 866c-47.9 0-94.3-9.4-137.9-27.8a353.84 353.84 0 0 1-112.7-75.9 353.28 353.28 0 0 1-76-112.5C167.3 606.2 158 559.9 158 512s9.4-94.2 27.8-137.8c17.8-42.1 43.4-80 76-112.5s70.5-58.1 112.7-75.9c43.6-18.4 90-27.8 137.9-27.8 47.9 0 94.3 9.3 137.9 27.8 42.2 17.8 80.1 43.4 112.7 75.9 7.9 7.9 15.3 16.1 22.4 24.5 3 3.7 7.6 5.8 12.3 5.8H868c6.3 0 10.2-7 6.7-12.3C798 160.5 663.8 81.6 511.3 82 271.7 82.6 79.6 277.1 82 516.4 84.4 751.9 276.2 942 512.4 942c152.1 0 285.7-78.8 362.3-197.7 3.4-5.3-.4-12.3-6.7-12.3zm88.9-226.3L815 393.7c-5.3-4.2-13-.4-13 6.3v76H488c-4.4 0-8 3.6-8 8v56c0 4.4 3.6 8 8 8h314v76c0 6.7 7.8 10.5 13 6.3l141.9-112a8 8 0 0 0 0-12.6z"}}]})(e)}const co=({tState:e,tActions:r})=>{var i;const{isRecording:t}=de(o=>o.uiSlice),n=We(),{auth:a}=Li().props;return h.jsx("div",{className:"absolute top-0 left-52 right-52 flex justify-center",children:h.jsx("div",{className:"flex flex-col items-center justify-center bg-black opacity-40 rounded-xl px-3 paint-brush h-14",children:h.jsxs("div",{className:"flex flex-row items-center justify-between",children:[((i=e.threads[0])==null?void 0:i.isPlaying)??!1?h.jsx(ea,{onClick:()=>r.pauseAll(),className:"cursor-pointer mx-2 button-active",size:30}):h.jsx(ra,{onClick:()=>r.playAll(),className:"cursor-pointer mx-2 button-active",size:30}),h.jsx(Zi,{onClick:()=>{t||(n(ce.startRecording()),ro())},className:"mx-2 cursor-pointer",color:t?"gray":"red",size:25}),a.user&&h.jsx(ki,{href:route("logout"),method:"post",children:h.jsx(so,{className:"text-red-700 mx-2 cursor-pointer",size:25})})]})})})};function Dt(e,r){return Dt=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},Dt(e,r)}function aa(e,r){e.prototype=Object.create(r.prototype),e.prototype.constructor=e,Dt(e,r)}var ia=M.createContext(null);function uo(e){e()}var oa=uo,vo=function(r){return oa=r},fo=function(){return oa};function po(){var e=fo(),r=null,t=null;return{clear:function(){r=null,t=null},notify:function(){e(function(){for(var a=r;a;)a.callback(),a=a.next})},get:function(){for(var a=[],i=r;i;)a.push(i),i=i.next;return a},subscribe:function(a){var i=!0,o=t={callback:a,next:null,prev:t};return o.prev?o.prev.next=o:r=o,function(){!i||r===null||(i=!1,o.next?o.next.prev=o.prev:t=o.prev,o.prev?o.prev.next=o.next:r=o.next)}}}}var gn={notify:function(){},get:function(){return[]}};function la(e,r){var t,n=gn;function a(s){return c(),n.subscribe(s)}function i(){n.notify()}function o(){u.onStateChange&&u.onStateChange()}function l(){return!!t}function c(){t||(t=r?r.addNestedSub(o):e.subscribe(o),n=po())}function d(){t&&(t(),t=void 0,n.clear(),n=gn)}var u={addNestedSub:a,notifyNestedSubs:i,handleChangeWrapper:o,isSubscribed:l,trySubscribe:c,tryUnsubscribe:d,getListeners:function(){return n}};return u}var sa=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u"?C.useLayoutEffect:C.useEffect;function go(e){var r=e.store,t=e.context,n=e.children,a=C.useMemo(function(){var l=la(r);return{store:r,subscription:l}},[r]),i=C.useMemo(function(){return r.getState()},[r]);sa(function(){var l=a.subscription;return l.onStateChange=l.notifyNestedSubs,l.trySubscribe(),i!==r.getState()&&l.notifyNestedSubs(),function(){l.tryUnsubscribe(),l.onStateChange=null}},[a,i]);var o=t||ia;return M.createElement(o.Provider,{value:a},n)}var ca={exports:{}},T={};/** @license React v17.0.2
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Gr=60103,Hr=60106,ar=60107,ir=60108,or=60114,lr=60109,sr=60110,cr=60112,ur=60113,Ot=60120,dr=60115,vr=60116,ua=60121,da=60122,va=60117,fa=60129,pa=60131;if(typeof Symbol=="function"&&Symbol.for){var _=Symbol.for;Gr=_("react.element"),Hr=_("react.portal"),ar=_("react.fragment"),ir=_("react.strict_mode"),or=_("react.profiler"),lr=_("react.provider"),sr=_("react.context"),cr=_("react.forward_ref"),ur=_("react.suspense"),Ot=_("react.suspense_list"),dr=_("react.memo"),vr=_("react.lazy"),ua=_("react.block"),da=_("react.server.block"),va=_("react.fundamental"),fa=_("react.debug_trace_mode"),pa=_("react.legacy_hidden")}function ue(e){if(typeof e=="object"&&e!==null){var r=e.$$typeof;switch(r){case Gr:switch(e=e.type,e){case ar:case or:case ir:case ur:case Ot:return e;default:switch(e=e&&e.$$typeof,e){case sr:case cr:case vr:case dr:case lr:return e;default:return r}}case Hr:return r}}}var ho=lr,mo=Gr,bo=cr,yo=ar,xo=vr,Do=dr,wo=Hr,Co=or,So=ir,Io=ur;T.ContextConsumer=sr;T.ContextProvider=ho;T.Element=mo;T.ForwardRef=bo;T.Fragment=yo;T.Lazy=xo;T.Memo=Do;T.Portal=wo;T.Profiler=Co;T.StrictMode=So;T.Suspense=Io;T.isAsyncMode=function(){return!1};T.isConcurrentMode=function(){return!1};T.isContextConsumer=function(e){return ue(e)===sr};T.isContextProvider=function(e){return ue(e)===lr};T.isElement=function(e){return typeof e=="object"&&e!==null&&e.$$typeof===Gr};T.isForwardRef=function(e){return ue(e)===cr};T.isFragment=function(e){return ue(e)===ar};T.isLazy=function(e){return ue(e)===vr};T.isMemo=function(e){return ue(e)===dr};T.isPortal=function(e){return ue(e)===Hr};T.isProfiler=function(e){return ue(e)===or};T.isStrictMode=function(e){return ue(e)===ir};T.isSuspense=function(e){return ue(e)===ur};T.isValidElementType=function(e){return typeof e=="string"||typeof e=="function"||e===ar||e===or||e===fa||e===ir||e===ur||e===Ot||e===pa||typeof e=="object"&&e!==null&&(e.$$typeof===vr||e.$$typeof===dr||e.$$typeof===lr||e.$$typeof===sr||e.$$typeof===cr||e.$$typeof===va||e.$$typeof===ua||e[0]===da)};T.typeOf=ue;ca.exports=T;var Eo=ca.exports,Po=["getDisplayName","methodName","renderCountProp","shouldHandleStateChanges","storeKey","withRef","forwardRef","context"],Ao=["reactReduxForwardedRef"],Ro=[],Bo=[null,null];function No(e,r){var t=e[1];return[r.payload,t+1]}function hn(e,r,t){sa(function(){return e.apply(void 0,r)},t)}function Oo(e,r,t,n,a,i,o){e.current=n,r.current=a,t.current=!1,i.current&&(i.current=null,o())}function To(e,r,t,n,a,i,o,l,c,d){if(e){var u=!1,s=null,v=function(){if(!u){var g=r.getState(),m,b;try{m=n(g,a.current)}catch(y){b=y,s=y}b||(s=null),m===i.current?o.current||c():(i.current=m,l.current=m,o.current=!0,d({type:"STORE_UPDATED",payload:{error:b}}))}};t.onStateChange=v,t.trySubscribe(),v();var f=function(){if(u=!0,t.tryUnsubscribe(),t.onStateChange=null,s)throw s};return f}}var Mo=function(){return[null,0]};function Lo(e,r){r===void 0&&(r={});var t=r,n=t.getDisplayName,a=n===void 0?function(x){return"ConnectAdvanced("+x+")"}:n,i=t.methodName,o=i===void 0?"connectAdvanced":i,l=t.renderCountProp,c=l===void 0?void 0:l,d=t.shouldHandleStateChanges,u=d===void 0?!0:d,s=t.storeKey,v=s===void 0?"store":s;t.withRef;var f=t.forwardRef,p=f===void 0?!1:f,g=t.context,m=g===void 0?ia:g,b=Pr(t,Po),y=m;return function(D){var P=D.displayName||D.name||"Component",E=a(P),B=I({},b,{getDisplayName:a,methodName:o,renderCountProp:c,shouldHandleStateChanges:u,storeKey:v,displayName:E,wrappedComponentName:P,WrappedComponent:D}),L=b.pure;function A(G){return e(G.dispatch,B)}var F=L?C.useMemo:function(G){return G()};function N(G){var re=C.useMemo(function(){var $e=G.reactReduxForwardedRef,nt=Pr(G,Ao);return[G.context,$e,nt]},[G]),te=re[0],Be=re[1],ve=re[2],Ne=C.useMemo(function(){return te&&te.Consumer&&Eo.isContextConsumer(M.createElement(te.Consumer,null))?te:y},[te,y]),le=C.useContext(Ne),De=!!G.store&&!!G.store.getState&&!!G.store.dispatch;le&&le.store;var Y=De?G.store:le.store,Ve=C.useMemo(function(){return A(Y)},[Y]),gr=C.useMemo(function(){if(!u)return Bo;var $e=la(Y,De?null:le.subscription),nt=$e.notifyNestedSubs.bind($e);return[$e,nt]},[Y,De,le]),fe=gr[0],hr=gr[1],mr=C.useMemo(function(){return De?le:I({},le,{subscription:fe})},[De,le,fe]),br=C.useReducer(No,Ro,Mo),Zr=br[0],Oe=Zr[0],Qr=br[1];if(Oe&&Oe.error)throw Oe.error;var cn=C.useRef(),et=C.useRef(ve),yr=C.useRef(),un=C.useRef(!1),rt=F(function(){return yr.current&&ve===et.current?yr.current:Ve(Y.getState(),ve)},[Y,Oe,ve]);hn(Oo,[et,cn,un,ve,rt,yr,hr]),hn(To,[u,Y,fe,Ve,et,cn,un,yr,hr,Qr],[Y,fe,Ve]);var tt=C.useMemo(function(){return M.createElement(D,I({},rt,{ref:Be}))},[Be,D,rt]),Ti=C.useMemo(function(){return u?M.createElement(Ne.Provider,{value:mr},tt):tt},[Ne,tt,mr]);return Ti}var Q=L?M.memo(N):N;if(Q.WrappedComponent=D,Q.displayName=N.displayName=E,p){var ee=M.forwardRef(function(re,te){return M.createElement(Q,I({},re,{reactReduxForwardedRef:te}))});return ee.displayName=E,ee.WrappedComponent=D,dn(ee,D)}return dn(Q,D)}}function mn(e,r){return e===r?e!==0||r!==0||1/e===1/r:e!==e&&r!==r}function at(e,r){if(mn(e,r))return!0;if(typeof e!="object"||e===null||typeof r!="object"||r===null)return!1;var t=Object.keys(e),n=Object.keys(r);if(t.length!==n.length)return!1;for(var a=0;a<t.length;a++)if(!Object.prototype.hasOwnProperty.call(r,t[a])||!mn(e[t[a]],r[t[a]]))return!1;return!0}function ko(e,r){var t={},n=function(o){var l=e[o];typeof l=="function"&&(t[o]=function(){return r(l.apply(void 0,arguments))})};for(var a in e)n(a);return t}function Tt(e){return function(t,n){var a=e(t,n);function i(){return a}return i.dependsOnOwnProps=!1,i}}function bn(e){return e.dependsOnOwnProps!==null&&e.dependsOnOwnProps!==void 0?!!e.dependsOnOwnProps:e.length!==1}function ga(e,r){return function(n,a){a.displayName;var i=function(l,c){return i.dependsOnOwnProps?i.mapToProps(l,c):i.mapToProps(l)};return i.dependsOnOwnProps=!0,i.mapToProps=function(l,c){i.mapToProps=e,i.dependsOnOwnProps=bn(e);var d=i(l,c);return typeof d=="function"&&(i.mapToProps=d,i.dependsOnOwnProps=bn(d),d=i(l,c)),d},i}}function Fo(e){return typeof e=="function"?ga(e):void 0}function jo(e){return e?void 0:Tt(function(r){return{dispatch:r}})}function Go(e){return e&&typeof e=="object"?Tt(function(r){return ko(e,r)}):void 0}const Ho=[Fo,jo,Go];function Wo(e){return typeof e=="function"?ga(e):void 0}function _o(e){return e?void 0:Tt(function(){return{}})}const zo=[Wo,_o];function Uo(e,r,t){return I({},t,e,r)}function Vo(e){return function(t,n){n.displayName;var a=n.pure,i=n.areMergedPropsEqual,o=!1,l;return function(d,u,s){var v=e(d,u,s);return o?(!a||!i(v,l))&&(l=v):(o=!0,l=v),l}}}function $o(e){return typeof e=="function"?Vo(e):void 0}function qo(e){return e?void 0:function(){return Uo}}const Xo=[$o,qo];var Yo=["initMapStateToProps","initMapDispatchToProps","initMergeProps"];function Ko(e,r,t,n){return function(i,o){return t(e(i,o),r(n,o),o)}}function Jo(e,r,t,n,a){var i=a.areStatesEqual,o=a.areOwnPropsEqual,l=a.areStatePropsEqual,c=!1,d,u,s,v,f;function p(x,D){return d=x,u=D,s=e(d,u),v=r(n,u),f=t(s,v,u),c=!0,f}function g(){return s=e(d,u),r.dependsOnOwnProps&&(v=r(n,u)),f=t(s,v,u),f}function m(){return e.dependsOnOwnProps&&(s=e(d,u)),r.dependsOnOwnProps&&(v=r(n,u)),f=t(s,v,u),f}function b(){var x=e(d,u),D=!l(x,s);return s=x,D&&(f=t(s,v,u)),f}function y(x,D){var P=!o(D,u),E=!i(x,d,D,u);return d=x,u=D,P&&E?g():P?m():E?b():f}return function(D,P){return c?y(D,P):p(D,P)}}function Zo(e,r){var t=r.initMapStateToProps,n=r.initMapDispatchToProps,a=r.initMergeProps,i=Pr(r,Yo),o=t(e,i),l=n(e,i),c=a(e,i),d=i.pure?Jo:Ko;return d(o,l,c,e,i)}var Qo=["pure","areStatesEqual","areOwnPropsEqual","areStatePropsEqual","areMergedPropsEqual"];function it(e,r,t){for(var n=r.length-1;n>=0;n--){var a=r[n](e);if(a)return a}return function(i,o){throw new Error("Invalid value of type "+typeof e+" for "+t+" argument when connecting component "+o.wrappedComponentName+".")}}function el(e,r){return e===r}function rl(e){var r=e===void 0?{}:e,t=r.connectHOC,n=t===void 0?Lo:t,a=r.mapStateToPropsFactories,i=a===void 0?zo:a,o=r.mapDispatchToPropsFactories,l=o===void 0?Ho:o,c=r.mergePropsFactories,d=c===void 0?Xo:c,u=r.selectorFactory,s=u===void 0?Zo:u;return function(f,p,g,m){m===void 0&&(m={});var b=m,y=b.pure,x=y===void 0?!0:y,D=b.areStatesEqual,P=D===void 0?el:D,E=b.areOwnPropsEqual,B=E===void 0?at:E,L=b.areStatePropsEqual,A=L===void 0?at:L,F=b.areMergedPropsEqual,N=F===void 0?at:F,Q=Pr(b,Qo),ee=it(f,i,"mapStateToProps"),G=it(p,l,"mapDispatchToProps"),re=it(g,d,"mergeProps");return n(s,I({methodName:"connect",getDisplayName:function(Be){return"Connect("+Be+")"},shouldHandleStateChanges:!!f,initMapStateToProps:ee,initMapDispatchToProps:G,initMergeProps:re,pure:x,areStatesEqual:P,areOwnPropsEqual:B,areStatePropsEqual:A,areMergedPropsEqual:N},Q))}}const ha=rl();vo(Fi.unstable_batchedUpdates);function tl(e,r){if(e.length!==r.length)return!1;for(var t=0;t<e.length;t++)if(e[t]!==r[t])return!1;return!0}function ma(e,r){var t=C.useState(function(){return{inputs:r,result:e()}})[0],n=C.useRef(!0),a=C.useRef(t),i=n.current||!!(r&&a.current.inputs&&tl(r,a.current.inputs)),o=i?a.current:{inputs:r,result:e()};return C.useEffect(function(){n.current=!1,a.current=o},[o]),o.result}function nl(e,r){return ma(function(){return e},r)}var R=ma,S=nl,al=!0,ot="Invariant failed";function il(e,r){if(!e){if(al)throw new Error(ot);var t=typeof r=="function"?r():r,n=t?"".concat(ot,": ").concat(t):ot;throw new Error(n)}}var se=function(r){var t=r.top,n=r.right,a=r.bottom,i=r.left,o=n-i,l=a-t,c={top:t,right:n,bottom:a,left:i,width:o,height:l,x:i,y:t,center:{x:(n+i)/2,y:(a+t)/2}};return c},Mt=function(r,t){return{top:r.top-t.top,left:r.left-t.left,bottom:r.bottom+t.bottom,right:r.right+t.right}},yn=function(r,t){return{top:r.top+t.top,left:r.left+t.left,bottom:r.bottom-t.bottom,right:r.right-t.right}},ol=function(r,t){return{top:r.top+t.y,left:r.left+t.x,bottom:r.bottom+t.y,right:r.right+t.x}},lt={top:0,right:0,bottom:0,left:0},Lt=function(r){var t=r.borderBox,n=r.margin,a=n===void 0?lt:n,i=r.border,o=i===void 0?lt:i,l=r.padding,c=l===void 0?lt:l,d=se(Mt(t,a)),u=se(yn(t,o)),s=se(yn(u,c));return{marginBox:d,borderBox:se(t),paddingBox:u,contentBox:s,margin:a,border:o,padding:c}},ne=function(r){var t=r.slice(0,-2),n=r.slice(-2);if(n!=="px")return 0;var a=Number(t);return isNaN(a)&&il(!1),a},ll=function(){return{x:window.pageXOffset,y:window.pageYOffset}},Ar=function(r,t){var n=r.borderBox,a=r.border,i=r.margin,o=r.padding,l=ol(n,t);return Lt({borderBox:l,border:a,margin:i,padding:o})},Rr=function(r,t){return t===void 0&&(t=ll()),Ar(r,t)},ba=function(r,t){var n={top:ne(t.marginTop),right:ne(t.marginRight),bottom:ne(t.marginBottom),left:ne(t.marginLeft)},a={top:ne(t.paddingTop),right:ne(t.paddingRight),bottom:ne(t.paddingBottom),left:ne(t.paddingLeft)},i={top:ne(t.borderTopWidth),right:ne(t.borderRightWidth),bottom:ne(t.borderBottomWidth),left:ne(t.borderLeftWidth)};return Lt({borderBox:r,margin:n,padding:a,border:i})},ya=function(r){var t=r.getBoundingClientRect(),n=window.getComputedStyle(r);return ba(t,n)},xn=Number.isNaN||function(r){return typeof r=="number"&&r!==r};function sl(e,r){return!!(e===r||xn(e)&&xn(r))}function cl(e,r){if(e.length!==r.length)return!1;for(var t=0;t<e.length;t++)if(!sl(e[t],r[t]))return!1;return!0}function H(e,r){r===void 0&&(r=cl);var t,n=[],a,i=!1;function o(){for(var l=[],c=0;c<arguments.length;c++)l[c]=arguments[c];return i&&t===this&&r(l,n)||(a=e.apply(this,l),i=!0,t=this,n=l),a}return o}var ul=function(r){var t=[],n=null,a=function(){for(var o=arguments.length,l=new Array(o),c=0;c<o;c++)l[c]=arguments[c];t=l,!n&&(n=requestAnimationFrame(function(){n=null,r.apply(void 0,t)}))};return a.cancel=function(){n&&(cancelAnimationFrame(n),n=null)},a};const Qe=ul;function xa(e,r){}xa.bind(null,"warn");xa.bind(null,"error");function ge(){}function dl(e,r){return I({},e,{},r)}function ie(e,r,t){var n=r.map(function(a){var i=dl(t,a.options);return e.addEventListener(a.eventName,a.fn,i),function(){e.removeEventListener(a.eventName,a.fn,i)}});return function(){n.forEach(function(i){i()})}}var vl="Invariant failed";function Br(e){this.message=e}Br.prototype.toString=function(){return this.message};function w(e,r){if(!e)throw new Br(vl)}var fl=function(e){aa(r,e);function r(){for(var n,a=arguments.length,i=new Array(a),o=0;o<a;o++)i[o]=arguments[o];return n=e.call.apply(e,[this].concat(i))||this,n.callbacks=null,n.unbind=ge,n.onWindowError=function(l){var c=n.getCallbacks();c.isDragging()&&c.tryAbort();var d=l.error;d instanceof Br&&l.preventDefault()},n.getCallbacks=function(){if(!n.callbacks)throw new Error("Unable to find AppCallbacks in <ErrorBoundary/>");return n.callbacks},n.setCallbacks=function(l){n.callbacks=l},n}var t=r.prototype;return t.componentDidMount=function(){this.unbind=ie(window,[{eventName:"error",fn:this.onWindowError}])},t.componentDidCatch=function(a){if(a instanceof Br){this.setState({});return}throw a},t.componentWillUnmount=function(){this.unbind()},t.render=function(){return this.props.children(this.setCallbacks)},r}(M.Component),pl=`
  Press space bar to start a drag.
  When dragging you can use the arrow keys to move the item around and escape to cancel.
  Some screen readers may require you to be in focus mode or to use your pass through key
`,Nr=function(r){return r+1},gl=function(r){return`
  You have lifted an item in position `+Nr(r.source.index)+`
`},Da=function(r,t){var n=r.droppableId===t.droppableId,a=Nr(r.index),i=Nr(t.index);return n?`
      You have moved the item from position `+a+`
      to position `+i+`
    `:`
    You have moved the item from position `+a+`
    in list `+r.droppableId+`
    to list `+t.droppableId+`
    in position `+i+`
  `},wa=function(r,t,n){var a=t.droppableId===n.droppableId;return a?`
      The item `+r+`
      has been combined with `+n.draggableId:`
      The item `+r+`
      in list `+t.droppableId+`
      has been combined with `+n.draggableId+`
      in list `+n.droppableId+`
    `},hl=function(r){var t=r.destination;if(t)return Da(r.source,t);var n=r.combine;return n?wa(r.draggableId,r.source,n):"You are over an area that cannot be dropped on"},Dn=function(r){return`
  The item has returned to its starting position
  of `+Nr(r.index)+`
`},ml=function(r){if(r.reason==="CANCEL")return`
      Movement cancelled.
      `+Dn(r.source)+`
    `;var t=r.destination,n=r.combine;return t?`
      You have dropped the item.
      `+Da(r.source,t)+`
    `:n?`
      You have dropped the item.
      `+wa(r.draggableId,r.source,n)+`
    `:`
    The item has been dropped while not over a drop area.
    `+Dn(r.source)+`
  `},Er={dragHandleUsageInstructions:pl,onDragStart:gl,onDragUpdate:hl,onDragEnd:ml},W={x:0,y:0},z=function(r,t){return{x:r.x+t.x,y:r.y+t.y}},K=function(r,t){return{x:r.x-t.x,y:r.y-t.y}},he=function(r,t){return r.x===t.x&&r.y===t.y},_e=function(r){return{x:r.x!==0?-r.x:0,y:r.y!==0?-r.y:0}},Ae=function(r,t,n){var a;return n===void 0&&(n=0),a={},a[r]=t,a[r==="x"?"y":"x"]=n,a},er=function(r,t){return Math.sqrt(Math.pow(t.x-r.x,2)+Math.pow(t.y-r.y,2))},wn=function(r,t){return Math.min.apply(Math,t.map(function(n){return er(r,n)}))},Ca=function(r){return function(t){return{x:r(t.x),y:r(t.y)}}},bl=function(e,r){var t=se({top:Math.max(r.top,e.top),right:Math.min(r.right,e.right),bottom:Math.min(r.bottom,e.bottom),left:Math.max(r.left,e.left)});return t.width<=0||t.height<=0?null:t},fr=function(r,t){return{top:r.top+t.y,left:r.left+t.x,bottom:r.bottom+t.y,right:r.right+t.x}},Cn=function(r){return[{x:r.left,y:r.top},{x:r.right,y:r.top},{x:r.left,y:r.bottom},{x:r.right,y:r.bottom}]},yl={top:0,right:0,bottom:0,left:0},xl=function(r,t){return t?fr(r,t.scroll.diff.displacement):r},Dl=function(r,t,n){if(n&&n.increasedBy){var a;return I({},r,(a={},a[t.end]=r[t.end]+n.increasedBy[t.line],a))}return r},wl=function(r,t){return t&&t.shouldClipSubject?bl(t.pageMarginBox,r):se(r)},je=function(e){var r=e.page,t=e.withPlaceholder,n=e.axis,a=e.frame,i=xl(r.marginBox,a),o=Dl(i,n,t),l=wl(o,a);return{page:r,withPlaceholder:t,active:l}},kt=function(e,r){e.frame||w(!1);var t=e.frame,n=K(r,t.scroll.initial),a=_e(n),i=I({},t,{scroll:{initial:t.scroll.initial,current:r,diff:{value:n,displacement:a},max:t.scroll.max}}),o=je({page:e.subject.page,withPlaceholder:e.subject.withPlaceholder,axis:e.axis,frame:i}),l=I({},e,{frame:i,subject:o});return l};function Or(e){return Object.values?Object.values(e):Object.keys(e).map(function(r){return e[r]})}function Ft(e,r){if(e.findIndex)return e.findIndex(r);for(var t=0;t<e.length;t++)if(r(e[t]))return t;return-1}function xe(e,r){if(e.find)return e.find(r);var t=Ft(e,r);if(t!==-1)return e[t]}function Sa(e){return Array.prototype.slice.call(e)}var Ia=H(function(e){return e.reduce(function(r,t){return r[t.descriptor.id]=t,r},{})}),Ea=H(function(e){return e.reduce(function(r,t){return r[t.descriptor.id]=t,r},{})}),Wr=H(function(e){return Or(e)}),Cl=H(function(e){return Or(e)}),ze=H(function(e,r){var t=Cl(r).filter(function(n){return e===n.descriptor.droppableId}).sort(function(n,a){return n.descriptor.index-a.descriptor.index});return t});function jt(e){return e.at&&e.at.type==="REORDER"?e.at.destination:null}function _r(e){return e.at&&e.at.type==="COMBINE"?e.at.combine:null}var zr=H(function(e,r){return r.filter(function(t){return t.descriptor.id!==e.descriptor.id})}),Sl=function(e){var r=e.isMovingForward,t=e.draggable,n=e.destination,a=e.insideDestination,i=e.previousImpact;if(!n.isCombineEnabled)return null;var o=jt(i);if(!o)return null;function l(g){var m={type:"COMBINE",combine:{draggableId:g,droppableId:n.descriptor.id}};return I({},i,{at:m})}var c=i.displaced.all,d=c.length?c[0]:null;if(r)return d?l(d):null;var u=zr(t,a);if(!d){if(!u.length)return null;var s=u[u.length-1];return l(s.descriptor.id)}var v=Ft(u,function(g){return g.descriptor.id===d});v===-1&&w(!1);var f=v-1;if(f<0)return null;var p=u[f];return l(p.descriptor.id)},Ue=function(e,r){return e.descriptor.droppableId===r.descriptor.id},Pa={point:W,value:0},rr={invisible:{},visible:{},all:[]},Il={displaced:rr,displacedBy:Pa,at:null},oe=function(e,r){return function(t){return e<=t&&t<=r}},Aa=function(e){var r=oe(e.top,e.bottom),t=oe(e.left,e.right);return function(n){var a=r(n.top)&&r(n.bottom)&&t(n.left)&&t(n.right);if(a)return!0;var i=r(n.top)||r(n.bottom),o=t(n.left)||t(n.right),l=i&&o;if(l)return!0;var c=n.top<e.top&&n.bottom>e.bottom,d=n.left<e.left&&n.right>e.right,u=c&&d;if(u)return!0;var s=c&&o||d&&i;return s}},El=function(e){var r=oe(e.top,e.bottom),t=oe(e.left,e.right);return function(n){var a=r(n.top)&&r(n.bottom)&&t(n.left)&&t(n.right);return a}},Gt={direction:"vertical",line:"y",crossAxisLine:"x",start:"top",end:"bottom",size:"height",crossAxisStart:"left",crossAxisEnd:"right",crossAxisSize:"width"},Ra={direction:"horizontal",line:"x",crossAxisLine:"y",start:"left",end:"right",size:"width",crossAxisStart:"top",crossAxisEnd:"bottom",crossAxisSize:"height"},Pl=function(e){return function(r){var t=oe(r.top,r.bottom),n=oe(r.left,r.right);return function(a){return e===Gt?t(a.top)&&t(a.bottom):n(a.left)&&n(a.right)}}},Al=function(r,t){var n=t.frame?t.frame.scroll.diff.displacement:W;return fr(r,n)},Rl=function(r,t,n){return t.subject.active?n(t.subject.active)(r):!1},Bl=function(r,t,n){return n(t)(r)},Ht=function(r){var t=r.target,n=r.destination,a=r.viewport,i=r.withDroppableDisplacement,o=r.isVisibleThroughFrameFn,l=i?Al(t,n):t;return Rl(l,n,o)&&Bl(l,a,o)},Nl=function(r){return Ht(I({},r,{isVisibleThroughFrameFn:Aa}))},Ba=function(r){return Ht(I({},r,{isVisibleThroughFrameFn:El}))},Ol=function(r){return Ht(I({},r,{isVisibleThroughFrameFn:Pl(r.destination.axis)}))},Tl=function(r,t,n){if(typeof n=="boolean")return n;if(!t)return!0;var a=t.invisible,i=t.visible;if(a[r])return!1;var o=i[r];return o?o.shouldAnimate:!0};function Ml(e,r){var t=e.page.marginBox,n={top:r.point.y,right:0,bottom:0,left:r.point.x};return se(Mt(t,n))}function tr(e){var r=e.afterDragging,t=e.destination,n=e.displacedBy,a=e.viewport,i=e.forceShouldAnimate,o=e.last;return r.reduce(function(c,d){var u=Ml(d,n),s=d.descriptor.id;c.all.push(s);var v=Nl({target:u,destination:t,viewport:a,withDroppableDisplacement:!0});if(!v)return c.invisible[d.descriptor.id]=!0,c;var f=Tl(s,o,i),p={draggableId:s,shouldAnimate:f};return c.visible[s]=p,c},{all:[],visible:{},invisible:{}})}function Ll(e,r){if(!e.length)return 0;var t=e[e.length-1].descriptor.index;return r.inHomeList?t:t+1}function Sn(e){var r=e.insideDestination,t=e.inHomeList,n=e.displacedBy,a=e.destination,i=Ll(r,{inHomeList:t});return{displaced:rr,displacedBy:n,at:{type:"REORDER",destination:{droppableId:a.descriptor.id,index:i}}}}function Tr(e){var r=e.draggable,t=e.insideDestination,n=e.destination,a=e.viewport,i=e.displacedBy,o=e.last,l=e.index,c=e.forceShouldAnimate,d=Ue(r,n);if(l==null)return Sn({insideDestination:t,inHomeList:d,displacedBy:i,destination:n});var u=xe(t,function(g){return g.descriptor.index===l});if(!u)return Sn({insideDestination:t,inHomeList:d,displacedBy:i,destination:n});var s=zr(r,t),v=t.indexOf(u),f=s.slice(v),p=tr({afterDragging:f,destination:n,displacedBy:i,last:o,viewport:a.frame,forceShouldAnimate:c});return{displaced:p,displacedBy:i,at:{type:"REORDER",destination:{droppableId:n.descriptor.id,index:l}}}}function ye(e,r){return!!r.effected[e]}var kl=function(e){var r=e.isMovingForward,t=e.destination,n=e.draggables,a=e.combine,i=e.afterCritical;if(!t.isCombineEnabled)return null;var o=a.draggableId,l=n[o],c=l.descriptor.index,d=ye(o,i);return d?r?c:c-1:r?c+1:c},Fl=function(e){var r=e.isMovingForward,t=e.isInHomeList,n=e.insideDestination,a=e.location;if(!n.length)return null;var i=a.index,o=r?i+1:i-1,l=n[0].descriptor.index,c=n[n.length-1].descriptor.index,d=t?c:c+1;return o<l||o>d?null:o},jl=function(e){var r=e.isMovingForward,t=e.isInHomeList,n=e.draggable,a=e.draggables,i=e.destination,o=e.insideDestination,l=e.previousImpact,c=e.viewport,d=e.afterCritical,u=l.at;if(u||w(!1),u.type==="REORDER"){var s=Fl({isMovingForward:r,isInHomeList:t,location:u.destination,insideDestination:o});return s==null?null:Tr({draggable:n,insideDestination:o,destination:i,viewport:c,last:l.displaced,displacedBy:l.displacedBy,index:s})}var v=kl({isMovingForward:r,destination:i,displaced:l.displaced,draggables:a,combine:u.combine,afterCritical:d});return v==null?null:Tr({draggable:n,insideDestination:o,destination:i,viewport:c,last:l.displaced,displacedBy:l.displacedBy,index:v})},Gl=function(e){var r=e.displaced,t=e.afterCritical,n=e.combineWith,a=e.displacedBy,i=!!(r.visible[n]||r.invisible[n]);return ye(n,t)?i?W:_e(a.point):i?a.point:W},Hl=function(e){var r=e.afterCritical,t=e.impact,n=e.draggables,a=_r(t);a||w(!1);var i=a.draggableId,o=n[i].page.borderBox.center,l=Gl({displaced:t.displaced,afterCritical:r,combineWith:i,displacedBy:t.displacedBy});return z(o,l)},Na=function(r,t){return t.margin[r.start]+t.borderBox[r.size]/2},Wl=function(r,t){return t.margin[r.end]+t.borderBox[r.size]/2},Wt=function(r,t,n){return t[r.crossAxisStart]+n.margin[r.crossAxisStart]+n.borderBox[r.crossAxisSize]/2},In=function(r){var t=r.axis,n=r.moveRelativeTo,a=r.isMoving;return Ae(t.line,n.marginBox[t.end]+Na(t,a),Wt(t,n.marginBox,a))},En=function(r){var t=r.axis,n=r.moveRelativeTo,a=r.isMoving;return Ae(t.line,n.marginBox[t.start]-Wl(t,a),Wt(t,n.marginBox,a))},_l=function(r){var t=r.axis,n=r.moveInto,a=r.isMoving;return Ae(t.line,n.contentBox[t.start]+Na(t,a),Wt(t,n.contentBox,a))},zl=function(e){var r=e.impact,t=e.draggable,n=e.draggables,a=e.droppable,i=e.afterCritical,o=ze(a.descriptor.id,n),l=t.page,c=a.axis;if(!o.length)return _l({axis:c,moveInto:a.page,isMoving:l});var d=r.displaced,u=r.displacedBy,s=d.all[0];if(s){var v=n[s];if(ye(s,i))return En({axis:c,moveRelativeTo:v.page,isMoving:l});var f=Ar(v.page,u.point);return En({axis:c,moveRelativeTo:f,isMoving:l})}var p=o[o.length-1];if(p.descriptor.id===t.descriptor.id)return l.borderBox.center;if(ye(p.descriptor.id,i)){var g=Ar(p.page,_e(i.displacedBy.point));return In({axis:c,moveRelativeTo:g,isMoving:l})}return In({axis:c,moveRelativeTo:p.page,isMoving:l})},wt=function(e,r){var t=e.frame;return t?z(r,t.scroll.diff.displacement):r},Ul=function(r){var t=r.impact,n=r.draggable,a=r.droppable,i=r.draggables,o=r.afterCritical,l=n.page.borderBox.center,c=t.at;return!a||!c?l:c.type==="REORDER"?zl({impact:t,draggable:n,draggables:i,droppable:a,afterCritical:o}):Hl({impact:t,draggables:i,afterCritical:o})},Ur=function(e){var r=Ul(e),t=e.droppable,n=t?wt(t,r):r;return n},Oa=function(e,r){var t=K(r,e.scroll.initial),n=_e(t),a=se({top:r.y,bottom:r.y+e.frame.height,left:r.x,right:r.x+e.frame.width}),i={frame:a,scroll:{initial:e.scroll.initial,max:e.scroll.max,current:r,diff:{value:t,displacement:n}}};return i};function Pn(e,r){return e.map(function(t){return r[t]})}function Vl(e,r){for(var t=0;t<r.length;t++){var n=r[t].visible[e];if(n)return n}return null}var $l=function(e){var r=e.impact,t=e.viewport,n=e.destination,a=e.draggables,i=e.maxScrollChange,o=Oa(t,z(t.scroll.current,i)),l=n.frame?kt(n,z(n.frame.scroll.current,i)):n,c=r.displaced,d=tr({afterDragging:Pn(c.all,a),destination:n,displacedBy:r.displacedBy,viewport:o.frame,last:c,forceShouldAnimate:!1}),u=tr({afterDragging:Pn(c.all,a),destination:l,displacedBy:r.displacedBy,viewport:t.frame,last:c,forceShouldAnimate:!1}),s={},v={},f=[c,d,u];c.all.forEach(function(g){var m=Vl(g,f);if(m){v[g]=m;return}s[g]=!0});var p=I({},r,{displaced:{all:c.all,invisible:s,visible:v}});return p},ql=function(e,r){return z(e.scroll.diff.displacement,r)},_t=function(e){var r=e.pageBorderBoxCenter,t=e.draggable,n=e.viewport,a=ql(n,r),i=K(a,t.page.borderBox.center);return z(t.client.borderBox.center,i)},Ta=function(e){var r=e.draggable,t=e.destination,n=e.newPageBorderBoxCenter,a=e.viewport,i=e.withDroppableDisplacement,o=e.onlyOnMainAxis,l=o===void 0?!1:o,c=K(n,r.page.borderBox.center),d=fr(r.page.borderBox,c),u={target:d,destination:t,withDroppableDisplacement:i,viewport:a};return l?Ol(u):Ba(u)},Xl=function(e){var r=e.isMovingForward,t=e.draggable,n=e.destination,a=e.draggables,i=e.previousImpact,o=e.viewport,l=e.previousPageBorderBoxCenter,c=e.previousClientSelection,d=e.afterCritical;if(!n.isEnabled)return null;var u=ze(n.descriptor.id,a),s=Ue(t,n),v=Sl({isMovingForward:r,draggable:t,destination:n,insideDestination:u,previousImpact:i})||jl({isMovingForward:r,isInHomeList:s,draggable:t,draggables:a,destination:n,insideDestination:u,previousImpact:i,viewport:o,afterCritical:d});if(!v)return null;var f=Ur({impact:v,draggable:t,droppable:n,draggables:a,afterCritical:d}),p=Ta({draggable:t,destination:n,newPageBorderBoxCenter:f,viewport:o.frame,withDroppableDisplacement:!1,onlyOnMainAxis:!0});if(p){var g=_t({pageBorderBoxCenter:f,draggable:t,viewport:o});return{clientSelection:g,impact:v,scrollJumpRequest:null}}var m=K(f,l),b=$l({impact:v,viewport:o,destination:n,draggables:a,maxScrollChange:m});return{clientSelection:c,impact:b,scrollJumpRequest:m}},U=function(r){var t=r.subject.active;return t||w(!1),t},Yl=function(e){var r=e.isMovingForward,t=e.pageBorderBoxCenter,n=e.source,a=e.droppables,i=e.viewport,o=n.subject.active;if(!o)return null;var l=n.axis,c=oe(o[l.start],o[l.end]),d=Wr(a).filter(function(s){return s!==n}).filter(function(s){return s.isEnabled}).filter(function(s){return!!s.subject.active}).filter(function(s){return Aa(i.frame)(U(s))}).filter(function(s){var v=U(s);return r?o[l.crossAxisEnd]<v[l.crossAxisEnd]:v[l.crossAxisStart]<o[l.crossAxisStart]}).filter(function(s){var v=U(s),f=oe(v[l.start],v[l.end]);return c(v[l.start])||c(v[l.end])||f(o[l.start])||f(o[l.end])}).sort(function(s,v){var f=U(s)[l.crossAxisStart],p=U(v)[l.crossAxisStart];return r?f-p:p-f}).filter(function(s,v,f){return U(s)[l.crossAxisStart]===U(f[0])[l.crossAxisStart]});if(!d.length)return null;if(d.length===1)return d[0];var u=d.filter(function(s){var v=oe(U(s)[l.start],U(s)[l.end]);return v(t[l.line])});return u.length===1?u[0]:u.length>1?u.sort(function(s,v){return U(s)[l.start]-U(v)[l.start]})[0]:d.sort(function(s,v){var f=wn(t,Cn(U(s))),p=wn(t,Cn(U(v)));return f!==p?f-p:U(s)[l.start]-U(v)[l.start]})[0]},An=function(r,t){var n=r.page.borderBox.center;return ye(r.descriptor.id,t)?K(n,t.displacedBy.point):n},Kl=function(r,t){var n=r.page.borderBox;return ye(r.descriptor.id,t)?fr(n,_e(t.displacedBy.point)):n},Jl=function(e){var r=e.pageBorderBoxCenter,t=e.viewport,n=e.destination,a=e.insideDestination,i=e.afterCritical,o=a.filter(function(l){return Ba({target:Kl(l,i),destination:n,viewport:t.frame,withDroppableDisplacement:!0})}).sort(function(l,c){var d=er(r,wt(n,An(l,i))),u=er(r,wt(n,An(c,i)));return d<u?-1:u<d?1:l.descriptor.index-c.descriptor.index});return o[0]||null},pr=H(function(r,t){var n=t[r.line];return{value:n,point:Ae(r.line,n)}}),Zl=function(r,t,n){var a=r.axis;if(r.descriptor.mode==="virtual")return Ae(a.line,t[a.line]);var i=r.subject.page.contentBox[a.size],o=ze(r.descriptor.id,n),l=o.reduce(function(u,s){return u+s.client.marginBox[a.size]},0),c=l+t[a.line],d=c-i;return d<=0?null:Ae(a.line,d)},Ma=function(r,t){return I({},r,{scroll:I({},r.scroll,{max:t})})},La=function(r,t,n){var a=r.frame;Ue(t,r)&&w(!1),r.subject.withPlaceholder&&w(!1);var i=pr(r.axis,t.displaceBy).point,o=Zl(r,i,n),l={placeholderSize:i,increasedBy:o,oldFrameMaxScroll:r.frame?r.frame.scroll.max:null};if(!a){var c=je({page:r.subject.page,withPlaceholder:l,axis:r.axis,frame:r.frame});return I({},r,{subject:c})}var d=o?z(a.scroll.max,o):a.scroll.max,u=Ma(a,d),s=je({page:r.subject.page,withPlaceholder:l,axis:r.axis,frame:u});return I({},r,{subject:s,frame:u})},Ql=function(r){var t=r.subject.withPlaceholder;t||w(!1);var n=r.frame;if(!n){var a=je({page:r.subject.page,axis:r.axis,frame:null,withPlaceholder:null});return I({},r,{subject:a})}var i=t.oldFrameMaxScroll;i||w(!1);var o=Ma(n,i),l=je({page:r.subject.page,axis:r.axis,frame:o,withPlaceholder:null});return I({},r,{subject:l,frame:o})},es=function(e){var r=e.previousPageBorderBoxCenter,t=e.moveRelativeTo,n=e.insideDestination,a=e.draggable,i=e.draggables,o=e.destination,l=e.viewport,c=e.afterCritical;if(!t){if(n.length)return null;var d={displaced:rr,displacedBy:Pa,at:{type:"REORDER",destination:{droppableId:o.descriptor.id,index:0}}},u=Ur({impact:d,draggable:a,droppable:o,draggables:i,afterCritical:c}),s=Ue(a,o)?o:La(o,a,i),v=Ta({draggable:a,destination:s,newPageBorderBoxCenter:u,viewport:l.frame,withDroppableDisplacement:!1,onlyOnMainAxis:!0});return v?d:null}var f=r[o.axis.line]<=t.page.borderBox.center[o.axis.line],p=function(){var m=t.descriptor.index;return t.descriptor.id===a.descriptor.id||f?m:m+1}(),g=pr(o.axis,a.displaceBy);return Tr({draggable:a,insideDestination:n,destination:o,viewport:l,displacedBy:g,last:rr,index:p})},rs=function(e){var r=e.isMovingForward,t=e.previousPageBorderBoxCenter,n=e.draggable,a=e.isOver,i=e.draggables,o=e.droppables,l=e.viewport,c=e.afterCritical,d=Yl({isMovingForward:r,pageBorderBoxCenter:t,source:a,droppables:o,viewport:l});if(!d)return null;var u=ze(d.descriptor.id,i),s=Jl({pageBorderBoxCenter:t,viewport:l,destination:d,insideDestination:u,afterCritical:c}),v=es({previousPageBorderBoxCenter:t,destination:d,draggable:n,draggables:i,moveRelativeTo:s,insideDestination:u,viewport:l,afterCritical:c});if(!v)return null;var f=Ur({impact:v,draggable:n,droppable:d,draggables:i,afterCritical:c}),p=_t({pageBorderBoxCenter:f,draggable:n,viewport:l});return{clientSelection:p,impact:v,scrollJumpRequest:null}},J=function(e){var r=e.at;return r?r.type==="REORDER"?r.destination.droppableId:r.combine.droppableId:null},ts=function(r,t){var n=J(r);return n?t[n]:null},ns=function(e){var r=e.state,t=e.type,n=ts(r.impact,r.dimensions.droppables),a=!!n,i=r.dimensions.droppables[r.critical.droppable.id],o=n||i,l=o.axis.direction,c=l==="vertical"&&(t==="MOVE_UP"||t==="MOVE_DOWN")||l==="horizontal"&&(t==="MOVE_LEFT"||t==="MOVE_RIGHT");if(c&&!a)return null;var d=t==="MOVE_DOWN"||t==="MOVE_RIGHT",u=r.dimensions.draggables[r.critical.draggable.id],s=r.current.page.borderBoxCenter,v=r.dimensions,f=v.draggables,p=v.droppables;return c?Xl({isMovingForward:d,previousPageBorderBoxCenter:s,draggable:u,destination:o,draggables:f,viewport:r.viewport,previousClientSelection:r.current.client.selection,previousImpact:r.impact,afterCritical:r.afterCritical}):rs({isMovingForward:d,previousPageBorderBoxCenter:s,draggable:u,isOver:o,draggables:f,droppables:p,viewport:r.viewport,afterCritical:r.afterCritical})};function Se(e){return e.phase==="DRAGGING"||e.phase==="COLLECTING"}function ka(e){var r=oe(e.top,e.bottom),t=oe(e.left,e.right);return function(a){return r(a.y)&&t(a.x)}}function as(e,r){return e.left<r.right&&e.right>r.left&&e.top<r.bottom&&e.bottom>r.top}function is(e){var r=e.pageBorderBox,t=e.draggable,n=e.candidates,a=t.page.borderBox.center,i=n.map(function(o){var l=o.axis,c=Ae(o.axis.line,r.center[l.line],o.page.borderBox.center[l.crossAxisLine]);return{id:o.descriptor.id,distance:er(a,c)}}).sort(function(o,l){return l.distance-o.distance});return i[0]?i[0].id:null}function os(e){var r=e.pageBorderBox,t=e.draggable,n=e.droppables,a=Wr(n).filter(function(i){if(!i.isEnabled)return!1;var o=i.subject.active;if(!o||!as(r,o))return!1;if(ka(o)(r.center))return!0;var l=i.axis,c=o.center[l.crossAxisLine],d=r[l.crossAxisStart],u=r[l.crossAxisEnd],s=oe(o[l.crossAxisStart],o[l.crossAxisEnd]),v=s(d),f=s(u);return!v&&!f?!0:v?d<c:u>c});return a.length?a.length===1?a[0].descriptor.id:is({pageBorderBox:r,draggable:t,candidates:a}):null}var Fa=function(r,t){return se(fr(r,t))},ls=function(e,r){var t=e.frame;return t?Fa(r,t.scroll.diff.value):r};function ja(e){var r=e.displaced,t=e.id;return!!(r.visible[t]||r.invisible[t])}function ss(e){var r=e.draggable,t=e.closest,n=e.inHomeList;return t?n&&t.descriptor.index>r.descriptor.index?t.descriptor.index-1:t.descriptor.index:null}var cs=function(e){var r=e.pageBorderBoxWithDroppableScroll,t=e.draggable,n=e.destination,a=e.insideDestination,i=e.last,o=e.viewport,l=e.afterCritical,c=n.axis,d=pr(n.axis,t.displaceBy),u=d.value,s=r[c.start],v=r[c.end],f=zr(t,a),p=xe(f,function(m){var b=m.descriptor.id,y=m.page.borderBox.center[c.line],x=ye(b,l),D=ja({displaced:i,id:b});return x?D?v<=y:s<y-u:D?v<=y+u:s<y}),g=ss({draggable:t,closest:p,inHomeList:Ue(t,n)});return Tr({draggable:t,insideDestination:a,destination:n,viewport:o,last:i,displacedBy:d,index:g})},us=4,ds=function(e){var r=e.draggable,t=e.pageBorderBoxWithDroppableScroll,n=e.previousImpact,a=e.destination,i=e.insideDestination,o=e.afterCritical;if(!a.isCombineEnabled)return null;var l=a.axis,c=pr(a.axis,r.displaceBy),d=c.value,u=t[l.start],s=t[l.end],v=zr(r,i),f=xe(v,function(g){var m=g.descriptor.id,b=g.page.borderBox,y=b[l.size],x=y/us,D=ye(m,o),P=ja({displaced:n.displaced,id:m});return D?P?s>b[l.start]+x&&s<b[l.end]-x:u>b[l.start]-d+x&&u<b[l.end]-d-x:P?s>b[l.start]+d+x&&s<b[l.end]+d-x:u>b[l.start]+x&&u<b[l.end]-x});if(!f)return null;var p={displacedBy:c,displaced:n.displaced,at:{type:"COMBINE",combine:{draggableId:f.descriptor.id,droppableId:a.descriptor.id}}};return p},Ga=function(e){var r=e.pageOffset,t=e.draggable,n=e.draggables,a=e.droppables,i=e.previousImpact,o=e.viewport,l=e.afterCritical,c=Fa(t.page.borderBox,r),d=os({pageBorderBox:c,draggable:t,droppables:a});if(!d)return Il;var u=a[d],s=ze(u.descriptor.id,n),v=ls(u,c);return ds({pageBorderBoxWithDroppableScroll:v,draggable:t,previousImpact:i,destination:u,insideDestination:s,afterCritical:l})||cs({pageBorderBoxWithDroppableScroll:v,draggable:t,destination:u,insideDestination:s,last:i.displaced,viewport:o,afterCritical:l})},zt=function(e,r){var t;return I({},e,(t={},t[r.descriptor.id]=r,t))},vs=function(r){var t=r.previousImpact,n=r.impact,a=r.droppables,i=J(t),o=J(n);if(!i||i===o)return a;var l=a[i];if(!l.subject.withPlaceholder)return a;var c=Ql(l);return zt(a,c)},fs=function(e){var r=e.draggable,t=e.draggables,n=e.droppables,a=e.previousImpact,i=e.impact,o=vs({previousImpact:a,impact:i,droppables:n}),l=J(i);if(!l)return o;var c=n[l];if(Ue(r,c)||c.subject.withPlaceholder)return o;var d=La(c,r,t);return zt(o,d)},Je=function(e){var r=e.state,t=e.clientSelection,n=e.dimensions,a=e.viewport,i=e.impact,o=e.scrollJumpRequest,l=a||r.viewport,c=n||r.dimensions,d=t||r.current.client.selection,u=K(d,r.initial.client.selection),s={offset:u,selection:d,borderBoxCenter:z(r.initial.client.borderBoxCenter,u)},v={selection:z(s.selection,l.scroll.current),borderBoxCenter:z(s.borderBoxCenter,l.scroll.current),offset:z(s.offset,l.scroll.diff.value)},f={client:s,page:v};if(r.phase==="COLLECTING")return I({phase:"COLLECTING"},r,{dimensions:c,viewport:l,current:f});var p=c.draggables[r.critical.draggable.id],g=i||Ga({pageOffset:v.offset,draggable:p,draggables:c.draggables,droppables:c.droppables,previousImpact:r.impact,viewport:l,afterCritical:r.afterCritical}),m=fs({draggable:p,impact:g,previousImpact:r.impact,draggables:c.draggables,droppables:c.droppables}),b=I({},r,{current:f,dimensions:{draggables:c.draggables,droppables:m},impact:g,viewport:l,scrollJumpRequest:o||null,forceShouldAnimate:o?!1:null});return b};function ps(e,r){return e.map(function(t){return r[t]})}var Ha=function(e){var r=e.impact,t=e.viewport,n=e.draggables,a=e.destination,i=e.forceShouldAnimate,o=r.displaced,l=ps(o.all,n),c=tr({afterDragging:l,destination:a,displacedBy:r.displacedBy,viewport:t.frame,forceShouldAnimate:i,last:o});return I({},r,{displaced:c})},Wa=function(e){var r=e.impact,t=e.draggable,n=e.droppable,a=e.draggables,i=e.viewport,o=e.afterCritical,l=Ur({impact:r,draggable:t,draggables:a,droppable:n,afterCritical:o});return _t({pageBorderBoxCenter:l,draggable:t,viewport:i})},_a=function(e){var r=e.state,t=e.dimensions,n=e.viewport;r.movementMode!=="SNAP"&&w(!1);var a=r.impact,i=n||r.viewport,o=t||r.dimensions,l=o.draggables,c=o.droppables,d=l[r.critical.draggable.id],u=J(a);u||w(!1);var s=c[u],v=Ha({impact:a,viewport:i,destination:s,draggables:l}),f=Wa({impact:v,draggable:d,droppable:s,draggables:l,viewport:i,afterCritical:r.afterCritical});return Je({impact:v,clientSelection:f,state:r,dimensions:o,viewport:i})},gs=function(e){return{index:e.index,droppableId:e.droppableId}},za=function(e){var r=e.draggable,t=e.home,n=e.draggables,a=e.viewport,i=pr(t.axis,r.displaceBy),o=ze(t.descriptor.id,n),l=o.indexOf(r);l===-1&&w(!1);var c=o.slice(l+1),d=c.reduce(function(f,p){return f[p.descriptor.id]=!0,f},{}),u={inVirtualList:t.descriptor.mode==="virtual",displacedBy:i,effected:d},s=tr({afterDragging:c,destination:t,displacedBy:i,last:null,viewport:a.frame,forceShouldAnimate:!1}),v={displaced:s,displacedBy:i,at:{type:"REORDER",destination:gs(r.descriptor)}};return{impact:v,afterCritical:u}},hs=function(e,r){return{draggables:e.draggables,droppables:zt(e.droppables,r)}},ms=function(e){var r=e.draggable,t=e.offset,n=e.initialWindowScroll,a=Ar(r.client,t),i=Rr(a,n),o=I({},r,{placeholder:I({},r.placeholder,{client:a}),client:a,page:i});return o},bs=function(e){var r=e.frame;return r||w(!1),r},ys=function(e){var r=e.additions,t=e.updatedDroppables,n=e.viewport,a=n.scroll.diff.value;return r.map(function(i){var o=i.descriptor.droppableId,l=t[o],c=bs(l),d=c.scroll.diff.value,u=z(a,d),s=ms({draggable:i,offset:u,initialWindowScroll:n.scroll.initial});return s})},xs=function(e){var r=e.state,t=e.published,n=t.modified.map(function(x){var D=r.dimensions.droppables[x.droppableId],P=kt(D,x.scroll);return P}),a=I({},r.dimensions.droppables,{},Ia(n)),i=Ea(ys({additions:t.additions,updatedDroppables:a,viewport:r.viewport})),o=I({},r.dimensions.draggables,{},i);t.removals.forEach(function(x){delete o[x]});var l={droppables:a,draggables:o},c=J(r.impact),d=c?l.droppables[c]:null,u=l.draggables[r.critical.draggable.id],s=l.droppables[r.critical.droppable.id],v=za({draggable:u,home:s,draggables:o,viewport:r.viewport}),f=v.impact,p=v.afterCritical,g=d&&d.isCombineEnabled?r.impact:f,m=Ga({pageOffset:r.current.page.offset,draggable:l.draggables[r.critical.draggable.id],draggables:l.draggables,droppables:l.droppables,previousImpact:g,viewport:r.viewport,afterCritical:p}),b=I({phase:"DRAGGING"},r,{phase:"DRAGGING",impact:m,onLiftImpact:f,dimensions:l,afterCritical:p,forceShouldAnimate:!1});if(r.phase==="COLLECTING")return b;var y=I({phase:"DROP_PENDING"},b,{phase:"DROP_PENDING",reason:r.reason,isWaiting:!1});return y},Ct=function(r){return r.movementMode==="SNAP"},st=function(r,t,n){var a=hs(r.dimensions,t);return!Ct(r)||n?Je({state:r,dimensions:a}):_a({state:r,dimensions:a})};function ct(e){return e.isDragging&&e.movementMode==="SNAP"?I({phase:"DRAGGING"},e,{scrollJumpRequest:null}):e}var Rn={phase:"IDLE",completed:null,shouldFlush:!1},Ds=function(e,r){if(e===void 0&&(e=Rn),r.type==="FLUSH")return I({},Rn,{shouldFlush:!0});if(r.type==="INITIAL_PUBLISH"){e.phase!=="IDLE"&&w(!1);var t=r.payload,n=t.critical,a=t.clientSelection,i=t.viewport,o=t.dimensions,l=t.movementMode,c=o.draggables[n.draggable.id],d=o.droppables[n.droppable.id],u={selection:a,borderBoxCenter:c.client.borderBox.center,offset:W},s={client:u,page:{selection:z(u.selection,i.scroll.initial),borderBoxCenter:z(u.selection,i.scroll.initial),offset:z(u.selection,i.scroll.diff.value)}},v=Wr(o.droppables).every(function(Qr){return!Qr.isFixedOnPage}),f=za({draggable:c,home:d,draggables:o.draggables,viewport:i}),p=f.impact,g=f.afterCritical,m={phase:"DRAGGING",isDragging:!0,critical:n,movementMode:l,dimensions:o,initial:s,current:s,isWindowScrollAllowed:v,impact:p,afterCritical:g,onLiftImpact:p,viewport:i,scrollJumpRequest:null,forceShouldAnimate:null};return m}if(r.type==="COLLECTION_STARTING"){if(e.phase==="COLLECTING"||e.phase==="DROP_PENDING")return e;e.phase!=="DRAGGING"&&w(!1);var b=I({phase:"COLLECTING"},e,{phase:"COLLECTING"});return b}if(r.type==="PUBLISH_WHILE_DRAGGING")return e.phase==="COLLECTING"||e.phase==="DROP_PENDING"||w(!1),xs({state:e,published:r.payload});if(r.type==="MOVE"){if(e.phase==="DROP_PENDING")return e;Se(e)||w(!1);var y=r.payload.client;return he(y,e.current.client.selection)?e:Je({state:e,clientSelection:y,impact:Ct(e)?e.impact:null})}if(r.type==="UPDATE_DROPPABLE_SCROLL"){if(e.phase==="DROP_PENDING"||e.phase==="COLLECTING")return ct(e);Se(e)||w(!1);var x=r.payload,D=x.id,P=x.newScroll,E=e.dimensions.droppables[D];if(!E)return e;var B=kt(E,P);return st(e,B,!1)}if(r.type==="UPDATE_DROPPABLE_IS_ENABLED"){if(e.phase==="DROP_PENDING")return e;Se(e)||w(!1);var L=r.payload,A=L.id,F=L.isEnabled,N=e.dimensions.droppables[A];N||w(!1),N.isEnabled===F&&w(!1);var Q=I({},N,{isEnabled:F});return st(e,Q,!0)}if(r.type==="UPDATE_DROPPABLE_IS_COMBINE_ENABLED"){if(e.phase==="DROP_PENDING")return e;Se(e)||w(!1);var ee=r.payload,G=ee.id,re=ee.isCombineEnabled,te=e.dimensions.droppables[G];te||w(!1),te.isCombineEnabled===re&&w(!1);var Be=I({},te,{isCombineEnabled:re});return st(e,Be,!0)}if(r.type==="MOVE_BY_WINDOW_SCROLL"){if(e.phase==="DROP_PENDING"||e.phase==="DROP_ANIMATING")return e;Se(e)||w(!1),e.isWindowScrollAllowed||w(!1);var ve=r.payload.newScroll;if(he(e.viewport.scroll.current,ve))return ct(e);var Ne=Oa(e.viewport,ve);return Ct(e)?_a({state:e,viewport:Ne}):Je({state:e,viewport:Ne})}if(r.type==="UPDATE_VIEWPORT_MAX_SCROLL"){if(!Se(e))return e;var le=r.payload.maxScroll;if(he(le,e.viewport.scroll.max))return e;var De=I({},e.viewport,{scroll:I({},e.viewport.scroll,{max:le})});return I({phase:"DRAGGING"},e,{viewport:De})}if(r.type==="MOVE_UP"||r.type==="MOVE_DOWN"||r.type==="MOVE_LEFT"||r.type==="MOVE_RIGHT"){if(e.phase==="COLLECTING"||e.phase==="DROP_PENDING")return e;e.phase!=="DRAGGING"&&w(!1);var Y=ns({state:e,type:r.type});return Y?Je({state:e,impact:Y.impact,clientSelection:Y.clientSelection,scrollJumpRequest:Y.scrollJumpRequest}):e}if(r.type==="DROP_PENDING"){var Ve=r.payload.reason;e.phase!=="COLLECTING"&&w(!1);var gr=I({phase:"DROP_PENDING"},e,{phase:"DROP_PENDING",isWaiting:!0,reason:Ve});return gr}if(r.type==="DROP_ANIMATE"){var fe=r.payload,hr=fe.completed,mr=fe.dropDuration,br=fe.newHomeClientOffset;e.phase==="DRAGGING"||e.phase==="DROP_PENDING"||w(!1);var Zr={phase:"DROP_ANIMATING",completed:hr,dropDuration:mr,newHomeClientOffset:br,dimensions:e.dimensions};return Zr}if(r.type==="DROP_COMPLETE"){var Oe=r.payload.completed;return{phase:"IDLE",completed:Oe,shouldFlush:!1}}return e},ws=function(r){return{type:"BEFORE_INITIAL_CAPTURE",payload:r}},Cs=function(r){return{type:"LIFT",payload:r}},Ss=function(r){return{type:"INITIAL_PUBLISH",payload:r}},Is=function(r){return{type:"PUBLISH_WHILE_DRAGGING",payload:r}},Es=function(){return{type:"COLLECTION_STARTING",payload:null}},Ps=function(r){return{type:"UPDATE_DROPPABLE_SCROLL",payload:r}},As=function(r){return{type:"UPDATE_DROPPABLE_IS_ENABLED",payload:r}},Rs=function(r){return{type:"UPDATE_DROPPABLE_IS_COMBINE_ENABLED",payload:r}},Ua=function(r){return{type:"MOVE",payload:r}},Bs=function(r){return{type:"MOVE_BY_WINDOW_SCROLL",payload:r}},Ns=function(r){return{type:"UPDATE_VIEWPORT_MAX_SCROLL",payload:r}},Os=function(){return{type:"MOVE_UP",payload:null}},Ts=function(){return{type:"MOVE_DOWN",payload:null}},Ms=function(){return{type:"MOVE_RIGHT",payload:null}},Ls=function(){return{type:"MOVE_LEFT",payload:null}},Ut=function(){return{type:"FLUSH",payload:null}},ks=function(r){return{type:"DROP_ANIMATE",payload:r}},Vt=function(r){return{type:"DROP_COMPLETE",payload:r}},Va=function(r){return{type:"DROP",payload:r}},Fs=function(r){return{type:"DROP_PENDING",payload:r}},$a=function(){return{type:"DROP_ANIMATION_FINISHED",payload:null}},js=function(e){return function(r){var t=r.getState,n=r.dispatch;return function(a){return function(i){if(i.type!=="LIFT"){a(i);return}var o=i.payload,l=o.id,c=o.clientSelection,d=o.movementMode,u=t();u.phase==="DROP_ANIMATING"&&n(Vt({completed:u.completed})),t().phase!=="IDLE"&&w(!1),n(Ut()),n(ws({draggableId:l,movementMode:d}));var s={shouldPublishImmediately:d==="SNAP"},v={draggableId:l,scrollOptions:s},f=e.startPublishing(v),p=f.critical,g=f.dimensions,m=f.viewport;n(Ss({critical:p,dimensions:g,clientSelection:c,movementMode:d,viewport:m}))}}}},Gs=function(e){return function(){return function(r){return function(t){t.type==="INITIAL_PUBLISH"&&e.dragging(),t.type==="DROP_ANIMATE"&&e.dropping(t.payload.completed.result.reason),(t.type==="FLUSH"||t.type==="DROP_COMPLETE")&&e.resting(),r(t)}}}},$t={outOfTheWay:"cubic-bezier(0.2, 0, 0, 1)",drop:"cubic-bezier(.2,1,.1,1)"},nr={opacity:{drop:0,combining:.7},scale:{drop:.75}},qt={outOfTheWay:.2,minDropTime:.33,maxDropTime:.55},we=qt.outOfTheWay+"s "+$t.outOfTheWay,Ze={fluid:"opacity "+we,snap:"transform "+we+", opacity "+we,drop:function(r){var t=r+"s "+$t.drop;return"transform "+t+", opacity "+t},outOfTheWay:"transform "+we,placeholder:"height "+we+", width "+we+", margin "+we},Bn=function(r){return he(r,W)?null:"translate("+r.x+"px, "+r.y+"px)"},St={moveTo:Bn,drop:function(r,t){var n=Bn(r);return n?t?n+" scale("+nr.scale.drop+")":n:null}},It=qt.minDropTime,qa=qt.maxDropTime,Hs=qa-It,Nn=1500,Ws=.6,_s=function(e){var r=e.current,t=e.destination,n=e.reason,a=er(r,t);if(a<=0)return It;if(a>=Nn)return qa;var i=a/Nn,o=It+Hs*i,l=n==="CANCEL"?o*Ws:o;return Number(l.toFixed(2))},zs=function(e){var r=e.impact,t=e.draggable,n=e.dimensions,a=e.viewport,i=e.afterCritical,o=n.draggables,l=n.droppables,c=J(r),d=c?l[c]:null,u=l[t.descriptor.droppableId],s=Wa({impact:r,draggable:t,draggables:o,afterCritical:i,droppable:d||u,viewport:a}),v=K(s,t.client.borderBox.center);return v},Us=function(e){var r=e.draggables,t=e.reason,n=e.lastImpact,a=e.home,i=e.viewport,o=e.onLiftImpact;if(!n.at||t!=="DROP"){var l=Ha({draggables:r,impact:o,destination:a,viewport:i,forceShouldAnimate:!0});return{impact:l,didDropInsideDroppable:!1}}if(n.at.type==="REORDER")return{impact:n,didDropInsideDroppable:!0};var c=I({},n,{displaced:rr});return{impact:c,didDropInsideDroppable:!0}},Vs=function(e){var r=e.getState,t=e.dispatch;return function(n){return function(a){if(a.type!=="DROP"){n(a);return}var i=r(),o=a.payload.reason;if(i.phase==="COLLECTING"){t(Fs({reason:o}));return}if(i.phase!=="IDLE"){var l=i.phase==="DROP_PENDING"&&i.isWaiting;l&&w(!1),i.phase==="DRAGGING"||i.phase==="DROP_PENDING"||w(!1);var c=i.critical,d=i.dimensions,u=d.draggables[i.critical.draggable.id],s=Us({reason:o,lastImpact:i.impact,afterCritical:i.afterCritical,onLiftImpact:i.onLiftImpact,home:i.dimensions.droppables[i.critical.droppable.id],viewport:i.viewport,draggables:i.dimensions.draggables}),v=s.impact,f=s.didDropInsideDroppable,p=f?jt(v):null,g=f?_r(v):null,m={index:c.draggable.index,droppableId:c.droppable.id},b={draggableId:u.descriptor.id,type:u.descriptor.type,source:m,reason:o,mode:i.movementMode,destination:p,combine:g},y=zs({impact:v,draggable:u,dimensions:d,viewport:i.viewport,afterCritical:i.afterCritical}),x={critical:i.critical,afterCritical:i.afterCritical,result:b,impact:v},D=!he(i.current.client.offset,y)||!!b.combine;if(!D){t(Vt({completed:x}));return}var P=_s({current:i.current.client.offset,destination:y,reason:o}),E={newHomeClientOffset:y,dropDuration:P,completed:x};t(ks(E))}}}},Xa=function(){return{x:window.pageXOffset,y:window.pageYOffset}};function $s(e){return{eventName:"scroll",options:{passive:!0,capture:!1},fn:function(t){t.target!==window&&t.target!==window.document||e()}}}function qs(e){var r=e.onWindowScroll;function t(){r(Xa())}var n=Qe(t),a=$s(n),i=ge;function o(){return i!==ge}function l(){o()&&w(!1),i=ie(window,[a])}function c(){o()||w(!1),n.cancel(),i(),i=ge}return{start:l,stop:c,isActive:o}}var Xs=function(r){return r.type==="DROP_COMPLETE"||r.type==="DROP_ANIMATE"||r.type==="FLUSH"},Ys=function(e){var r=qs({onWindowScroll:function(n){e.dispatch(Bs({newScroll:n}))}});return function(t){return function(n){!r.isActive()&&n.type==="INITIAL_PUBLISH"&&r.start(),r.isActive()&&Xs(n)&&r.stop(),t(n)}}},Ks=function(e){var r=!1,t=!1,n=setTimeout(function(){t=!0}),a=function(o){r||t||(r=!0,e(o),clearTimeout(n))};return a.wasCalled=function(){return r},a},Js=function(){var e=[],r=function(i){var o=Ft(e,function(d){return d.timerId===i});o===-1&&w(!1);var l=e.splice(o,1),c=l[0];c.callback()},t=function(i){var o=setTimeout(function(){return r(o)}),l={timerId:o,callback:i};e.push(l)},n=function(){if(e.length){var i=[].concat(e);e.length=0,i.forEach(function(o){clearTimeout(o.timerId),o.callback()})}};return{add:t,flush:n}},Zs=function(r,t){return r==null&&t==null?!0:r==null||t==null?!1:r.droppableId===t.droppableId&&r.index===t.index},Qs=function(r,t){return r==null&&t==null?!0:r==null||t==null?!1:r.draggableId===t.draggableId&&r.droppableId===t.droppableId},ec=function(r,t){if(r===t)return!0;var n=r.draggable.id===t.draggable.id&&r.draggable.droppableId===t.draggable.droppableId&&r.draggable.type===t.draggable.type&&r.draggable.index===t.draggable.index,a=r.droppable.id===t.droppable.id&&r.droppable.type===t.droppable.type;return n&&a},qe=function(r,t){t()},xr=function(r,t){return{draggableId:r.draggable.id,type:r.droppable.type,source:{droppableId:r.droppable.id,index:r.draggable.index},mode:t}},ut=function(r,t,n,a){if(!r){n(a(t));return}var i=Ks(n),o={announce:i};r(t,o),i.wasCalled()||n(a(t))},rc=function(e,r){var t=Js(),n=null,a=function(v,f){n&&w(!1),qe("onBeforeCapture",function(){var p=e().onBeforeCapture;if(p){var g={draggableId:v,mode:f};p(g)}})},i=function(v,f){n&&w(!1),qe("onBeforeDragStart",function(){var p=e().onBeforeDragStart;p&&p(xr(v,f))})},o=function(v,f){n&&w(!1);var p=xr(v,f);n={mode:f,lastCritical:v,lastLocation:p.source,lastCombine:null},t.add(function(){qe("onDragStart",function(){return ut(e().onDragStart,p,r,Er.onDragStart)})})},l=function(v,f){var p=jt(f),g=_r(f);n||w(!1);var m=!ec(v,n.lastCritical);m&&(n.lastCritical=v);var b=!Zs(n.lastLocation,p);b&&(n.lastLocation=p);var y=!Qs(n.lastCombine,g);if(y&&(n.lastCombine=g),!(!m&&!b&&!y)){var x=I({},xr(v,n.mode),{combine:g,destination:p});t.add(function(){qe("onDragUpdate",function(){return ut(e().onDragUpdate,x,r,Er.onDragUpdate)})})}},c=function(){n||w(!1),t.flush()},d=function(v){n||w(!1),n=null,qe("onDragEnd",function(){return ut(e().onDragEnd,v,r,Er.onDragEnd)})},u=function(){if(n){var v=I({},xr(n.lastCritical,n.mode),{combine:null,destination:null,reason:"CANCEL"});d(v)}};return{beforeCapture:a,beforeStart:i,start:o,update:l,flush:c,drop:d,abort:u}},tc=function(e,r){var t=rc(e,r);return function(n){return function(a){return function(i){if(i.type==="BEFORE_INITIAL_CAPTURE"){t.beforeCapture(i.payload.draggableId,i.payload.movementMode);return}if(i.type==="INITIAL_PUBLISH"){var o=i.payload.critical;t.beforeStart(o,i.payload.movementMode),a(i),t.start(o,i.payload.movementMode);return}if(i.type==="DROP_COMPLETE"){var l=i.payload.completed.result;t.flush(),a(i),t.drop(l);return}if(a(i),i.type==="FLUSH"){t.abort();return}var c=n.getState();c.phase==="DRAGGING"&&t.update(c.critical,c.impact)}}}},nc=function(e){return function(r){return function(t){if(t.type!=="DROP_ANIMATION_FINISHED"){r(t);return}var n=e.getState();n.phase!=="DROP_ANIMATING"&&w(!1),e.dispatch(Vt({completed:n.completed}))}}},ac=function(e){var r=null,t=null;function n(){t&&(cancelAnimationFrame(t),t=null),r&&(r(),r=null)}return function(a){return function(i){if((i.type==="FLUSH"||i.type==="DROP_COMPLETE"||i.type==="DROP_ANIMATION_FINISHED")&&n(),a(i),i.type==="DROP_ANIMATE"){var o={eventName:"scroll",options:{capture:!0,passive:!1,once:!0},fn:function(){var c=e.getState();c.phase==="DROP_ANIMATING"&&e.dispatch($a())}};t=requestAnimationFrame(function(){t=null,r=ie(window,[o])})}}}},ic=function(e){return function(){return function(r){return function(t){(t.type==="DROP_COMPLETE"||t.type==="FLUSH"||t.type==="DROP_ANIMATE")&&e.stopPublishing(),r(t)}}}},oc=function(e){var r=!1;return function(){return function(t){return function(n){if(n.type==="INITIAL_PUBLISH"){r=!0,e.tryRecordFocus(n.payload.critical.draggable.id),t(n),e.tryRestoreFocusRecorded();return}if(t(n),!!r){if(n.type==="FLUSH"){r=!1,e.tryRestoreFocusRecorded();return}if(n.type==="DROP_COMPLETE"){r=!1;var a=n.payload.completed.result;a.combine&&e.tryShiftRecord(a.draggableId,a.combine.draggableId),e.tryRestoreFocusRecorded()}}}}}},lc=function(r){return r.type==="DROP_COMPLETE"||r.type==="DROP_ANIMATE"||r.type==="FLUSH"},sc=function(e){return function(r){return function(t){return function(n){if(lc(n)){e.stop(),t(n);return}if(n.type==="INITIAL_PUBLISH"){t(n);var a=r.getState();a.phase!=="DRAGGING"&&w(!1),e.start(a);return}t(n),e.scroll(r.getState())}}}},cc=function(e){return function(r){return function(t){if(r(t),t.type==="PUBLISH_WHILE_DRAGGING"){var n=e.getState();n.phase==="DROP_PENDING"&&(n.isWaiting||e.dispatch(Va({reason:n.reason})))}}}},uc=Wi,dc=function(e){var r=e.dimensionMarshal,t=e.focusMarshal,n=e.styleMarshal,a=e.getResponders,i=e.announce,o=e.autoScroller;return Gi(Ds,uc(Hi(Gs(n),ic(r),js(r),Vs,nc,ac,cc,sc(o),Ys,oc(t),tc(a,i))))},dt=function(){return{additions:{},removals:{},modified:{}}};function vc(e){var r=e.registry,t=e.callbacks,n=dt(),a=null,i=function(){a||(t.collectionStarting(),a=requestAnimationFrame(function(){a=null;var u=n,s=u.additions,v=u.removals,f=u.modified,p=Object.keys(s).map(function(b){return r.draggable.getById(b).getDimension(W)}).sort(function(b,y){return b.descriptor.index-y.descriptor.index}),g=Object.keys(f).map(function(b){var y=r.droppable.getById(b),x=y.callbacks.getScrollWhileDragging();return{droppableId:b,scroll:x}}),m={additions:p,removals:Object.keys(v),modified:g};n=dt(),t.publish(m)}))},o=function(u){var s=u.descriptor.id;n.additions[s]=u,n.modified[u.descriptor.droppableId]=!0,n.removals[s]&&delete n.removals[s],i()},l=function(u){var s=u.descriptor;n.removals[s.id]=!0,n.modified[s.droppableId]=!0,n.additions[s.id]&&delete n.additions[s.id],i()},c=function(){a&&(cancelAnimationFrame(a),a=null,n=dt())};return{add:o,remove:l,stop:c}}var Ya=function(e){var r=e.scrollHeight,t=e.scrollWidth,n=e.height,a=e.width,i=K({x:t,y:r},{x:a,y:n}),o={x:Math.max(0,i.x),y:Math.max(0,i.y)};return o},Ka=function(){var e=document.documentElement;return e||w(!1),e},Ja=function(){var e=Ka(),r=Ya({scrollHeight:e.scrollHeight,scrollWidth:e.scrollWidth,width:e.clientWidth,height:e.clientHeight});return r},fc=function(){var e=Xa(),r=Ja(),t=e.y,n=e.x,a=Ka(),i=a.clientWidth,o=a.clientHeight,l=n+i,c=t+o,d=se({top:t,left:n,right:l,bottom:c}),u={frame:d,scroll:{initial:e,current:e,max:r,diff:{value:W,displacement:W}}};return u},pc=function(e){var r=e.critical,t=e.scrollOptions,n=e.registry,a=fc(),i=a.scroll.current,o=r.droppable,l=n.droppable.getAllByType(o.type).map(function(s){return s.callbacks.getDimensionAndWatchScroll(i,t)}),c=n.draggable.getAllByType(r.draggable.type).map(function(s){return s.getDimension(i)}),d={draggables:Ea(c),droppables:Ia(l)},u={dimensions:d,critical:r,viewport:a};return u};function On(e,r,t){if(t.descriptor.id===r.id||t.descriptor.type!==r.type)return!1;var n=e.droppable.getById(t.descriptor.droppableId);return n.descriptor.mode==="virtual"}var gc=function(e,r){var t=null,n=vc({callbacks:{publish:r.publishWhileDragging,collectionStarting:r.collectionStarting},registry:e}),a=function(f,p){e.droppable.exists(f)||w(!1),t&&r.updateDroppableIsEnabled({id:f,isEnabled:p})},i=function(f,p){t&&(e.droppable.exists(f)||w(!1),r.updateDroppableIsCombineEnabled({id:f,isCombineEnabled:p}))},o=function(f,p){t&&(e.droppable.exists(f)||w(!1),r.updateDroppableScroll({id:f,newScroll:p}))},l=function(f,p){t&&e.droppable.getById(f).callbacks.scroll(p)},c=function(){if(t){n.stop();var f=t.critical.droppable;e.droppable.getAllByType(f.type).forEach(function(p){return p.callbacks.dragStopped()}),t.unsubscribe(),t=null}},d=function(f){t||w(!1);var p=t.critical.draggable;f.type==="ADDITION"&&On(e,p,f.value)&&n.add(f.value),f.type==="REMOVAL"&&On(e,p,f.value)&&n.remove(f.value)},u=function(f){t&&w(!1);var p=e.draggable.getById(f.draggableId),g=e.droppable.getById(p.descriptor.droppableId),m={draggable:p.descriptor,droppable:g.descriptor},b=e.subscribe(d);return t={critical:m,unsubscribe:b},pc({critical:m,registry:e,scrollOptions:f.scrollOptions})},s={updateDroppableIsEnabled:a,updateDroppableIsCombineEnabled:i,scrollDroppable:l,updateDroppableScroll:o,startPublishing:u,stopPublishing:c};return s},Za=function(e,r){return e.phase==="IDLE"?!0:e.phase!=="DROP_ANIMATING"||e.completed.result.draggableId===r?!1:e.completed.result.reason==="DROP"},hc=function(e){window.scrollBy(e.x,e.y)},mc=H(function(e){return Wr(e).filter(function(r){return!(!r.isEnabled||!r.frame)})}),bc=function(r,t){var n=xe(mc(t),function(a){return a.frame||w(!1),ka(a.frame.pageMarginBox)(r)});return n},yc=function(e){var r=e.center,t=e.destination,n=e.droppables;if(t){var a=n[t];return a.frame?a:null}var i=bc(r,n);return i},me={startFromPercentage:.25,maxScrollAtPercentage:.05,maxPixelScroll:28,ease:function(r){return Math.pow(r,2)},durationDampening:{stopDampeningAt:1200,accelerateAt:360}},xc=function(e,r){var t=e[r.size]*me.startFromPercentage,n=e[r.size]*me.maxScrollAtPercentage,a={startScrollingFrom:t,maxScrollValueAt:n};return a},Qa=function(e){var r=e.startOfRange,t=e.endOfRange,n=e.current,a=t-r;if(a===0)return 0;var i=n-r,o=i/a;return o},Xt=1,Dc=function(e,r){if(e>r.startScrollingFrom)return 0;if(e<=r.maxScrollValueAt)return me.maxPixelScroll;if(e===r.startScrollingFrom)return Xt;var t=Qa({startOfRange:r.maxScrollValueAt,endOfRange:r.startScrollingFrom,current:e}),n=1-t,a=me.maxPixelScroll*me.ease(n);return Math.ceil(a)},Tn=me.durationDampening.accelerateAt,Mn=me.durationDampening.stopDampeningAt,wc=function(e,r){var t=r,n=Mn,a=Date.now(),i=a-t;if(i>=Mn)return e;if(i<Tn)return Xt;var o=Qa({startOfRange:Tn,endOfRange:n,current:i}),l=e*me.ease(o);return Math.ceil(l)},Ln=function(e){var r=e.distanceToEdge,t=e.thresholds,n=e.dragStartTime,a=e.shouldUseTimeDampening,i=Dc(r,t);return i===0?0:a?Math.max(wc(i,n),Xt):i},kn=function(e){var r=e.container,t=e.distanceToEdges,n=e.dragStartTime,a=e.axis,i=e.shouldUseTimeDampening,o=xc(r,a),l=t[a.end]<t[a.start];return l?Ln({distanceToEdge:t[a.end],thresholds:o,dragStartTime:n,shouldUseTimeDampening:i}):-1*Ln({distanceToEdge:t[a.start],thresholds:o,dragStartTime:n,shouldUseTimeDampening:i})},Cc=function(e){var r=e.container,t=e.subject,n=e.proposedScroll,a=t.height>r.height,i=t.width>r.width;return!i&&!a?n:i&&a?null:{x:i?0:n.x,y:a?0:n.y}},Sc=Ca(function(e){return e===0?0:e}),ei=function(e){var r=e.dragStartTime,t=e.container,n=e.subject,a=e.center,i=e.shouldUseTimeDampening,o={top:a.y-t.top,right:t.right-a.x,bottom:t.bottom-a.y,left:a.x-t.left},l=kn({container:t,distanceToEdges:o,dragStartTime:r,axis:Gt,shouldUseTimeDampening:i}),c=kn({container:t,distanceToEdges:o,dragStartTime:r,axis:Ra,shouldUseTimeDampening:i}),d=Sc({x:c,y:l});if(he(d,W))return null;var u=Cc({container:t,subject:n,proposedScroll:d});return u?he(u,W)?null:u:null},Ic=Ca(function(e){return e===0?0:e>0?1:-1}),Yt=function(){var e=function(t,n){return t<0?t:t>n?t-n:0};return function(r){var t=r.current,n=r.max,a=r.change,i=z(t,a),o={x:e(i.x,n.x),y:e(i.y,n.y)};return he(o,W)?null:o}}(),ri=function(r){var t=r.max,n=r.current,a=r.change,i={x:Math.max(n.x,t.x),y:Math.max(n.y,t.y)},o=Ic(a),l=Yt({max:i,current:n,change:o});return!l||o.x!==0&&l.x===0||o.y!==0&&l.y===0},Kt=function(r,t){return ri({current:r.scroll.current,max:r.scroll.max,change:t})},Ec=function(r,t){if(!Kt(r,t))return null;var n=r.scroll.max,a=r.scroll.current;return Yt({current:a,max:n,change:t})},Jt=function(r,t){var n=r.frame;return n?ri({current:n.scroll.current,max:n.scroll.max,change:t}):!1},Pc=function(r,t){var n=r.frame;return!n||!Jt(r,t)?null:Yt({current:n.scroll.current,max:n.scroll.max,change:t})},Ac=function(e){var r=e.viewport,t=e.subject,n=e.center,a=e.dragStartTime,i=e.shouldUseTimeDampening,o=ei({dragStartTime:a,container:r.frame,subject:t,center:n,shouldUseTimeDampening:i});return o&&Kt(r,o)?o:null},Rc=function(e){var r=e.droppable,t=e.subject,n=e.center,a=e.dragStartTime,i=e.shouldUseTimeDampening,o=r.frame;if(!o)return null;var l=ei({dragStartTime:a,container:o.pageMarginBox,subject:t,center:n,shouldUseTimeDampening:i});return l&&Jt(r,l)?l:null},Fn=function(e){var r=e.state,t=e.dragStartTime,n=e.shouldUseTimeDampening,a=e.scrollWindow,i=e.scrollDroppable,o=r.current.page.borderBoxCenter,l=r.dimensions.draggables[r.critical.draggable.id],c=l.page.marginBox;if(r.isWindowScrollAllowed){var d=r.viewport,u=Ac({dragStartTime:t,viewport:d,subject:c,center:o,shouldUseTimeDampening:n});if(u){a(u);return}}var s=yc({center:o,destination:J(r.impact),droppables:r.dimensions.droppables});if(s){var v=Rc({dragStartTime:t,droppable:s,subject:c,center:o,shouldUseTimeDampening:n});v&&i(s.descriptor.id,v)}},Bc=function(e){var r=e.scrollWindow,t=e.scrollDroppable,n=Qe(r),a=Qe(t),i=null,o=function(u){i||w(!1);var s=i,v=s.shouldUseTimeDampening,f=s.dragStartTime;Fn({state:u,scrollWindow:n,scrollDroppable:a,dragStartTime:f,shouldUseTimeDampening:v})},l=function(u){i&&w(!1);var s=Date.now(),v=!1,f=function(){v=!0};Fn({state:u,dragStartTime:0,shouldUseTimeDampening:!1,scrollWindow:f,scrollDroppable:f}),i={dragStartTime:s,shouldUseTimeDampening:v},v&&o(u)},c=function(){i&&(n.cancel(),a.cancel(),i=null)};return{start:l,stop:c,scroll:o}},Nc=function(e){var r=e.move,t=e.scrollDroppable,n=e.scrollWindow,a=function(d,u){var s=z(d.current.client.selection,u);r({client:s})},i=function(d,u){if(!Jt(d,u))return u;var s=Pc(d,u);if(!s)return t(d.descriptor.id,u),null;var v=K(u,s);t(d.descriptor.id,v);var f=K(u,v);return f},o=function(d,u,s){if(!d||!Kt(u,s))return s;var v=Ec(u,s);if(!v)return n(s),null;var f=K(s,v);n(f);var p=K(s,f);return p},l=function(d){var u=d.scrollJumpRequest;if(u){var s=J(d.impact);s||w(!1);var v=i(d.dimensions.droppables[s],u);if(v){var f=d.viewport,p=o(d.isWindowScrollAllowed,f,v);p&&a(d,p)}}};return l},Oc=function(e){var r=e.scrollDroppable,t=e.scrollWindow,n=e.move,a=Bc({scrollWindow:t,scrollDroppable:r}),i=Nc({move:n,scrollWindow:t,scrollDroppable:r}),o=function(d){if(d.phase==="DRAGGING"){if(d.movementMode==="FLUID"){a.scroll(d);return}d.scrollJumpRequest&&i(d)}},l={scroll:o,start:a.start,stop:a.stop};return l},Ge="data-rbd",He=function(){var e=Ge+"-drag-handle";return{base:e,draggableId:e+"-draggable-id",contextId:e+"-context-id"}}(),Et=function(){var e=Ge+"-draggable";return{base:e,contextId:e+"-context-id",id:e+"-id"}}(),Tc=function(){var e=Ge+"-droppable";return{base:e,contextId:e+"-context-id",id:e+"-id"}}(),jn={contextId:Ge+"-scroll-container-context-id"},Mc=function(r){return function(t){return"["+t+'="'+r+'"]'}},Xe=function(r,t){return r.map(function(n){var a=n.styles[t];return a?n.selector+" { "+a+" }":""}).join(" ")},Lc="pointer-events: none;",kc=function(e){var r=Mc(e),t=function(){var l=`
      cursor: -webkit-grab;
      cursor: grab;
    `;return{selector:r(He.contextId),styles:{always:`
          -webkit-touch-callout: none;
          -webkit-tap-highlight-color: rgba(0,0,0,0);
          touch-action: manipulation;
        `,resting:l,dragging:Lc,dropAnimating:l}}}(),n=function(){var l=`
      transition: `+Ze.outOfTheWay+`;
    `;return{selector:r(Et.contextId),styles:{dragging:l,dropAnimating:l,userCancel:l}}}(),a={selector:r(Tc.contextId),styles:{always:"overflow-anchor: none;"}},i={selector:"body",styles:{dragging:`
        cursor: grabbing;
        cursor: -webkit-grabbing;
        user-select: none;
        -webkit-user-select: none;
        -moz-user-select: none;
        -ms-user-select: none;
        overflow-anchor: none;
      `}},o=[n,t,a,i];return{always:Xe(o,"always"),resting:Xe(o,"resting"),dragging:Xe(o,"dragging"),dropAnimating:Xe(o,"dropAnimating"),userCancel:Xe(o,"userCancel")}},Z=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u"?C.useLayoutEffect:C.useEffect,vt=function(){var r=document.querySelector("head");return r||w(!1),r},Gn=function(r){var t=document.createElement("style");return r&&t.setAttribute("nonce",r),t.type="text/css",t};function Fc(e,r){var t=R(function(){return kc(e)},[e]),n=C.useRef(null),a=C.useRef(null),i=S(H(function(s){var v=a.current;v||w(!1),v.textContent=s}),[]),o=S(function(s){var v=n.current;v||w(!1),v.textContent=s},[]);Z(function(){!n.current&&!a.current||w(!1);var s=Gn(r),v=Gn(r);return n.current=s,a.current=v,s.setAttribute(Ge+"-always",e),v.setAttribute(Ge+"-dynamic",e),vt().appendChild(s),vt().appendChild(v),o(t.always),i(t.resting),function(){var f=function(g){var m=g.current;m||w(!1),vt().removeChild(m),g.current=null};f(n),f(a)}},[r,o,i,t.always,t.resting,e]);var l=S(function(){return i(t.dragging)},[i,t.dragging]),c=S(function(s){if(s==="DROP"){i(t.dropAnimating);return}i(t.userCancel)},[i,t.dropAnimating,t.userCancel]),d=S(function(){a.current&&i(t.resting)},[i,t.resting]),u=R(function(){return{dragging:l,dropping:c,resting:d}},[l,c,d]);return u}var ti=function(e){return e&&e.ownerDocument?e.ownerDocument.defaultView:window};function Vr(e){return e instanceof ti(e).HTMLElement}function jc(e,r){var t="["+He.contextId+'="'+e+'"]',n=Sa(document.querySelectorAll(t));if(!n.length)return null;var a=xe(n,function(i){return i.getAttribute(He.draggableId)===r});return!a||!Vr(a)?null:a}function Gc(e){var r=C.useRef({}),t=C.useRef(null),n=C.useRef(null),a=C.useRef(!1),i=S(function(v,f){var p={id:v,focus:f};return r.current[v]=p,function(){var m=r.current,b=m[v];b!==p&&delete m[v]}},[]),o=S(function(v){var f=jc(e,v);f&&f!==document.activeElement&&f.focus()},[e]),l=S(function(v,f){t.current===v&&(t.current=f)},[]),c=S(function(){n.current||a.current&&(n.current=requestAnimationFrame(function(){n.current=null;var v=t.current;v&&o(v)}))},[o]),d=S(function(v){t.current=null;var f=document.activeElement;f&&f.getAttribute(He.draggableId)===v&&(t.current=v)},[]);Z(function(){return a.current=!0,function(){a.current=!1;var v=n.current;v&&cancelAnimationFrame(v)}},[]);var u=R(function(){return{register:i,tryRecordFocus:d,tryRestoreFocusRecorded:c,tryShiftRecord:l}},[i,d,c,l]);return u}function Hc(){var e={draggables:{},droppables:{}},r=[];function t(s){return r.push(s),function(){var f=r.indexOf(s);f!==-1&&r.splice(f,1)}}function n(s){r.length&&r.forEach(function(v){return v(s)})}function a(s){return e.draggables[s]||null}function i(s){var v=a(s);return v||w(!1),v}var o={register:function(v){e.draggables[v.descriptor.id]=v,n({type:"ADDITION",value:v})},update:function(v,f){var p=e.draggables[f.descriptor.id];p&&p.uniqueId===v.uniqueId&&(delete e.draggables[f.descriptor.id],e.draggables[v.descriptor.id]=v)},unregister:function(v){var f=v.descriptor.id,p=a(f);p&&v.uniqueId===p.uniqueId&&(delete e.draggables[f],n({type:"REMOVAL",value:v}))},getById:i,findById:a,exists:function(v){return!!a(v)},getAllByType:function(v){return Or(e.draggables).filter(function(f){return f.descriptor.type===v})}};function l(s){return e.droppables[s]||null}function c(s){var v=l(s);return v||w(!1),v}var d={register:function(v){e.droppables[v.descriptor.id]=v},unregister:function(v){var f=l(v.descriptor.id);f&&v.uniqueId===f.uniqueId&&delete e.droppables[v.descriptor.id]},getById:c,findById:l,exists:function(v){return!!l(v)},getAllByType:function(v){return Or(e.droppables).filter(function(f){return f.descriptor.type===v})}};function u(){e.draggables={},e.droppables={},r.length=0}return{draggable:o,droppable:d,subscribe:t,clean:u}}function Wc(){var e=R(Hc,[]);return C.useEffect(function(){return function(){requestAnimationFrame(e.clean)}},[e]),e}var Zt=M.createContext(null),Mr=function(){var e=document.body;return e||w(!1),e},_c={position:"absolute",width:"1px",height:"1px",margin:"-1px",border:"0",padding:"0",overflow:"hidden",clip:"rect(0 0 0 0)","clip-path":"inset(100%)"},zc=function(r){return"rbd-announcement-"+r};function Uc(e){var r=R(function(){return zc(e)},[e]),t=C.useRef(null);C.useEffect(function(){var i=document.createElement("div");return t.current=i,i.id=r,i.setAttribute("aria-live","assertive"),i.setAttribute("aria-atomic","true"),I(i.style,_c),Mr().appendChild(i),function(){setTimeout(function(){var c=Mr();c.contains(i)&&c.removeChild(i),i===t.current&&(t.current=null)})}},[r]);var n=S(function(a){var i=t.current;if(i){i.textContent=a;return}},[]);return n}var Vc=0,$c={separator:"::"};function Qt(e,r){return r===void 0&&(r=$c),R(function(){return""+e+r.separator+Vc++},[r.separator,e])}function qc(e){var r=e.contextId,t=e.uniqueId;return"rbd-hidden-text-"+r+"-"+t}function Xc(e){var r=e.contextId,t=e.text,n=Qt("hidden-text",{separator:"-"}),a=R(function(){return qc({contextId:r,uniqueId:n})},[n,r]);return C.useEffect(function(){var o=document.createElement("div");return o.id=a,o.textContent=t,o.style.display="none",Mr().appendChild(o),function(){var c=Mr();c.contains(o)&&c.removeChild(o)}},[a,t]),a}var $r=M.createContext(null);function ni(e){var r=C.useRef(e);return C.useEffect(function(){r.current=e}),r}function Yc(){var e=null;function r(){return!!e}function t(o){return o===e}function n(o){e&&w(!1);var l={abandon:o};return e=l,l}function a(){e||w(!1),e=null}function i(){e&&(e.abandon(),a())}return{isClaimed:r,isActive:t,claim:n,release:a,tryAbandon:i}}var Kc=9,Jc=13,en=27,ai=32,Zc=33,Qc=34,eu=35,ru=36,tu=37,nu=38,au=39,iu=40,Dr,ou=(Dr={},Dr[Jc]=!0,Dr[Kc]=!0,Dr),ii=function(e){ou[e.keyCode]&&e.preventDefault()},qr=function(){var e="visibilitychange";if(typeof document>"u")return e;var r=[e,"ms"+e,"webkit"+e,"moz"+e,"o"+e],t=xe(r,function(n){return"on"+n in document});return t||e}(),oi=0,Hn=5;function lu(e,r){return Math.abs(r.x-e.x)>=Hn||Math.abs(r.y-e.y)>=Hn}var Wn={type:"IDLE"};function su(e){var r=e.cancel,t=e.completed,n=e.getPhase,a=e.setPhase;return[{eventName:"mousemove",fn:function(o){var l=o.button,c=o.clientX,d=o.clientY;if(l===oi){var u={x:c,y:d},s=n();if(s.type==="DRAGGING"){o.preventDefault(),s.actions.move(u);return}s.type!=="PENDING"&&w(!1);var v=s.point;if(lu(v,u)){o.preventDefault();var f=s.actions.fluidLift(u);a({type:"DRAGGING",actions:f})}}}},{eventName:"mouseup",fn:function(o){var l=n();if(l.type!=="DRAGGING"){r();return}o.preventDefault(),l.actions.drop({shouldBlockNextClick:!0}),t()}},{eventName:"mousedown",fn:function(o){n().type==="DRAGGING"&&o.preventDefault(),r()}},{eventName:"keydown",fn:function(o){var l=n();if(l.type==="PENDING"){r();return}if(o.keyCode===en){o.preventDefault(),r();return}ii(o)}},{eventName:"resize",fn:r},{eventName:"scroll",options:{passive:!0,capture:!1},fn:function(){n().type==="PENDING"&&r()}},{eventName:"webkitmouseforcedown",fn:function(o){var l=n();if(l.type==="IDLE"&&w(!1),l.actions.shouldRespectForcePress()){r();return}o.preventDefault()}},{eventName:qr,fn:r}]}function cu(e){var r=C.useRef(Wn),t=C.useRef(ge),n=R(function(){return{eventName:"mousedown",fn:function(s){if(!s.defaultPrevented&&s.button===oi&&!(s.ctrlKey||s.metaKey||s.shiftKey||s.altKey)){var v=e.findClosestDraggableId(s);if(v){var f=e.tryGetLock(v,o,{sourceEvent:s});if(f){s.preventDefault();var p={x:s.clientX,y:s.clientY};t.current(),d(f,p)}}}}}},[e]),a=R(function(){return{eventName:"webkitmouseforcewillbegin",fn:function(s){if(!s.defaultPrevented){var v=e.findClosestDraggableId(s);if(v){var f=e.findOptionsForDraggable(v);f&&(f.shouldRespectForcePress||e.canGetLock(v)&&s.preventDefault())}}}}},[e]),i=S(function(){var s={passive:!1,capture:!0};t.current=ie(window,[a,n],s)},[a,n]),o=S(function(){var u=r.current;u.type!=="IDLE"&&(r.current=Wn,t.current(),i())},[i]),l=S(function(){var u=r.current;o(),u.type==="DRAGGING"&&u.actions.cancel({shouldBlockNextClick:!0}),u.type==="PENDING"&&u.actions.abort()},[o]),c=S(function(){var s={capture:!0,passive:!1},v=su({cancel:l,completed:o,getPhase:function(){return r.current},setPhase:function(p){r.current=p}});t.current=ie(window,v,s)},[l,o]),d=S(function(s,v){r.current.type!=="IDLE"&&w(!1),r.current={type:"PENDING",point:v,actions:s},c()},[c]);Z(function(){return i(),function(){t.current()}},[i])}var Te;function uu(){}var du=(Te={},Te[Qc]=!0,Te[Zc]=!0,Te[ru]=!0,Te[eu]=!0,Te);function vu(e,r){function t(){r(),e.cancel()}function n(){r(),e.drop()}return[{eventName:"keydown",fn:function(i){if(i.keyCode===en){i.preventDefault(),t();return}if(i.keyCode===ai){i.preventDefault(),n();return}if(i.keyCode===iu){i.preventDefault(),e.moveDown();return}if(i.keyCode===nu){i.preventDefault(),e.moveUp();return}if(i.keyCode===au){i.preventDefault(),e.moveRight();return}if(i.keyCode===tu){i.preventDefault(),e.moveLeft();return}if(du[i.keyCode]){i.preventDefault();return}ii(i)}},{eventName:"mousedown",fn:t},{eventName:"mouseup",fn:t},{eventName:"click",fn:t},{eventName:"touchstart",fn:t},{eventName:"resize",fn:t},{eventName:"wheel",fn:t,options:{passive:!0}},{eventName:qr,fn:t}]}function fu(e){var r=C.useRef(uu),t=R(function(){return{eventName:"keydown",fn:function(i){if(i.defaultPrevented||i.keyCode!==ai)return;var o=e.findClosestDraggableId(i);if(!o)return;var l=e.tryGetLock(o,u,{sourceEvent:i});if(!l)return;i.preventDefault();var c=!0,d=l.snapLift();r.current();function u(){c||w(!1),c=!1,r.current(),n()}r.current=ie(window,vu(d,u),{capture:!0,passive:!1})}}},[e]),n=S(function(){var i={passive:!1,capture:!0};r.current=ie(window,[t],i)},[t]);Z(function(){return n(),function(){r.current()}},[n])}var ft={type:"IDLE"},pu=120,gu=.15;function hu(e){var r=e.cancel,t=e.getPhase;return[{eventName:"orientationchange",fn:r},{eventName:"resize",fn:r},{eventName:"contextmenu",fn:function(a){a.preventDefault()}},{eventName:"keydown",fn:function(a){if(t().type!=="DRAGGING"){r();return}a.keyCode===en&&a.preventDefault(),r()}},{eventName:qr,fn:r}]}function mu(e){var r=e.cancel,t=e.completed,n=e.getPhase;return[{eventName:"touchmove",options:{capture:!1},fn:function(i){var o=n();if(o.type!=="DRAGGING"){r();return}o.hasMoved=!0;var l=i.touches[0],c=l.clientX,d=l.clientY,u={x:c,y:d};i.preventDefault(),o.actions.move(u)}},{eventName:"touchend",fn:function(i){var o=n();if(o.type!=="DRAGGING"){r();return}i.preventDefault(),o.actions.drop({shouldBlockNextClick:!0}),t()}},{eventName:"touchcancel",fn:function(i){if(n().type!=="DRAGGING"){r();return}i.preventDefault(),r()}},{eventName:"touchforcechange",fn:function(i){var o=n();o.type==="IDLE"&&w(!1);var l=i.touches[0];if(l){var c=l.force>=gu;if(c){var d=o.actions.shouldRespectForcePress();if(o.type==="PENDING"){d&&r();return}if(d){if(o.hasMoved){i.preventDefault();return}r();return}i.preventDefault()}}}},{eventName:qr,fn:r}]}function bu(e){var r=C.useRef(ft),t=C.useRef(ge),n=S(function(){return r.current},[]),a=S(function(f){r.current=f},[]),i=R(function(){return{eventName:"touchstart",fn:function(f){if(!f.defaultPrevented){var p=e.findClosestDraggableId(f);if(p){var g=e.tryGetLock(p,l,{sourceEvent:f});if(g){var m=f.touches[0],b=m.clientX,y=m.clientY,x={x:b,y};t.current(),s(g,x)}}}}}},[e]),o=S(function(){var f={capture:!0,passive:!1};t.current=ie(window,[i],f)},[i]),l=S(function(){var v=r.current;v.type!=="IDLE"&&(v.type==="PENDING"&&clearTimeout(v.longPressTimerId),a(ft),t.current(),o())},[o,a]),c=S(function(){var v=r.current;l(),v.type==="DRAGGING"&&v.actions.cancel({shouldBlockNextClick:!0}),v.type==="PENDING"&&v.actions.abort()},[l]),d=S(function(){var f={capture:!0,passive:!1},p={cancel:c,completed:l,getPhase:n},g=ie(window,mu(p),f),m=ie(window,hu(p),f);t.current=function(){g(),m()}},[c,n,l]),u=S(function(){var f=n();f.type!=="PENDING"&&w(!1);var p=f.actions.fluidLift(f.point);a({type:"DRAGGING",actions:p,hasMoved:!1})},[n,a]),s=S(function(f,p){n().type!=="IDLE"&&w(!1);var g=setTimeout(u,pu);a({type:"PENDING",point:p,actions:f,longPressTimerId:g}),d()},[d,n,a,u]);Z(function(){return o(),function(){t.current();var p=n();p.type==="PENDING"&&(clearTimeout(p.longPressTimerId),a(ft))}},[n,o,a]),Z(function(){var f=ie(window,[{eventName:"touchmove",fn:function(){},options:{capture:!1,passive:!1}}]);return f},[])}var yu={input:!0,button:!0,textarea:!0,select:!0,option:!0,optgroup:!0,video:!0,audio:!0};function li(e,r){if(r==null)return!1;var t=!!yu[r.tagName.toLowerCase()];if(t)return!0;var n=r.getAttribute("contenteditable");return n==="true"||n===""?!0:r===e?!1:li(e,r.parentElement)}function xu(e,r){var t=r.target;return Vr(t)?li(e,t):!1}var Du=function(e){return se(e.getBoundingClientRect()).center};function wu(e){return e instanceof ti(e).Element}var Cu=function(){var e="matches";if(typeof document>"u")return e;var r=[e,"msMatchesSelector","webkitMatchesSelector"],t=xe(r,function(n){return n in Element.prototype});return t||e}();function si(e,r){return e==null?null:e[Cu](r)?e:si(e.parentElement,r)}function Su(e,r){return e.closest?e.closest(r):si(e,r)}function Iu(e){return"["+He.contextId+'="'+e+'"]'}function Eu(e,r){var t=r.target;if(!wu(t))return null;var n=Iu(e),a=Su(t,n);return!a||!Vr(a)?null:a}function Pu(e,r){var t=Eu(e,r);return t?t.getAttribute(He.draggableId):null}function Au(e,r){var t="["+Et.contextId+'="'+e+'"]',n=Sa(document.querySelectorAll(t)),a=xe(n,function(i){return i.getAttribute(Et.id)===r});return!a||!Vr(a)?null:a}function Ru(e){e.preventDefault()}function wr(e){var r=e.expected,t=e.phase,n=e.isLockActive;return e.shouldWarn,!(!n()||r!==t)}function ci(e){var r=e.lockAPI,t=e.store,n=e.registry,a=e.draggableId;if(r.isClaimed())return!1;var i=n.draggable.findById(a);return!(!i||!i.options.isEnabled||!Za(t.getState(),a))}function Bu(e){var r=e.lockAPI,t=e.contextId,n=e.store,a=e.registry,i=e.draggableId,o=e.forceSensorStop,l=e.sourceEvent,c=ci({lockAPI:r,store:n,registry:a,draggableId:i});if(!c)return null;var d=a.draggable.getById(i),u=Au(t,d.descriptor.id);if(!u||l&&!d.options.canDragInteractiveElements&&xu(u,l))return null;var s=r.claim(o||ge),v="PRE_DRAG";function f(){return d.options.shouldRespectForcePress}function p(){return r.isActive(s)}function g(E,B){wr({expected:E,phase:v,isLockActive:p,shouldWarn:!0})&&n.dispatch(B())}var m=g.bind(null,"DRAGGING");function b(E){function B(){r.release(),v="COMPLETED"}v!=="PRE_DRAG"&&(B(),v!=="PRE_DRAG"&&w(!1)),n.dispatch(Cs(E.liftActionArgs)),v="DRAGGING";function L(A,F){if(F===void 0&&(F={shouldBlockNextClick:!1}),E.cleanup(),F.shouldBlockNextClick){var N=ie(window,[{eventName:"click",fn:Ru,options:{once:!0,passive:!1,capture:!0}}]);setTimeout(N)}B(),n.dispatch(Va({reason:A}))}return I({isActive:function(){return wr({expected:"DRAGGING",phase:v,isLockActive:p,shouldWarn:!1})},shouldRespectForcePress:f,drop:function(F){return L("DROP",F)},cancel:function(F){return L("CANCEL",F)}},E.actions)}function y(E){var B=Qe(function(A){m(function(){return Ua({client:A})})}),L=b({liftActionArgs:{id:i,clientSelection:E,movementMode:"FLUID"},cleanup:function(){return B.cancel()},actions:{move:B}});return I({},L,{move:B})}function x(){var E={moveUp:function(){return m(Os)},moveRight:function(){return m(Ms)},moveDown:function(){return m(Ts)},moveLeft:function(){return m(Ls)}};return b({liftActionArgs:{id:i,clientSelection:Du(u),movementMode:"SNAP"},cleanup:ge,actions:E})}function D(){var E=wr({expected:"PRE_DRAG",phase:v,isLockActive:p,shouldWarn:!0});E&&r.release()}var P={isActive:function(){return wr({expected:"PRE_DRAG",phase:v,isLockActive:p,shouldWarn:!1})},shouldRespectForcePress:f,fluidLift:y,snapLift:x,abort:D};return P}var Nu=[cu,fu,bu];function Ou(e){var r=e.contextId,t=e.store,n=e.registry,a=e.customSensors,i=e.enableDefaultSensors,o=[].concat(i?Nu:[],a||[]),l=C.useState(function(){return Yc()})[0],c=S(function(y,x){y.isDragging&&!x.isDragging&&l.tryAbandon()},[l]);Z(function(){var y=t.getState(),x=t.subscribe(function(){var D=t.getState();c(y,D),y=D});return x},[l,t,c]),Z(function(){return l.tryAbandon},[l.tryAbandon]);for(var d=S(function(b){return ci({lockAPI:l,registry:n,store:t,draggableId:b})},[l,n,t]),u=S(function(b,y,x){return Bu({lockAPI:l,registry:n,contextId:r,store:t,draggableId:b,forceSensorStop:y,sourceEvent:x&&x.sourceEvent?x.sourceEvent:null})},[r,l,n,t]),s=S(function(b){return Pu(r,b)},[r]),v=S(function(b){var y=n.draggable.findById(b);return y?y.options:null},[n.draggable]),f=S(function(){l.isClaimed()&&(l.tryAbandon(),t.getState().phase!=="IDLE"&&t.dispatch(Ut()))},[l,t]),p=S(l.isClaimed,[l]),g=R(function(){return{canGetLock:d,tryGetLock:u,findClosestDraggableId:s,findOptionsForDraggable:v,tryReleaseLock:f,isLockClaimed:p}},[d,u,s,v,f,p]),m=0;m<o.length;m++)o[m](g)}var Tu=function(r){return{onBeforeCapture:r.onBeforeCapture,onBeforeDragStart:r.onBeforeDragStart,onDragStart:r.onDragStart,onDragEnd:r.onDragEnd,onDragUpdate:r.onDragUpdate}};function Ye(e){return e.current||w(!1),e.current}function Mu(e){var r=e.contextId,t=e.setCallbacks,n=e.sensors,a=e.nonce,i=e.dragHandleUsageInstructions,o=C.useRef(null),l=ni(e),c=S(function(){return Tu(l.current)},[l]),d=Uc(r),u=Xc({contextId:r,text:i}),s=Fc(r,a),v=S(function(A){Ye(o).dispatch(A)},[]),f=R(function(){return vn({publishWhileDragging:Is,updateDroppableScroll:Ps,updateDroppableIsEnabled:As,updateDroppableIsCombineEnabled:Rs,collectionStarting:Es},v)},[v]),p=Wc(),g=R(function(){return gc(p,f)},[p,f]),m=R(function(){return Oc(I({scrollWindow:hc,scrollDroppable:g.scrollDroppable},vn({move:Ua},v)))},[g.scrollDroppable,v]),b=Gc(r),y=R(function(){return dc({announce:d,autoScroller:m,dimensionMarshal:g,focusMarshal:b,getResponders:c,styleMarshal:s})},[d,m,g,b,c,s]);o.current=y;var x=S(function(){var A=Ye(o),F=A.getState();F.phase!=="IDLE"&&A.dispatch(Ut())},[]),D=S(function(){var A=Ye(o).getState();return A.isDragging||A.phase==="DROP_ANIMATING"},[]),P=R(function(){return{isDragging:D,tryAbort:x}},[D,x]);t(P);var E=S(function(A){return Za(Ye(o).getState(),A)},[]),B=S(function(){return Se(Ye(o).getState())},[]),L=R(function(){return{marshal:g,focus:b,contextId:r,canLift:E,isMovementAllowed:B,dragHandleUsageInstructionsId:u,registry:p}},[r,g,u,b,E,B,p]);return Ou({contextId:r,store:y,registry:p,customSensors:n,enableDefaultSensors:e.enableDefaultSensors!==!1}),C.useEffect(function(){return x},[x]),M.createElement($r.Provider,{value:L},M.createElement(go,{context:Zt,store:y},e.children))}var Lu=0;function ku(){return R(function(){return""+Lu++},[])}function Fu(e){var r=ku(),t=e.dragHandleUsageInstructions||Er.dragHandleUsageInstructions;return M.createElement(fl,null,function(n){return M.createElement(Mu,{nonce:e.nonce,contextId:r,setCallbacks:n,dragHandleUsageInstructions:t,enableDefaultSensors:e.enableDefaultSensors,sensors:e.sensors,onBeforeCapture:e.onBeforeCapture,onBeforeDragStart:e.onBeforeDragStart,onDragStart:e.onDragStart,onDragUpdate:e.onDragUpdate,onDragEnd:e.onDragEnd},e.children)})}var ui=function(r){return function(t){return r===t}},ju=ui("scroll"),Gu=ui("auto"),_n=function(r,t){return t(r.overflowX)||t(r.overflowY)},Hu=function(r){var t=window.getComputedStyle(r),n={overflowX:t.overflowX,overflowY:t.overflowY};return _n(n,ju)||_n(n,Gu)},Wu=function(){return!1},_u=function e(r){return r==null?null:r===document.body?Wu()?r:null:r===document.documentElement?null:Hu(r)?r:e(r.parentElement)},Pt=function(e){return{x:e.scrollLeft,y:e.scrollTop}},zu=function e(r){if(!r)return!1;var t=window.getComputedStyle(r);return t.position==="fixed"?!0:e(r.parentElement)},Uu=function(e){var r=_u(e),t=zu(e);return{closestScrollable:r,isFixedOnPage:t}},Vu=function(e){var r=e.descriptor,t=e.isEnabled,n=e.isCombineEnabled,a=e.isFixedOnPage,i=e.direction,o=e.client,l=e.page,c=e.closest,d=function(){if(!c)return null;var f=c.scrollSize,p=c.client,g=Ya({scrollHeight:f.scrollHeight,scrollWidth:f.scrollWidth,height:p.paddingBox.height,width:p.paddingBox.width});return{pageMarginBox:c.page.marginBox,frameClient:p,scrollSize:f,shouldClipSubject:c.shouldClipSubject,scroll:{initial:c.scroll,current:c.scroll,max:g,diff:{value:W,displacement:W}}}}(),u=i==="vertical"?Gt:Ra,s=je({page:l,withPlaceholder:null,axis:u,frame:d}),v={descriptor:r,isCombineEnabled:n,isFixedOnPage:a,axis:u,isEnabled:t,client:o,page:l,frame:d,subject:s};return v},$u=function(r,t){var n=ya(r);if(!t||r!==t)return n;var a=n.paddingBox.top-t.scrollTop,i=n.paddingBox.left-t.scrollLeft,o=a+t.scrollHeight,l=i+t.scrollWidth,c={top:a,right:l,bottom:o,left:i},d=Mt(c,n.border),u=Lt({borderBox:d,margin:n.margin,border:n.border,padding:n.padding});return u},qu=function(e){var r=e.ref,t=e.descriptor,n=e.env,a=e.windowScroll,i=e.direction,o=e.isDropDisabled,l=e.isCombineEnabled,c=e.shouldClipSubject,d=n.closestScrollable,u=$u(r,d),s=Rr(u,a),v=function(){if(!d)return null;var p=ya(d),g={scrollHeight:d.scrollHeight,scrollWidth:d.scrollWidth};return{client:p,page:Rr(p,a),scroll:Pt(d),scrollSize:g,shouldClipSubject:c}}(),f=Vu({descriptor:t,isEnabled:!o,isCombineEnabled:l,isFixedOnPage:n.isFixedOnPage,direction:i,client:u,page:s,closest:v});return f},Xu={passive:!1},Yu={passive:!0},zn=function(e){return e.shouldPublishImmediately?Xu:Yu};function Lr(e){var r=C.useContext(e);return r||w(!1),r}var Cr=function(r){return r&&r.env.closestScrollable||null};function Ku(e){var r=C.useRef(null),t=Lr($r),n=Qt("droppable"),a=t.registry,i=t.marshal,o=ni(e),l=R(function(){return{id:e.droppableId,type:e.type,mode:e.mode}},[e.droppableId,e.mode,e.type]),c=C.useRef(l),d=R(function(){return H(function(D,P){r.current||w(!1);var E={x:D,y:P};i.updateDroppableScroll(l.id,E)})},[l.id,i]),u=S(function(){var D=r.current;return!D||!D.env.closestScrollable?W:Pt(D.env.closestScrollable)},[]),s=S(function(){var D=u();d(D.x,D.y)},[u,d]),v=R(function(){return Qe(s)},[s]),f=S(function(){var D=r.current,P=Cr(D);D&&P||w(!1);var E=D.scrollOptions;if(E.shouldPublishImmediately){s();return}v()},[v,s]),p=S(function(D,P){r.current&&w(!1);var E=o.current,B=E.getDroppableRef();B||w(!1);var L=Uu(B),A={ref:B,descriptor:l,env:L,scrollOptions:P};r.current=A;var F=qu({ref:B,descriptor:l,env:L,windowScroll:D,direction:E.direction,isDropDisabled:E.isDropDisabled,isCombineEnabled:E.isCombineEnabled,shouldClipSubject:!E.ignoreContainerClipping}),N=L.closestScrollable;return N&&(N.setAttribute(jn.contextId,t.contextId),N.addEventListener("scroll",f,zn(A.scrollOptions))),F},[t.contextId,l,f,o]),g=S(function(){var D=r.current,P=Cr(D);return D&&P||w(!1),Pt(P)},[]),m=S(function(){var D=r.current;D||w(!1);var P=Cr(D);r.current=null,P&&(v.cancel(),P.removeAttribute(jn.contextId),P.removeEventListener("scroll",f,zn(D.scrollOptions)))},[f,v]),b=S(function(D){var P=r.current;P||w(!1);var E=Cr(P);E||w(!1),E.scrollTop+=D.y,E.scrollLeft+=D.x},[]),y=R(function(){return{getDimensionAndWatchScroll:p,getScrollWhileDragging:g,dragStopped:m,scroll:b}},[m,p,g,b]),x=R(function(){return{uniqueId:n,descriptor:l,callbacks:y}},[y,l,n]);Z(function(){return c.current=x.descriptor,a.droppable.register(x),function(){r.current&&m(),a.droppable.unregister(x)}},[y,l,m,x,i,a.droppable]),Z(function(){r.current&&i.updateDroppableIsEnabled(c.current.id,!e.isDropDisabled)},[e.isDropDisabled,i]),Z(function(){r.current&&i.updateDroppableIsCombineEnabled(c.current.id,e.isCombineEnabled)},[e.isCombineEnabled,i])}function pt(){}var Un={width:0,height:0,margin:yl},Ju=function(r){var t=r.isAnimatingOpenOnMount,n=r.placeholder,a=r.animate;return t||a==="close"?Un:{height:n.client.borderBox.height,width:n.client.borderBox.width,margin:n.client.margin}},Zu=function(r){var t=r.isAnimatingOpenOnMount,n=r.placeholder,a=r.animate,i=Ju({isAnimatingOpenOnMount:t,placeholder:n,animate:a});return{display:n.display,boxSizing:"border-box",width:i.width,height:i.height,marginTop:i.margin.top,marginRight:i.margin.right,marginBottom:i.margin.bottom,marginLeft:i.margin.left,flexShrink:"0",flexGrow:"0",pointerEvents:"none",transition:a!=="none"?Ze.placeholder:null}};function Qu(e){var r=C.useRef(null),t=S(function(){r.current&&(clearTimeout(r.current),r.current=null)},[]),n=e.animate,a=e.onTransitionEnd,i=e.onClose,o=e.contextId,l=C.useState(e.animate==="open"),c=l[0],d=l[1];C.useEffect(function(){return c?n!=="open"?(t(),d(!1),pt):r.current?pt:(r.current=setTimeout(function(){r.current=null,d(!1)}),t):pt},[n,c,t]);var u=S(function(v){v.propertyName==="height"&&(a(),n==="close"&&i())},[n,i,a]),s=Zu({isAnimatingOpenOnMount:c,animate:e.animate,placeholder:e.placeholder});return M.createElement(e.placeholder.tagName,{style:s,"data-rbd-placeholder-context-id":o,onTransitionEnd:u,ref:e.innerRef})}var ed=M.memo(Qu),rn=M.createContext(null),rd=function(e){aa(r,e);function r(){for(var n,a=arguments.length,i=new Array(a),o=0;o<a;o++)i[o]=arguments[o];return n=e.call.apply(e,[this].concat(i))||this,n.state={isVisible:!!n.props.on,data:n.props.on,animate:n.props.shouldAnimate&&n.props.on?"open":"none"},n.onClose=function(){n.state.animate==="close"&&n.setState({isVisible:!1})},n}r.getDerivedStateFromProps=function(a,i){return a.shouldAnimate?a.on?{isVisible:!0,data:a.on,animate:"open"}:i.isVisible?{isVisible:!0,data:i.data,animate:"close"}:{isVisible:!1,animate:"close",data:null}:{isVisible:!!a.on,data:a.on,animate:"none"}};var t=r.prototype;return t.render=function(){if(!this.state.isVisible)return null;var a={onClose:this.onClose,data:this.state.data,animate:this.state.animate};return this.props.children(a)},r}(M.PureComponent),Vn={dragging:5e3,dropAnimating:4500},td=function(r,t){return t?Ze.drop(t.duration):r?Ze.snap:Ze.fluid},nd=function(r,t){return r?t?nr.opacity.drop:nr.opacity.combining:null},ad=function(r){return r.forceShouldAnimate!=null?r.forceShouldAnimate:r.mode==="SNAP"};function id(e){var r=e.dimension,t=r.client,n=e.offset,a=e.combineWith,i=e.dropping,o=!!a,l=ad(e),c=!!i,d=c?St.drop(n,o):St.moveTo(n),u={position:"fixed",top:t.marginBox.top,left:t.marginBox.left,boxSizing:"border-box",width:t.borderBox.width,height:t.borderBox.height,transition:td(l,i),transform:d,opacity:nd(o,c),zIndex:c?Vn.dropAnimating:Vn.dragging,pointerEvents:"none"};return u}function od(e){return{transform:St.moveTo(e.offset),transition:e.shouldAnimateDisplacement?null:"none"}}function ld(e){return e.type==="DRAGGING"?id(e):od(e)}function sd(e,r,t){t===void 0&&(t=W);var n=window.getComputedStyle(r),a=r.getBoundingClientRect(),i=ba(a,n),o=Rr(i,t),l={client:i,tagName:r.tagName.toLowerCase(),display:n.display},c={x:i.marginBox.width,y:i.marginBox.height},d={descriptor:e,placeholder:l,displaceBy:c,client:i,page:o};return d}function cd(e){var r=Qt("draggable"),t=e.descriptor,n=e.registry,a=e.getDraggableRef,i=e.canDragInteractiveElements,o=e.shouldRespectForcePress,l=e.isEnabled,c=R(function(){return{canDragInteractiveElements:i,shouldRespectForcePress:o,isEnabled:l}},[i,l,o]),d=S(function(f){var p=a();return p||w(!1),sd(t,p,f)},[t,a]),u=R(function(){return{uniqueId:r,descriptor:t,options:c,getDimension:d}},[t,d,c,r]),s=C.useRef(u),v=C.useRef(!0);Z(function(){return n.draggable.register(s.current),function(){return n.draggable.unregister(s.current)}},[n.draggable]),Z(function(){if(v.current){v.current=!1;return}var f=s.current;s.current=u,n.draggable.update(u,f)},[u,n.draggable])}function ud(e){e.preventDefault()}function dd(e){var r=C.useRef(null),t=S(function(A){r.current=A},[]),n=S(function(){return r.current},[]),a=Lr($r),i=a.contextId,o=a.dragHandleUsageInstructionsId,l=a.registry,c=Lr(rn),d=c.type,u=c.droppableId,s=R(function(){return{id:e.draggableId,index:e.index,type:d,droppableId:u}},[e.draggableId,e.index,d,u]),v=e.children,f=e.draggableId,p=e.isEnabled,g=e.shouldRespectForcePress,m=e.canDragInteractiveElements,b=e.isClone,y=e.mapped,x=e.dropAnimationFinished;if(!b){var D=R(function(){return{descriptor:s,registry:l,getDraggableRef:n,canDragInteractiveElements:m,shouldRespectForcePress:g,isEnabled:p}},[s,l,n,m,g,p]);cd(D)}var P=R(function(){return p?{tabIndex:0,role:"button","aria-describedby":o,"data-rbd-drag-handle-draggable-id":f,"data-rbd-drag-handle-context-id":i,draggable:!1,onDragStart:ud}:null},[i,o,f,p]),E=S(function(A){y.type==="DRAGGING"&&y.dropping&&A.propertyName==="transform"&&x()},[x,y]),B=R(function(){var A=ld(y),F=y.type==="DRAGGING"&&y.dropping?E:null,N={innerRef:t,draggableProps:{"data-rbd-draggable-context-id":i,"data-rbd-draggable-id":f,style:A,onTransitionEnd:F},dragHandleProps:P};return N},[i,P,f,y,E,t]),L=R(function(){return{draggableId:s.id,type:s.type,source:{index:s.index,droppableId:s.droppableId}}},[s.droppableId,s.id,s.index,s.type]);return v(B,y.snapshot,L)}var di=function(e,r){return e===r},vi=function(e){var r=e.combine,t=e.destination;return t?t.droppableId:r?r.droppableId:null},vd=function(r){return r.combine?r.combine.draggableId:null},fd=function(r){return r.at&&r.at.type==="COMBINE"?r.at.combine.draggableId:null};function pd(){var e=H(function(a,i){return{x:a,y:i}}),r=H(function(a,i,o,l,c){return{isDragging:!0,isClone:i,isDropAnimating:!!c,dropAnimation:c,mode:a,draggingOver:o,combineWith:l,combineTargetFor:null}}),t=H(function(a,i,o,l,c,d,u){return{mapped:{type:"DRAGGING",dropping:null,draggingOver:c,combineWith:d,mode:i,offset:a,dimension:o,forceShouldAnimate:u,snapshot:r(i,l,c,d,null)}}}),n=function(i,o){if(i.isDragging){if(i.critical.draggable.id!==o.draggableId)return null;var l=i.current.client.offset,c=i.dimensions.draggables[o.draggableId],d=J(i.impact),u=fd(i.impact),s=i.forceShouldAnimate;return t(e(l.x,l.y),i.movementMode,c,o.isClone,d,u,s)}if(i.phase==="DROP_ANIMATING"){var v=i.completed;if(v.result.draggableId!==o.draggableId)return null;var f=o.isClone,p=i.dimensions.draggables[o.draggableId],g=v.result,m=g.mode,b=vi(g),y=vd(g),x=i.dropDuration,D={duration:x,curve:$t.drop,moveTo:i.newHomeClientOffset,opacity:y?nr.opacity.drop:null,scale:y?nr.scale.drop:null};return{mapped:{type:"DRAGGING",offset:i.newHomeClientOffset,dimension:p,dropping:D,draggingOver:b,combineWith:y,mode:m,forceShouldAnimate:null,snapshot:r(m,f,b,y,D)}}}return null};return n}function fi(e){return{isDragging:!1,isDropAnimating:!1,isClone:!1,dropAnimation:null,mode:null,draggingOver:null,combineTargetFor:e,combineWith:null}}var gd={mapped:{type:"SECONDARY",offset:W,combineTargetFor:null,shouldAnimateDisplacement:!0,snapshot:fi(null)}};function hd(){var e=H(function(o,l){return{x:o,y:l}}),r=H(fi),t=H(function(o,l,c){return l===void 0&&(l=null),{mapped:{type:"SECONDARY",offset:o,combineTargetFor:l,shouldAnimateDisplacement:c,snapshot:r(l)}}}),n=function(l){return l?t(W,l,!0):null},a=function(l,c,d,u){var s=d.displaced.visible[l],v=!!(u.inVirtualList&&u.effected[l]),f=_r(d),p=f&&f.draggableId===l?c:null;if(!s){if(!v)return n(p);if(d.displaced.invisible[l])return null;var g=_e(u.displacedBy.point),m=e(g.x,g.y);return t(m,p,!0)}if(v)return n(p);var b=d.displacedBy.point,y=e(b.x,b.y);return t(y,p,s.shouldAnimate)},i=function(l,c){if(l.isDragging)return l.critical.draggable.id===c.draggableId?null:a(c.draggableId,l.critical.draggable.id,l.impact,l.afterCritical);if(l.phase==="DROP_ANIMATING"){var d=l.completed;return d.result.draggableId===c.draggableId?null:a(c.draggableId,d.result.draggableId,d.impact,d.afterCritical)}return null};return i}var md=function(){var r=pd(),t=hd(),n=function(i,o){return r(i,o)||t(i,o)||gd};return n},bd={dropAnimationFinished:$a},yd=ha(md,bd,null,{context:Zt,pure:!0,areStatePropsEqual:di})(dd);function pi(e){var r=Lr(rn),t=r.isUsingCloneFor;return t===e.draggableId&&!e.isClone?null:M.createElement(yd,e)}function xd(e){var r=typeof e.isDragDisabled=="boolean"?!e.isDragDisabled:!0,t=!!e.disableInteractiveElementBlocking,n=!!e.shouldRespectForcePress;return M.createElement(pi,I({},e,{isClone:!1,isEnabled:r,canDragInteractiveElements:t,shouldRespectForcePress:n}))}function Dd(e){var r=C.useContext($r);r||w(!1);var t=r.contextId,n=r.isMovementAllowed,a=C.useRef(null),i=C.useRef(null),o=e.children,l=e.droppableId,c=e.type,d=e.mode,u=e.direction,s=e.ignoreContainerClipping,v=e.isDropDisabled,f=e.isCombineEnabled,p=e.snapshot,g=e.useClone,m=e.updateViewportMaxScroll,b=e.getContainerForClone,y=S(function(){return a.current},[]),x=S(function(N){a.current=N},[]);S(function(){return i.current},[]);var D=S(function(N){i.current=N},[]),P=S(function(){n()&&m({maxScroll:Ja()})},[n,m]);Ku({droppableId:l,type:c,mode:d,direction:u,isDropDisabled:v,isCombineEnabled:f,ignoreContainerClipping:s,getDroppableRef:y});var E=M.createElement(rd,{on:e.placeholder,shouldAnimate:e.shouldAnimatePlaceholder},function(N){var Q=N.onClose,ee=N.data,G=N.animate;return M.createElement(ed,{placeholder:ee,onClose:Q,innerRef:D,animate:G,contextId:t,onTransitionEnd:P})}),B=R(function(){return{innerRef:x,placeholder:E,droppableProps:{"data-rbd-droppable-id":l,"data-rbd-droppable-context-id":t}}},[t,l,E,x]),L=g?g.dragging.draggableId:null,A=R(function(){return{droppableId:l,type:c,isUsingCloneFor:L}},[l,L,c]);function F(){if(!g)return null;var N=g.dragging,Q=g.render,ee=M.createElement(pi,{draggableId:N.draggableId,index:N.source.index,isClone:!0,isEnabled:!0,shouldRespectForcePress:!1,canDragInteractiveElements:!0},function(G,re){return Q(G,re,N)});return ji.createPortal(ee,b())}return M.createElement(rn.Provider,{value:A},o(B,p),F())}var gt=function(r,t){return r===t.droppable.type},$n=function(r,t){return t.draggables[r.draggable.id]},wd=function(){var r={placeholder:null,shouldAnimatePlaceholder:!0,snapshot:{isDraggingOver:!1,draggingOverWith:null,draggingFromThisWith:null,isUsingPlaceholder:!1},useClone:null},t=I({},r,{shouldAnimatePlaceholder:!1}),n=H(function(o){return{draggableId:o.id,type:o.type,source:{index:o.index,droppableId:o.droppableId}}}),a=H(function(o,l,c,d,u,s){var v=u.descriptor.id,f=u.descriptor.droppableId===o;if(f){var p=s?{render:s,dragging:n(u.descriptor)}:null,g={isDraggingOver:c,draggingOverWith:c?v:null,draggingFromThisWith:v,isUsingPlaceholder:!0};return{placeholder:u.placeholder,shouldAnimatePlaceholder:!1,snapshot:g,useClone:p}}if(!l)return t;if(!d)return r;var m={isDraggingOver:c,draggingOverWith:v,draggingFromThisWith:null,isUsingPlaceholder:!0};return{placeholder:u.placeholder,shouldAnimatePlaceholder:!0,snapshot:m,useClone:null}}),i=function(l,c){var d=c.droppableId,u=c.type,s=!c.isDropDisabled,v=c.renderClone;if(l.isDragging){var f=l.critical;if(!gt(u,f))return t;var p=$n(f,l.dimensions),g=J(l.impact)===d;return a(d,s,g,g,p,v)}if(l.phase==="DROP_ANIMATING"){var m=l.completed;if(!gt(u,m.critical))return t;var b=$n(m.critical,l.dimensions);return a(d,s,vi(m.result)===d,J(m.impact)===d,b,v)}if(l.phase==="IDLE"&&l.completed&&!l.shouldFlush){var y=l.completed;if(!gt(u,y.critical))return t;var x=J(y.impact)===d,D=!!(y.impact.at&&y.impact.at.type==="COMBINE"),P=y.critical.droppable.id===d;return x?D?r:t:P?r:t}return t};return i},Cd={updateViewportMaxScroll:Ns};function Sd(){return document.body||w(!1),document.body}var Id={mode:"standard",type:"DEFAULT",direction:"vertical",isDropDisabled:!1,isCombineEnabled:!1,ignoreContainerClipping:!1,renderClone:null,getContainerForClone:Sd},gi=ha(wd,Cd,null,{context:Zt,pure:!0,areStatePropsEqual:di})(Dd);gi.defaultProps=Id;function Ed(e){return k({tag:"svg",attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0z"}},{tag:"path",attr:{d:"M19 13h-6v6h-2v-6H5v-2h6V5h2v6h6v2z"}}]})(e)}function Pd(e){return k({tag:"svg",attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0z"}},{tag:"path",attr:{d:"M19 13H5v-2h14v2z"}}]})(e)}function Ad(e){return k({tag:"svg",attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0z"}},{tag:"path",attr:{d:"M16.56 8.94L7.62 0 6.21 1.41l2.38 2.38-5.15 5.15a1.49 1.49 0 000 2.12l5.5 5.5c.29.29.68.44 1.06.44s.77-.15 1.06-.44l5.5-5.5c.59-.58.59-1.53 0-2.12zM5.21 10L10 5.21 14.79 10H5.21zM19 11.5s-2 2.17-2 3.5c0 1.1.9 2 2 2s2-.9 2-2c0-1.33-2-3.5-2-3.5zM2 20h20v4H2v-4z"}}]})(e)}function Rd(e){return k({tag:"svg",attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0z"}},{tag:"path",attr:{d:"M15.41 7.41L14 6l-6 6 6 6 1.41-1.41L10.83 12z"}}]})(e)}function Bd(e){return k({tag:"svg",attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0z"}},{tag:"path",attr:{d:"M10 6L8.59 7.41 13.17 12l-4.58 4.59L10 18l6-6z"}}]})(e)}const Nd=({index:e=0,tActions:r,thread:t,tState:n})=>{const[a,i]=C.useState(0),{activeThread:o}=n,{isThreadShow:l}=de(c=>c.uiSlice);return e==o&&l?h.jsx("div",{className:"w-32 bg-black opacity-0  h-56 text-white absolute bottom-12 left-16",onTouchStart:c=>{i(c.touches[0].clientY)},onTouchMove:c=>{const d=c.touches[0].clientY;if(a<d){const u=t.degreeOfOrigin+3;r.setDegreeOfOrigin(u<360?u:u-360,e)}else{const u=t.degreeOfOrigin-3;r.setDegreeOfOrigin(u>0?u:u+360,e)}i(d)}}):h.jsx(h.Fragment,{})},Od=({index:e=0,tState:r,tActions:t,thread:n})=>{const a=We(),{isThreadShow:i}=de(y=>y.uiSlice),{frames:o,fps:l,isPlaying:c,degreeOfOrigin:d,activeFrame:u}=n,s=C.useContext(_i),{activeThread:v}=r;var f;let p=360/o.length;C.useLayoutEffect(()=>(c?f=setInterval(()=>{const y=p*l/100,x=d+y;t.setDegreeOfOrigin(x<360?x:x-360,e)},10):f&&clearInterval(f),()=>{f&&clearInterval(f)}),[c,l,d]);const g=()=>{r.threads.length>1&&(t.popThread(e),t.setActiveThread(0),s==null||s.forEachObject(y=>{var x;((x=y.data)==null?void 0:x.activeThread)==e&&s.remove(y)}),s==null||s.renderAll(),console.log(s==null?void 0:s._objects))},m=()=>{t.setActiveFrame(e,u==r.threads[e].frames.length-1?0:u+1)},b=()=>{t.setActiveFrame(e,u==0?r.threads[e].frames.length-1:u-1)};return h.jsx("div",{children:h.jsx("div",{className:"relative",children:h.jsxs("div",{style:{clipPath:i&&v==e?"circle(100% at 50% 28%)":"circle(19% at 34% 43%)",backgroundColor:i&&v==e?"rgba(0, 0, 0, 0.35)":v==e?"rgba(255, 255, 255, 0.3)":"rgba(0, 0, 0, 0.5)",zIndex:i&&v==e?999:1},className:"wheel-container flex flex-col justify-start bg-green-300",children:[h.jsxs("div",{className:"flex flex-row justify-between -mt-4",children:[h.jsx("div",{className:"wheel",onClick:()=>{t.setActiveThread(e),v==e?a(i?ce.hideThreadWheel():ce.showThreadWheel()):a(ce.showThreadWheel())},children:o.map((y,x)=>h.jsx(Td,{activeFrame:u,Icon:y.isFilled?Ui:Vi,degreePerFrame:p,degreeOfOrigin:d,frameIndex:x,tActions:t,threadIndex:e},x))}),h.jsx(Md,{index:e,tState:r,tActions:t,thread:n})]}),h.jsxs("div",{className:"ml-5 flex justify-start items-center px-3 mt-1",children:[h.jsx("div",{onClick:g,children:h.jsx(Qi,{className:"button-active",size:18})}),h.jsxs("div",{className:"flex items-center  ml-3",children:[h.jsx(Rd,{onClick:b,className:"button-active",size:22}),h.jsx("span",{className:"text-xs w-5  rounded bg-gray-700 flex items-center justify-center",children:u}),h.jsx(Bd,{onClick:m,className:"button-active",size:22})]})]})]})})})},Td=({Icon:e,frameIndex:r,activeFrame:t,degreeOfOrigin:n,tActions:a,threadIndex:i,degreePerFrame:o})=>{let l=o*(r+1)+n-o;const c=360+o/2,d=360-o/2;return C.useLayoutEffect(()=>{l>d&&l<c&&a.setActiveFrame(i,r)},[n]),h.jsx(e,{style:{height:50,position:"absolute",transform:`rotate(${l+90}deg)`,transformOrigin:"0 100%"},size:5,color:r==t?"green":"white"})},Md=({index:e,tState:r,tActions:t,thread:n})=>{const{frames:a,fps:i,isPlaying:o}=n;return h.jsxs("div",{className:"flex flex-col justify-around items-center h-24 w-16",children:[h.jsxs("div",{className:"flex flex-col items-center",children:[h.jsx("h4",{style:{fontSize:8},children:"Frames"}),h.jsxs("div",{className:"flex flex-row items-center",children:[h.jsx(fn,{onClick:()=>{a.length>0&&t.popFrame(e)},className:"cursor-pointer button-active",size:18}),h.jsx("span",{className:"text-xs px-1 rounded bg-gray-700",children:a.length}),h.jsx(pn,{onClick:()=>{a.length<24&&t.pushFrame(e)},className:"cursor-pointer button-active",size:18})]})]}),h.jsx("div",{children:o?h.jsx(ea,{className:"cursor-pointer button-active",onClick:()=>t.pauseThread(e),size:10}):h.jsx(ra,{className:"cursor-pointer button-active",onClick:()=>t.playThread(e),size:10})}),h.jsxs("div",{className:"flex flex-col items-center",children:[h.jsx("h4",{style:{fontSize:7},children:"FPS"}),h.jsxs("div",{className:"flex flex-row items-center",children:[h.jsx(fn,{onClick:()=>t.setFps("decrease",e),className:"cursor-pointer button-active",size:18}),h.jsx("span",{className:"text-xs px-1 rounded bg-gray-700",children:i}),h.jsx(pn,{onClick:()=>t.setFps("increase",e),className:"cursor-pointer button-active",size:18})]})]})]})},Ld=(e,r,t)=>{const n=Array.from(e),[a]=n.splice(r,1);return n.splice(t,0,a),n};function kd({threadState:e,actions:r,isExpanded:t}){function n(a){if(console.log("drag end called"),!a.destination||a.destination.index===a.source.index)return;const i=Ld(e.threads,a.source.index,a.destination.index);console.log({_threads:i}),r.reOrderThreads(i)}return h.jsx(Fu,{onDragEnd:n,children:h.jsx(gi,{droppableId:"threads",children:a=>h.jsxs("div",{className:`flex flex-col justify-evenly  ml-7 mt-16 ${!t&&"hidden"}`,style:{height:"70%"},ref:a.innerRef,...a.droppableProps,children:[e.threads.map((i,o)=>h.jsx(Fd,{index:o,provided:a,thread:i,tActions:r,tState:e},o)),a.placeholder]})})})}const Fd=({index:e,provided:r,thread:t,tActions:n,tState:a})=>h.jsxs(h.Fragment,{children:[h.jsx(xd,{draggableId:`${e}`,index:e,children:i=>h.jsx("div",{ref:i.innerRef,...i.draggableProps,...i.dragHandleProps,children:h.jsx(Od,{index:e,thread:t,tActions:n,tState:a},e)})},e),h.jsx(Nd,{index:e,thread:t,tActions:n,tState:a})]}),jd=({tActions:e,tState:r})=>h.jsxs("div",{className:"flex flex-row items-center justify-center opacity-40 wieve-edit bg-black  rounded-tr-xl py-3 ",children:[h.jsx(Pd,{className:"cursor-pointer active:text-red-500 mx-0.5",onClick:()=>r.threads.length>1&&e.popThread(),size:35}),h.jsx(Ed,{className:"cursor-pointer active:text-red-500 mx-0.5",onClick:()=>r.threads.length<5&&e.pushThread({activeFrame:0,degreeOfOrigin:0,fps:10,frames:[{isFilled:!1}],index:r.threads.length,isActive:!1,isPlaying:!1}),size:35})]});/*!
 * iro.js v5.5.2
 * 2016-2021 James Daniel
 * Licensed under MPL 2.0
 * github.com/jaames/iro.js
 */var j,kr,hi,At,mi,be={},tn=[],Gd=/acit|ex(?:s|g|n|p|$)|rph|grid|ows|mnc|ntw|ine[ch]|zoo|^ord|^--/i;function pe(e,r){for(var t in r)e[t]=r[t];return e}function bi(e){var r=e.parentNode;r&&r.removeChild(e)}function O(e,r,t){var n,a,i,o,l=arguments;if(r=pe({},r),arguments.length>3)for(t=[t],n=3;n<arguments.length;n++)t.push(l[n]);if(t!=null&&(r.children=t),e!=null&&e.defaultProps!=null)for(a in e.defaultProps)r[a]===void 0&&(r[a]=e.defaultProps[a]);return o=r.key,(i=r.ref)!=null&&delete r.ref,o!=null&&delete r.key,Rt(e,r,o,i)}function Rt(e,r,t,n){var a={type:e,props:r,key:t,ref:n,__k:null,__p:null,__b:0,__e:null,l:null,__c:null,constructor:void 0};return j.vnode&&j.vnode(a),a}function Xr(e){return e.children}function Hd(e){if(e==null||typeof e=="boolean")return null;if(typeof e=="string"||typeof e=="number")return Rt(null,e,null,null);if(e.__e!=null||e.__c!=null){var r=Rt(e.type,e.props,e.key,null);return r.__e=e.__e,r}return e}function ke(e,r){this.props=e,this.context=r}function Fr(e,r){if(r==null)return e.__p?Fr(e.__p,e.__p.__k.indexOf(e)+1):null;for(var t;r<e.__k.length;r++)if((t=e.__k[r])!=null&&t.__e!=null)return t.__e;return typeof e.type=="function"?Fr(e):null}function yi(e){var r,t;if((e=e.__p)!=null&&e.__c!=null){for(e.__e=e.__c.base=null,r=0;r<e.__k.length;r++)if((t=e.__k[r])!=null&&t.__e!=null){e.__e=e.__c.base=t.__e;break}return yi(e)}}function ht(e){(!e.__d&&(e.__d=!0)&&kr.push(e)===1||At!==j.debounceRendering)&&(At=j.debounceRendering,(j.debounceRendering||hi)(Wd))}function Wd(){var e,r,t,n,a,i,o,l;for(kr.sort(function(c,d){return d.__v.__b-c.__v.__b});e=kr.pop();)e.__d&&(t=void 0,n=void 0,i=(a=(r=e).__v).__e,o=r.__P,l=r.u,r.u=!1,o&&(t=[],n=an(o,a,pe({},a),r.__n,o.ownerSVGElement!==void 0,null,t,l,i??Fr(a)),Di(t,a),n!=i&&yi(a)))}function xi(e,r,t,n,a,i,o,l,c){var d,u,s,v,f,p,g,m=t&&t.__k||tn,b=m.length;if(l==be&&(l=i!=null?i[0]:b?Fr(t,0):null),d=0,r.__k=nn(r.__k,function(y){if(y!=null){if(y.__p=r,y.__b=r.__b+1,(s=m[d])===null||s&&y.key==s.key&&y.type===s.type)m[d]=void 0;else for(u=0;u<b;u++){if((s=m[u])&&y.key==s.key&&y.type===s.type){m[u]=void 0;break}s=null}if(v=an(e,y,s=s||be,n,a,i,o,null,l,c),(u=y.ref)&&s.ref!=u&&(g||(g=[])).push(u,y.__c||v,y),v!=null){if(p==null&&(p=v),y.l!=null)v=y.l,y.l=null;else if(i==s||v!=l||v.parentNode==null){e:if(l==null||l.parentNode!==e)e.appendChild(v);else{for(f=l,u=0;(f=f.nextSibling)&&u<b;u+=2)if(f==v)break e;e.insertBefore(v,l)}r.type=="option"&&(e.value="")}l=v.nextSibling,typeof r.type=="function"&&(r.l=v)}}return d++,y}),r.__e=p,i!=null&&typeof r.type!="function")for(d=i.length;d--;)i[d]!=null&&bi(i[d]);for(d=b;d--;)m[d]!=null&&Ci(m[d],m[d]);if(g)for(d=0;d<g.length;d++)wi(g[d],g[++d],g[++d])}function nn(e,r,t){if(t==null&&(t=[]),e==null||typeof e=="boolean")r&&t.push(r(null));else if(Array.isArray(e))for(var n=0;n<e.length;n++)nn(e[n],r,t);else t.push(r?r(Hd(e)):e);return t}function _d(e,r,t,n,a){var i;for(i in t)i in r||Xn(e,i,null,t[i],n);for(i in r)a&&typeof r[i]!="function"||i==="value"||i==="checked"||t[i]===r[i]||Xn(e,i,r[i],t[i],n)}function qn(e,r,t){r[0]==="-"?e.setProperty(r,t):e[r]=typeof t=="number"&&Gd.test(r)===!1?t+"px":t??""}function Xn(e,r,t,n,a){var i,o,l,c,d;if(!((r=a?r==="className"?"class":r:r==="class"?"className":r)==="key"||r==="children"))if(r==="style")if(i=e.style,typeof t=="string")i.cssText=t;else{if(typeof n=="string"&&(i.cssText="",n=null),n)for(o in n)t&&o in t||qn(i,o,"");if(t)for(l in t)n&&t[l]===n[l]||qn(i,l,t[l])}else r[0]==="o"&&r[1]==="n"?(c=r!==(r=r.replace(/Capture$/,"")),d=r.toLowerCase(),r=(d in e?d:r).slice(2),t?(n||e.addEventListener(r,Yn,c),(e.t||(e.t={}))[r]=t):e.removeEventListener(r,Yn,c)):r!=="list"&&r!=="tagName"&&r!=="form"&&!a&&r in e?e[r]=t??"":typeof t!="function"&&r!=="dangerouslySetInnerHTML"&&(r!==(r=r.replace(/^xlink:?/,""))?t==null||t===!1?e.removeAttributeNS("http://www.w3.org/1999/xlink",r.toLowerCase()):e.setAttributeNS("http://www.w3.org/1999/xlink",r.toLowerCase(),t):t==null||t===!1?e.removeAttribute(r):e.setAttribute(r,t))}function Yn(e){return this.t[e.type](j.event?j.event(e):e)}function an(e,r,t,n,a,i,o,l,c,d){var u,s,v,f,p,g,m,b,y,x,D=r.type;if(r.constructor!==void 0)return null;(u=j.__b)&&u(r);try{e:if(typeof D=="function"){if(b=r.props,y=(u=D.contextType)&&n[u.__c],x=u?y?y.props.value:u.__p:n,t.__c?m=(s=r.__c=t.__c).__p=s.__E:("prototype"in D&&D.prototype.render?r.__c=s=new D(b,x):(r.__c=s=new ke(b,x),s.constructor=D,s.render=Ud),y&&y.sub(s),s.props=b,s.state||(s.state={}),s.context=x,s.__n=n,v=s.__d=!0,s.__h=[]),s.__s==null&&(s.__s=s.state),D.getDerivedStateFromProps!=null&&pe(s.__s==s.state?s.__s=pe({},s.__s):s.__s,D.getDerivedStateFromProps(b,s.__s)),v)D.getDerivedStateFromProps==null&&s.componentWillMount!=null&&s.componentWillMount(),s.componentDidMount!=null&&o.push(s);else{if(D.getDerivedStateFromProps==null&&l==null&&s.componentWillReceiveProps!=null&&s.componentWillReceiveProps(b,x),!l&&s.shouldComponentUpdate!=null&&s.shouldComponentUpdate(b,s.__s,x)===!1){for(s.props=b,s.state=s.__s,s.__d=!1,s.__v=r,r.__e=c!=null?c!==t.__e?c:t.__e:null,r.__k=t.__k,u=0;u<r.__k.length;u++)r.__k[u]&&(r.__k[u].__p=r);break e}s.componentWillUpdate!=null&&s.componentWillUpdate(b,s.__s,x)}for(f=s.props,p=s.state,s.context=x,s.props=b,s.state=s.__s,(u=j.__r)&&u(r),s.__d=!1,s.__v=r,s.__P=e,u=s.render(s.props,s.state,s.context),r.__k=nn(u!=null&&u.type==Xr&&u.key==null?u.props.children:u),s.getChildContext!=null&&(n=pe(pe({},n),s.getChildContext())),v||s.getSnapshotBeforeUpdate==null||(g=s.getSnapshotBeforeUpdate(f,p)),xi(e,r,t,n,a,i,o,c,d),s.base=r.__e;u=s.__h.pop();)s.__s&&(s.state=s.__s),u.call(s);v||f==null||s.componentDidUpdate==null||s.componentDidUpdate(f,p,g),m&&(s.__E=s.__p=null)}else r.__e=zd(t.__e,r,t,n,a,i,o,d);(u=j.diffed)&&u(r)}catch(P){j.__e(P,r,t)}return r.__e}function Di(e,r){for(var t;t=e.pop();)try{t.componentDidMount()}catch(n){j.__e(n,t.__v)}j.__c&&j.__c(r)}function zd(e,r,t,n,a,i,o,l){var c,d,u,s,v=t.props,f=r.props;if(a=r.type==="svg"||a,e==null&&i!=null){for(c=0;c<i.length;c++)if((d=i[c])!=null&&(r.type===null?d.nodeType===3:d.localName===r.type)){e=d,i[c]=null;break}}if(e==null){if(r.type===null)return document.createTextNode(f);e=a?document.createElementNS("http://www.w3.org/2000/svg",r.type):document.createElement(r.type),i=null}return r.type===null?v!==f&&(i!=null&&(i[i.indexOf(e)]=null),e.data=f):r!==t&&(i!=null&&(i=tn.slice.call(e.childNodes)),u=(v=t.props||be).dangerouslySetInnerHTML,s=f.dangerouslySetInnerHTML,l||(s||u)&&(s&&u&&s.__html==u.__html||(e.innerHTML=s&&s.__html||"")),_d(e,f,v,a,l),r.__k=r.props.children,s||xi(e,r,t,n,r.type!=="foreignObject"&&a,i,o,be,l),l||("value"in f&&f.value!==void 0&&f.value!==e.value&&(e.value=f.value==null?"":f.value),"checked"in f&&f.checked!==void 0&&f.checked!==e.checked&&(e.checked=f.checked))),e}function wi(e,r,t){try{typeof e=="function"?e(r):e.current=r}catch(n){j.__e(n,t)}}function Ci(e,r,t){var n,a,i;if(j.unmount&&j.unmount(e),(n=e.ref)&&wi(n,null,r),t||typeof e.type=="function"||(t=(a=e.__e)!=null),e.__e=e.l=null,(n=e.__c)!=null){if(n.componentWillUnmount)try{n.componentWillUnmount()}catch(o){j.__e(o,r)}n.base=n.__P=null}if(n=e.__k)for(i=0;i<n.length;i++)n[i]&&Ci(n[i],r,t);a!=null&&bi(a)}function Ud(e,r,t){return this.constructor(e,t)}function Vd(e,r,t){var n,a,i;j.__p&&j.__p(e,r),a=(n=t===mi)?null:t&&t.__k||r.__k,e=O(Xr,null,[e]),i=[],an(r,n?r.__k=e:(t||r).__k=e,a||be,be,r.ownerSVGElement!==void 0,t&&!n?[t]:a?null:tn.slice.call(r.childNodes),i,!1,t||be,n),Di(i,e)}j={},ke.prototype.setState=function(e,r){var t=this.__s!==this.state&&this.__s||(this.__s=pe({},this.state));(typeof e!="function"||(e=e(t,this.props)))&&pe(t,e),e!=null&&this.__v&&(this.u=!1,r&&this.__h.push(r),ht(this))},ke.prototype.forceUpdate=function(e){this.__v&&(e&&this.__h.push(e),this.u=!0,ht(this))},ke.prototype.render=Xr,kr=[],hi=typeof Promise=="function"?Promise.prototype.then.bind(Promise.resolve()):setTimeout,At=j.debounceRendering,j.__e=function(e,r,t){for(var n;r=r.__p;)if((n=r.__c)&&!n.__p)try{if(n.constructor&&n.constructor.getDerivedStateFromError!=null)n.setState(n.constructor.getDerivedStateFromError(e));else{if(n.componentDidCatch==null)continue;n.componentDidCatch(e)}return ht(n.__E=n)}catch(a){e=a}throw e},mi=be;function Kn(e,r){for(var t=0;t<r.length;t++){var n=r[t];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function $d(e,r,t){return r&&Kn(e.prototype,r),t&&Kn(e,t),e}function X(){return X=Object.assign||function(e){for(var r=arguments,t=1;t<arguments.length;t++){var n=r[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},X.apply(this,arguments)}var qd="[-\\+]?\\d+%?",Xd="[-\\+]?\\d*\\.\\d+%?",Ie="(?:"+Xd+")|(?:"+qd+")",Si="[\\s|\\(]+("+Ie+")[,|\\s]+("+Ie+")[,|\\s]+("+Ie+")\\s*\\)?",Ii="[\\s|\\(]+("+Ie+")[,|\\s]+("+Ie+")[,|\\s]+("+Ie+")[,|\\s]+("+Ie+")\\s*\\)?",Yd=new RegExp("rgb"+Si),Kd=new RegExp("rgba"+Ii),Jd=new RegExp("hsl"+Si),Zd=new RegExp("hsla"+Ii),Yr="^(?:#?|0x?)",Ee="([0-9a-fA-F]{1})",Pe="([0-9a-fA-F]{2})",Qd=new RegExp(Yr+Ee+Ee+Ee+"$"),ev=new RegExp(Yr+Ee+Ee+Ee+Ee+"$"),rv=new RegExp(Yr+Pe+Pe+Pe+"$"),tv=new RegExp(Yr+Pe+Pe+Pe+Pe+"$"),nv=2e3,av=4e4,Sr=Math.log,Me=Math.round,Ke=Math.floor;function ae(e,r,t){return Math.min(Math.max(e,r),t)}function $(e,r){var t=e.indexOf("%")>-1,n=parseFloat(e);return t?r/100*n:n}function q(e){return parseInt(e,16)}function Ce(e){return e.toString(16).padStart(2,"0")}var Le=function(){function e(t,n){this.$={h:0,s:0,v:0,a:1},t&&this.set(t),this.onChange=n,this.initialValue=X({},this.$)}var r=e.prototype;return r.set=function(n){if(typeof n=="string")/^(?:#?|0x?)[0-9a-fA-F]{3,8}$/.test(n)?this.hexString=n:/^rgba?/.test(n)?this.rgbString=n:/^hsla?/.test(n)&&(this.hslString=n);else if(typeof n=="object")n instanceof e?this.hsva=n.hsva:"r"in n&&"g"in n&&"b"in n?this.rgb=n:"h"in n&&"s"in n&&"v"in n?this.hsv=n:"h"in n&&"s"in n&&"l"in n?this.hsl=n:"kelvin"in n&&(this.kelvin=n.kelvin);else throw new Error("Invalid color value")},r.setChannel=function(n,a,i){var o;this[n]=X({},this[n],(o={},o[a]=i,o))},r.reset=function(){this.hsva=this.initialValue},r.clone=function(){return new e(this)},r.unbind=function(){this.onChange=void 0},e.hsvToRgb=function(n){var a=n.h/60,i=n.s/100,o=n.v/100,l=Ke(a),c=a-l,d=o*(1-i),u=o*(1-c*i),s=o*(1-(1-c)*i),v=l%6,f=[o,u,d,d,s,o][v],p=[s,o,o,u,d,d][v],g=[d,d,s,o,o,u][v];return{r:ae(f*255,0,255),g:ae(p*255,0,255),b:ae(g*255,0,255)}},e.rgbToHsv=function(n){var a=n.r/255,i=n.g/255,o=n.b/255,l=Math.max(a,i,o),c=Math.min(a,i,o),d=l-c,u=0,s=l,v=l===0?0:d/l;switch(l){case c:u=0;break;case a:u=(i-o)/d+(i<o?6:0);break;case i:u=(o-a)/d+2;break;case o:u=(a-i)/d+4;break}return{h:u*60%360,s:ae(v*100,0,100),v:ae(s*100,0,100)}},e.hsvToHsl=function(n){var a=n.s/100,i=n.v/100,o=(2-a)*i,l=o<=1?o:2-o,c=l<1e-9?0:a*i/l;return{h:n.h,s:ae(c*100,0,100),l:ae(o*50,0,100)}},e.hslToHsv=function(n){var a=n.l*2,i=n.s*(a<=100?a:200-a)/100,o=a+i<1e-9?0:2*i/(a+i);return{h:n.h,s:ae(o*100,0,100),v:ae((a+i)/2,0,100)}},e.kelvinToRgb=function(n){var a=n/100,i,o,l;return a<66?(i=255,o=-155.25485562709179-.44596950469579133*(o=a-2)+104.49216199393888*Sr(o),l=a<20?0:-254.76935184120902+.8274096064007395*(l=a-10)+115.67994401066147*Sr(l)):(i=351.97690566805693+.114206453784165*(i=a-55)-40.25366309332127*Sr(i),o=325.4494125711974+.07943456536662342*(o=a-50)-28.0852963507957*Sr(o),l=255),{r:ae(Ke(i),0,255),g:ae(Ke(o),0,255),b:ae(Ke(l),0,255)}},e.rgbToKelvin=function(n){for(var a=n.r,i=n.b,o=.4,l=nv,c=av,d;c-l>o;){d=(c+l)*.5;var u=e.kelvinToRgb(d);u.b/u.r>=i/a?c=d:l=d}return d},$d(e,[{key:"hsv",get:function(){var n=this.$;return{h:n.h,s:n.s,v:n.v}},set:function(n){var a=this.$;if(n=X({},a,n),this.onChange){var i={h:!1,v:!1,s:!1,a:!1};for(var o in a)i[o]=n[o]!=a[o];this.$=n,(i.h||i.s||i.v||i.a)&&this.onChange(this,i)}else this.$=n}},{key:"hsva",get:function(){return X({},this.$)},set:function(n){this.hsv=n}},{key:"hue",get:function(){return this.$.h},set:function(n){this.hsv={h:n}}},{key:"saturation",get:function(){return this.$.s},set:function(n){this.hsv={s:n}}},{key:"value",get:function(){return this.$.v},set:function(n){this.hsv={v:n}}},{key:"alpha",get:function(){return this.$.a},set:function(n){this.hsv=X({},this.hsv,{a:n})}},{key:"kelvin",get:function(){return e.rgbToKelvin(this.rgb)},set:function(n){this.rgb=e.kelvinToRgb(n)}},{key:"red",get:function(){var n=this.rgb;return n.r},set:function(n){this.rgb=X({},this.rgb,{r:n})}},{key:"green",get:function(){var n=this.rgb;return n.g},set:function(n){this.rgb=X({},this.rgb,{g:n})}},{key:"blue",get:function(){var n=this.rgb;return n.b},set:function(n){this.rgb=X({},this.rgb,{b:n})}},{key:"rgb",get:function(){var n=e.hsvToRgb(this.$),a=n.r,i=n.g,o=n.b;return{r:Me(a),g:Me(i),b:Me(o)}},set:function(n){this.hsv=X({},e.rgbToHsv(n),{a:n.a===void 0?1:n.a})}},{key:"rgba",get:function(){return X({},this.rgb,{a:this.alpha})},set:function(n){this.rgb=n}},{key:"hsl",get:function(){var n=e.hsvToHsl(this.$),a=n.h,i=n.s,o=n.l;return{h:Me(a),s:Me(i),l:Me(o)}},set:function(n){this.hsv=X({},e.hslToHsv(n),{a:n.a===void 0?1:n.a})}},{key:"hsla",get:function(){return X({},this.hsl,{a:this.alpha})},set:function(n){this.hsl=n}},{key:"rgbString",get:function(){var n=this.rgb;return"rgb("+n.r+", "+n.g+", "+n.b+")"},set:function(n){var a,i,o,l,c=1;if((a=Yd.exec(n))?(i=$(a[1],255),o=$(a[2],255),l=$(a[3],255)):(a=Kd.exec(n))&&(i=$(a[1],255),o=$(a[2],255),l=$(a[3],255),c=$(a[4],1)),a)this.rgb={r:i,g:o,b:l,a:c};else throw new Error("Invalid rgb string")}},{key:"rgbaString",get:function(){var n=this.rgba;return"rgba("+n.r+", "+n.g+", "+n.b+", "+n.a+")"},set:function(n){this.rgbString=n}},{key:"hexString",get:function(){var n=this.rgb;return"#"+Ce(n.r)+Ce(n.g)+Ce(n.b)},set:function(n){var a,i,o,l,c=255;if((a=Qd.exec(n))?(i=q(a[1])*17,o=q(a[2])*17,l=q(a[3])*17):(a=ev.exec(n))?(i=q(a[1])*17,o=q(a[2])*17,l=q(a[3])*17,c=q(a[4])*17):(a=rv.exec(n))?(i=q(a[1]),o=q(a[2]),l=q(a[3])):(a=tv.exec(n))&&(i=q(a[1]),o=q(a[2]),l=q(a[3]),c=q(a[4])),a)this.rgb={r:i,g:o,b:l,a:c/255};else throw new Error("Invalid hex string")}},{key:"hex8String",get:function(){var n=this.rgba;return"#"+Ce(n.r)+Ce(n.g)+Ce(n.b)+Ce(Ke(n.a*255))},set:function(n){this.hexString=n}},{key:"hslString",get:function(){var n=this.hsl;return"hsl("+n.h+", "+n.s+"%, "+n.l+"%)"},set:function(n){var a,i,o,l,c=1;if((a=Jd.exec(n))?(i=$(a[1],360),o=$(a[2],100),l=$(a[3],100)):(a=Zd.exec(n))&&(i=$(a[1],360),o=$(a[2],100),l=$(a[3],100),c=$(a[4],1)),a)this.hsl={h:i,s:o,l,a:c};else throw new Error("Invalid hsl string")}},{key:"hslaString",get:function(){var n=this.hsla;return"hsla("+n.h+", "+n.s+"%, "+n.l+"%, "+n.a+")"},set:function(n){this.hslString=n}}]),e}(),iv={sliderShape:"bar",sliderType:"value",minTemperature:2200,maxTemperature:11e3};function on(e){var r,t=e.width,n=e.sliderSize,a=e.borderWidth,i=e.handleRadius,o=e.padding,l=e.sliderShape,c=e.layoutDirection==="horizontal";return n=(r=n)!=null?r:o*2+i*2,l==="circle"?{handleStart:e.padding+e.handleRadius,handleRange:t-o*2-i*2,width:t,height:t,cx:t/2,cy:t/2,radius:t/2-a/2}:{handleStart:n/2,handleRange:t-n,radius:n/2,x:0,y:0,width:c?n:t,height:c?t:n}}function ov(e,r){var t=r.hsva,n=r.rgb;switch(e.sliderType){case"red":return n.r/2.55;case"green":return n.g/2.55;case"blue":return n.b/2.55;case"alpha":return t.a*100;case"kelvin":var a=e.minTemperature,i=e.maxTemperature,o=i-a,l=(r.kelvin-a)/o*100;return Math.max(0,Math.min(l,100));case"hue":return t.h/=3.6;case"saturation":return t.s;case"value":default:return t.v}}function lv(e,r,t){var n=on(e),a=n.handleRange,i=n.handleStart,o;e.layoutDirection==="horizontal"?o=-1*t+a+i:o=r-i,o=Math.max(Math.min(o,a),0);var l=Math.round(100/a*o);switch(e.sliderType){case"kelvin":var c=e.minTemperature,d=e.maxTemperature,u=d-c;return c+u*(l/100);case"alpha":return l/100;case"hue":return l*3.6;case"red":case"blue":case"green":return l*2.55;default:return l}}function sv(e,r){var t=on(e),n=t.width,a=t.height,i=t.handleRange,o=t.handleStart,l=e.layoutDirection==="horizontal",c=ov(e,r),d=l?n/2:a/2,u=o+c/100*i;return l&&(u=-1*u+i+o*2),{x:l?d:u,y:l?u:d}}function cv(e,r){var t=r.hsv,n=r.rgb;switch(e.sliderType){case"red":return[[0,"rgb(0,"+n.g+","+n.b+")"],[100,"rgb(255,"+n.g+","+n.b+")"]];case"green":return[[0,"rgb("+n.r+",0,"+n.b+")"],[100,"rgb("+n.r+",255,"+n.b+")"]];case"blue":return[[0,"rgb("+n.r+","+n.g+",0)"],[100,"rgb("+n.r+","+n.g+",255)"]];case"alpha":return[[0,"rgba("+n.r+","+n.g+","+n.b+",0)"],[100,"rgb("+n.r+","+n.g+","+n.b+")"]];case"kelvin":for(var a=[],i=e.minTemperature,o=e.maxTemperature,l=8,c=o-i,d=i,u=0;d<o;d+=c/l,u+=1){var s=Le.kelvinToRgb(d),v=s.r,f=s.g,p=s.b;a.push([100/l*u,"rgb("+v+","+f+","+p+")"])}return a;case"hue":return[[0,"#f00"],[16.666,"#ff0"],[33.333,"#0f0"],[50,"#0ff"],[66.666,"#00f"],[83.333,"#f0f"],[100,"#f00"]];case"saturation":var g=Le.hsvToHsl({h:t.h,s:0,v:t.v}),m=Le.hsvToHsl({h:t.h,s:100,v:t.v});return[[0,"hsl("+g.h+","+g.s+"%,"+g.l+"%)"],[100,"hsl("+m.h+","+m.s+"%,"+m.l+"%)"]];case"value":default:var b=Le.hsvToHsl({h:t.h,s:t.s,v:100});return[[0,"#000"],[100,"hsl("+b.h+","+b.s+"%,"+b.l+"%)"]]}}var Ei=Math.PI*2,uv=function(r,t){return(r%t+t)%t},Pi=function(r,t){return Math.sqrt(r*r+t*t)};function Ai(e){return e.width/2-e.padding-e.handleRadius-e.borderWidth}function dv(e,r,t){var n=Kr(e),a=n.cx,i=n.cy,o=e.width/2;return Pi(a-r,i-t)<o}function Kr(e){var r=e.width/2;return{width:e.width,radius:r-e.borderWidth,cx:r,cy:r}}function Ri(e,r,t){var n=e.wheelAngle,a=e.wheelDirection;return t&&a==="clockwise"?r=n+r:a==="clockwise"?r=360-n+r:t&&a==="anticlockwise"?r=n+180-r:a==="anticlockwise"&&(r=n-r),uv(r,360)}function vv(e,r){var t=r.hsv,n=Kr(e),a=n.cx,i=n.cy,o=Ai(e),l=(180+Ri(e,t.h,!0))*(Ei/360),c=t.s/100*o,d=e.wheelDirection==="clockwise"?-1:1;return{x:a+c*Math.cos(l)*d,y:i+c*Math.sin(l)*d}}function Jn(e,r,t){var n=Kr(e),a=n.cx,i=n.cy,o=Ai(e);r=a-r,t=i-t;var l=Ri(e,Math.atan2(-t,-r)*(360/Ei)),c=Math.min(Pi(r,t),o);return{h:Math.round(l),s:Math.round(100/o*c)}}function ln(e){var r=e.width,t=e.boxHeight,n=e.padding,a=e.handleRadius;return{width:r,height:t??r,radius:n+a}}function Zn(e,r,t){var n=ln(e),a=n.width,i=n.height,o=n.radius,l=o,c=a-o*2,d=i-o*2,u=(r-l)/c*100,s=(t-l)/d*100;return{s:Math.max(0,Math.min(u,100)),v:Math.max(0,Math.min(100-s,100))}}function fv(e,r){var t=ln(e),n=t.width,a=t.height,i=t.radius,o=r.hsv,l=i,c=n-i*2,d=a-i*2;return{x:l+o.s/100*c,y:l+(d-o.v/100*d)}}function pv(e,r){var t=r.hue;return[[[0,"#fff"],[100,"hsl("+t+",100%,50%)"]],[[0,"rgba(0,0,0,0)"],[100,"#000"]]]}var mt;function gv(e){mt||(mt=document.getElementsByTagName("base"));var r=window.navigator.userAgent,t=/^((?!chrome|android).)*safari/i.test(r),n=/iPhone|iPod|iPad/i.test(r),a=window.location;return(t||n)&&mt.length>0?a.protocol+"//"+a.host+a.pathname+a.search+e:e}function Bi(e,r,t,n){for(var a=0;a<n.length;a++){var i=n[a].x-r,o=n[a].y-t,l=Math.sqrt(i*i+o*o);if(l<e.handleRadius)return a}return null}function sn(e){return{boxSizing:"border-box",border:e.borderWidth+"px solid "+e.borderColor}}function Bt(e,r,t){return e+"-gradient("+r+", "+t.map(function(n){var a=n[0],i=n[1];return i+" "+a+"%"}).join(",")+")"}function V(e){return typeof e=="string"?e:e+"px"}var hv={width:300,height:300,color:"#fff",colors:[],padding:6,layoutDirection:"vertical",borderColor:"#fff",borderWidth:0,handleRadius:8,activeHandleRadius:null,handleSvg:null,handleProps:{x:0,y:0},wheelLightness:!0,wheelAngle:0,wheelDirection:"anticlockwise",sliderSize:null,sliderMargin:12,boxHeight:null},Qn=["mousemove","touchmove","mouseup","touchend"],Jr=function(e){function r(t){e.call(this,t),this.uid=(Math.random()+1).toString(36).substring(5)}return e&&(r.__proto__=e),r.prototype=Object.create(e&&e.prototype),r.prototype.constructor=r,r.prototype.render=function(n){var a=this.handleEvent.bind(this),i={onMouseDown:a,ontouchstart:a},o=n.layoutDirection==="horizontal",l=n.margin===null?n.sliderMargin:n.margin,c={overflow:"visible",display:o?"inline-block":"block"};return n.index>0&&(c[o?"marginLeft":"marginTop"]=l),O(Xr,null,n.children(this.uid,i,c))},r.prototype.handleEvent=function(n){var a=this,i=this.props.onInput,o=this.base.getBoundingClientRect();n.preventDefault();var l=n.touches?n.changedTouches[0]:n,c=l.clientX-o.left,d=l.clientY-o.top;switch(n.type){case"mousedown":case"touchstart":var u=i(c,d,0);u!==!1&&Qn.forEach(function(s){document.addEventListener(s,a,{passive:!1})});break;case"mousemove":case"touchmove":i(c,d,1);break;case"mouseup":case"touchend":i(c,d,2),Qn.forEach(function(s){document.removeEventListener(s,a,{passive:!1})});break}},r}(ke);function Re(e){var r=e.r,t=e.url,n=r,a=r;return O("svg",{className:"IroHandle IroHandle--"+e.index+" "+(e.isActive?"IroHandle--isActive":""),style:{"-webkit-tap-highlight-color":"rgba(0, 0, 0, 0);",transform:"translate("+V(e.x)+", "+V(e.y)+")",willChange:"transform",top:V(-r),left:V(-r),width:V(r*2),height:V(r*2),position:"absolute",overflow:"visible"}},t&&O("use",Object.assign({xlinkHref:gv(t)},e.props)),!t&&O("circle",{cx:n,cy:a,r,fill:"none","stroke-width":2,stroke:"#000"}),!t&&O("circle",{cx:n,cy:a,r:r-2,fill:e.fill,"stroke-width":2,stroke:"#fff"}))}Re.defaultProps={fill:"none",x:0,y:0,r:8,url:null,props:{x:0,y:0}};function jr(e){var r=e.activeIndex,t=r!==void 0&&r<e.colors.length?e.colors[r]:e.color,n=on(e),a=n.width,i=n.height,o=n.radius,l=sv(e,t),c=cv(e,t);function d(u,s,v){var f=lv(e,u,s);e.parent.inputActive=!0,t[e.sliderType]=f,e.onInput(v,e.id)}return O(Jr,Object.assign({},e,{onInput:d}),function(u,s,v){return O("div",Object.assign({},s,{className:"IroSlider",style:Object.assign({},{position:"relative",width:V(a),height:V(i),borderRadius:V(o),background:"conic-gradient(#ccc 25%, #fff 0 50%, #ccc 0 75%, #fff 0)",backgroundSize:"8px 8px"},v)}),O("div",{className:"IroSliderGradient",style:Object.assign({},{position:"absolute",top:0,left:0,width:"100%",height:"100%",borderRadius:V(o),background:Bt("linear",e.layoutDirection==="horizontal"?"to top":"to right",c)},sn(e))}),O(Re,{isActive:!0,index:t.index,r:e.handleRadius,url:e.handleSvg,props:e.handleProps,x:l.x,y:l.y}))})}jr.defaultProps=Object.assign({},iv);function mv(e){var r=ln(e),t=r.width,n=r.height,a=r.radius,i=e.colors,o=e.parent,l=e.activeIndex,c=l!==void 0&&l<e.colors.length?e.colors[l]:e.color,d=pv(e,c),u=i.map(function(v){return fv(e,v)});function s(v,f,p){if(p===0){var g=Bi(e,v,f,u);g!==null?o.setActiveColor(g):(o.inputActive=!0,c.hsv=Zn(e,v,f),e.onInput(p,e.id))}else p===1&&(o.inputActive=!0,c.hsv=Zn(e,v,f));e.onInput(p,e.id)}return O(Jr,Object.assign({},e,{onInput:s}),function(v,f,p){return O("div",Object.assign({},f,{className:"IroBox",style:Object.assign({},{width:V(t),height:V(n),position:"relative"},p)}),O("div",{className:"IroBox",style:Object.assign({},{width:"100%",height:"100%",borderRadius:V(a)},sn(e),{background:Bt("linear","to bottom",d[1])+","+Bt("linear","to right",d[0])})}),i.filter(function(g){return g!==c}).map(function(g){return O(Re,{isActive:!1,index:g.index,fill:g.hslString,r:e.handleRadius,url:e.handleSvg,props:e.handleProps,x:u[g.index].x,y:u[g.index].y})}),O(Re,{isActive:!0,index:c.index,fill:c.hslString,r:e.activeHandleRadius||e.handleRadius,url:e.handleSvg,props:e.handleProps,x:u[c.index].x,y:u[c.index].y}))})}var bv="conic-gradient(red, yellow, lime, aqua, blue, magenta, red)",yv="conic-gradient(red, magenta, blue, aqua, lime, yellow, red)";function Ni(e){var r=Kr(e),t=r.width,n=e.colors;e.borderWidth;var a=e.parent,i=e.color,o=i.hsv,l=n.map(function(u){return vv(e,u)}),c={position:"absolute",top:0,left:0,width:"100%",height:"100%",borderRadius:"50%",boxSizing:"border-box"};function d(u,s,v){if(v===0){if(!dv(e,u,s))return!1;var f=Bi(e,u,s,l);f!==null?a.setActiveColor(f):(a.inputActive=!0,i.hsv=Jn(e,u,s),e.onInput(v,e.id))}else v===1&&(a.inputActive=!0,i.hsv=Jn(e,u,s));e.onInput(v,e.id)}return O(Jr,Object.assign({},e,{onInput:d}),function(u,s,v){return O("div",Object.assign({},s,{className:"IroWheel",style:Object.assign({},{width:V(t),height:V(t),position:"relative"},v)}),O("div",{className:"IroWheelHue",style:Object.assign({},c,{transform:"rotateZ("+(e.wheelAngle+90)+"deg)",background:e.wheelDirection==="clockwise"?bv:yv})}),O("div",{className:"IroWheelSaturation",style:Object.assign({},c,{background:"radial-gradient(circle closest-side, #fff, transparent)"})}),e.wheelLightness&&O("div",{className:"IroWheelLightness",style:Object.assign({},c,{background:"#000",opacity:1-o.v/100})}),O("div",{className:"IroWheelBorder",style:Object.assign({},c,sn(e))}),n.filter(function(f){return f!==i}).map(function(f){return O(Re,{isActive:!1,index:f.index,fill:f.hslString,r:e.handleRadius,url:e.handleSvg,props:e.handleProps,x:l[f.index].x,y:l[f.index].y})}),O(Re,{isActive:!0,index:i.index,fill:i.hslString,r:e.activeHandleRadius||e.handleRadius,url:e.handleSvg,props:e.handleProps,x:l[i.index].x,y:l[i.index].y}))})}function xv(e){var r=function(t,n){var a,i=document.createElement("div");Vd(O(e,Object.assign({},{ref:function(l){return a=l}},n)),i);function o(){var l=t instanceof Element?t:document.querySelector(t);l.appendChild(a.base),a.onMount(l)}return document.readyState!=="loading"?o():document.addEventListener("DOMContentLoaded",o),a};return r.prototype=e.prototype,Object.assign(r,e),r.__component=e,r}var Oi=function(e){function r(t){var n=this;e.call(this,t),this.colors=[],this.inputActive=!1,this.events={},this.activeEvents={},this.deferredEvents={},this.id=t.id;var a=t.colors.length>0?t.colors:[t.color];a.forEach(function(i){return n.addColor(i)}),this.setActiveColor(0),this.state=Object.assign({},t,{color:this.color,colors:this.colors,layout:t.layout})}return e&&(r.__proto__=e),r.prototype=Object.create(e&&e.prototype),r.prototype.constructor=r,r.prototype.addColor=function(n,a){a===void 0&&(a=this.colors.length);var i=new Le(n,this.onColorChange.bind(this));this.colors.splice(a,0,i),this.colors.forEach(function(o,l){return o.index=l}),this.state&&this.setState({colors:this.colors}),this.deferredEmit("color:init",i)},r.prototype.removeColor=function(n){var a=this.colors.splice(n,1)[0];a.unbind(),this.colors.forEach(function(i,o){return i.index=o}),this.state&&this.setState({colors:this.colors}),a.index===this.color.index&&this.setActiveColor(0),this.emit("color:remove",a)},r.prototype.setActiveColor=function(n){this.color=this.colors[n],this.state&&this.setState({color:this.color}),this.emit("color:setActive",this.color)},r.prototype.setColors=function(n,a){var i=this;a===void 0&&(a=0),this.colors.forEach(function(o){return o.unbind()}),this.colors=[],n.forEach(function(o){return i.addColor(o)}),this.setActiveColor(a),this.emit("color:setAll",this.colors)},r.prototype.on=function(n,a){var i=this,o=this.events;(Array.isArray(n)?n:[n]).forEach(function(l){(o[l]||(o[l]=[])).push(a),i.deferredEvents[l]&&(i.deferredEvents[l].forEach(function(c){a.apply(null,c)}),i.deferredEvents[l]=[])})},r.prototype.off=function(n,a){var i=this;(Array.isArray(n)?n:[n]).forEach(function(o){var l=i.events[o];l&&l.splice(l.indexOf(a),1)})},r.prototype.emit=function(n){for(var a=this,i=[],o=arguments.length-1;o-- >0;)i[o]=arguments[o+1];var l=this.activeEvents,c=l.hasOwnProperty(n)?l[n]:!1;if(!c){l[n]=!0;var d=this.events[n]||[];d.forEach(function(u){return u.apply(a,i)}),l[n]=!1}},r.prototype.deferredEmit=function(n){for(var a,i=[],o=arguments.length-1;o-- >0;)i[o]=arguments[o+1];var l=this.deferredEvents;(a=this).emit.apply(a,[n].concat(i)),(l[n]||(l[n]=[])).push(i)},r.prototype.setOptions=function(n){this.setState(n)},r.prototype.resize=function(n){this.setOptions({width:n})},r.prototype.reset=function(){this.colors.forEach(function(n){return n.reset()}),this.setState({colors:this.colors})},r.prototype.onMount=function(n){this.el=n,this.deferredEmit("mount",this)},r.prototype.onColorChange=function(n,a){this.setState({color:this.color}),this.inputActive&&(this.inputActive=!1,this.emit("input:change",n,a)),this.emit("color:change",n,a)},r.prototype.emitInputEvent=function(n,a){n===0?this.emit("input:start",this.color,a):n===1?this.emit("input:move",this.color,a):n===2&&this.emit("input:end",this.color,a)},r.prototype.render=function(n,a){var i=this,o=a.layout;if(!Array.isArray(o)){switch(o){default:o=[{component:Ni},{component:jr}]}a.transparency&&o.push({component:jr,options:{sliderType:"alpha"}})}return O("div",{class:"IroColorPicker",id:a.id,style:{display:a.display}},o.map(function(l,c){var d=l.component,u=l.options;return O(d,Object.assign({},a,u,{ref:void 0,onInput:i.emitInputEvent.bind(i),parent:i,index:c}))}))},r}(ke);Oi.defaultProps=Object.assign({},hv,{colors:[],display:"block",id:null,layout:"default",margin:null});var Dv=xv(Oi),Nt;(function(e){e.version="5.5.2",e.Color=Le,e.ColorPicker=Dv,function(r){r.h=O,r.ComponentBase=Jr,r.Handle=Re,r.Slider=jr,r.Wheel=Ni,r.Box=mv}(e.ui||(e.ui={}))})(Nt||(Nt={}));var bt=Nt;const wv=()=>{const{currentControl:e}=de(a=>a.uiSlice),[r,t]=C.useState("#374151"),n=We();return C.useEffect(()=>{var a=new bt.ColorPicker("#iroColor",{width:100,color:"#374152",layoutDirection:"horizontal",wheelAngle:60,layout:[{component:bt.ui.Wheel},{component:bt.ui.Slider}]});return a.on("color:change",function(i){t(i.hexString)}),()=>{a=null}},[]),C.useEffect(()=>{e=="Wieve Edit"?n(yt.setBgColor(r)):n(yt.setBrushColor(r))},[r]),h.jsx("div",{className:"self-end -mb-56",children:h.jsx("div",{id:"iroColor"})})};function Cv(e){return k({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M337.094 16.063c-21.228.17-43.46 2.637-65.906 7.093-34.297 6.81-69.222 18.232-101.97 33.657-9.218-6.683-20.773-10.25-32.593-10.25-13.02 0-25.738 4.318-35.344 12.374-9.605 8.057-15.47 19.56-15.468 31.688.002 5.604 1.268 11.065 3.563 16.125-24.207 19.952-44.59 42.7-59 67.813-15.064 26.25-15.215 53.9-3.72 74.875 11.498 20.973 34.517 34.804 62.47 34.75 28.542-.056 59.887-15.612 93.156-33.875 33.27-18.264 68.27-39.706 101-53.313 31.18-12.96 85.634-17.866 129.97-27.688 22.168-4.91 42-10.9 56.25-21.593 7.125-5.347 12.92-12.15 15.875-20.5 2.954-8.353 2.842-17.892-.188-27.876-11.704-38.574-42.262-63.046-80.78-74.594-19.26-5.774-40.597-8.54-63.094-8.688-1.407-.01-2.804-.01-4.22 0zm.125 18.03c1.328-.01 2.65-.008 3.967 0 21.097.142 40.78 2.735 58.032 7.907 34.502 10.345 58.912 30.144 68.75 62.563 2.173 7.164 1.974 12.31.436 16.656-1.537 4.345-4.607 8.28-9.687 12.093-10.16 7.623-28.176 13.74-49.376 18.437-36.21 8.022-81.14 12.245-116.063 22.688-31.145-26.54-68.817-50.18-108.124-70.875 1.473-4.14 2.28-8.49 2.28-12.938.003-6.907-1.9-13.614-5.31-19.594 29.874-13.7 61.542-24.053 92.593-30.218 21.448-4.258 42.56-6.563 62.5-6.718zm-200.595 30.47c4.395 0 8.808.79 12.875 2.187-6.233 3.344-12.376 6.832-18.375 10.47-5.086-2.306-10.163-4.542-15.22-6.75 5.713-3.65 13.265-5.907 20.72-5.907zm29.22 14.343c2.358 3.726 3.593 7.82 3.593 11.72 0 1.498-.204 3.036-.563 4.56-5.803-2.908-11.64-5.746-17.47-8.53 4.743-2.675 9.56-5.252 14.44-7.75zm-61.25 6.28c2.83 1.222 5.66 2.435 8.5 3.69-2.96 2.033-5.874 4.11-8.75 6.218-.346-1.495-.532-3-.532-4.47 0-1.784.274-3.623.78-5.436zm28.25 12.658c8.508 3.954 17.008 8.064 25.468 12.28-5.81 4.018-13.81 6.564-21.688 6.564-7.877 0-15.88-2.546-21.688-6.563 5.788-4.233 11.76-8.34 17.907-12.28zm42.75 21.094c35.565 18.672 69.578 39.638 98.06 62.593-33.822 14.413-68.17 35.512-100.03 53-32.705 17.955-62.993 31.616-84.563 31.657-22.158.043-38.318-10.252-46.624-25.406-8.307-15.153-8.875-35.608 3.562-57.28 12.935-22.54 31.727-43.46 54.313-62.063.324.29.634.595.968.876 9.606 8.053 22.326 12.374 35.345 12.374 13.02 0 25.74-4.32 35.344-12.375 1.27-1.064 2.49-2.196 3.624-3.374zm144.686 80.156a9 9 0 0 0-5.936 15.937c55.87 47.83 85.364 85.454 96.75 125.157 11.386 39.704 5.165 83.09-13.813 143.657a9.01 9.01 0 1 0 17.19 5.406c19.374-61.833 26.758-109.32 13.936-154.03-12.822-44.713-45.345-85.056-102.375-133.876a9 9 0 0 0-5.75-2.25z"}}]})(e)}const Sv=()=>{const{brushColor:e,bgColor:r}=de(a=>a.editorSlice),{currentControl:t}=de(a=>a.uiSlice),n=We();return h.jsxs("div",{children:[h.jsxs("div",{className:"flex flex-row paint-brush bg-black mb-20 rounded-xl opacity-70",style:{height:300,clipPath:t=="Paint Brush"?"circle(100% at 50% 50%)":"circle(12% at 85% 90%)",position:"absolute",bottom:30,right:5},children:[h.jsx(Iv,{}),h.jsx("div",{className:`cursor-pointer self-end shadow-black ${t=="Paint Brush"&&"bg-white"}  rounded-full z-50 relative`,style:{padding:10},onClick:()=>n(ce.setCurrentControl(t=="Paint Brush"?null:"Paint Brush")),children:h.jsx(lo,{color:e,size:40})})]}),h.jsx("div",{style:{bottom:120,right:6,padding:5},className:` cursor-pointer absolute ${t=="Wieve Edit"?"bg-white":"bg-black"} opacity-50 shadow-black  rounded-full`,onClick:()=>n(ce.setCurrentControl(t=="Wieve Edit"?null:"Wieve Edit")),children:h.jsx(Ad,{color:r,className:"button-active",size:50})})]})},Iv=()=>{const{brushWidth:e}=de(a=>a.editorSlice),{drawTool:r,currentControl:t}=de(a=>a.uiSlice),n=We();return h.jsx("div",{className:"relative w-36 h-64 rounded-full",children:h.jsx("div",{className:`absolute rounded-md  ${t=="Paint Brush"?"opacity-60":"opacity-0"} `,children:t=="Paint Brush"&&h.jsxs("div",{className:"flex flex-col relative px-0",children:[h.jsxs("div",{className:"flex justify-around my-4",children:[h.jsx(Ki,{className:r==="brush"?"bg-black text-green-400 ":"cursor-pointer button-active",size:20,onClick:()=>n(ce.setDrawTool("brush"))}),h.jsx(Cv,{className:r==="lasso"?"bg-black text-green-400":"cursor-pointer button-active",size:20,onClick:()=>n(ce.setDrawTool("lasso"))})]}),h.jsx("div",{className:"w-52 bg-white my-3",style:{height:1}}),h.jsx("div",{className:"px-5 w-full",children:h.jsx("input",{type:"range",min:"1",max:"100",onChange:a=>n(yt.setBrushWidth(parseInt(a.target.value))),value:e,className:"range range-primary"})})]})})})},Bv=({threadState:e,actions:r})=>h.jsxs("div",{className:"w-full flex flex-row items-center justify-between ",children:[h.jsx(Ev,{tState:e,tActions:r}),h.jsx(co,{tState:e,tActions:r}),h.jsx(Pv,{tState:e,tActions:r})]}),Ev=({tState:e,tActions:r})=>{const[t,n]=C.useState(!0);return h.jsxs("div",{className:`flex flex-col justify-between absolute top-0 bottom-0 left-0 ${t?"w-36":"w-7"} transition-all`,children:[t?h.jsxs("div",{className:"flex flex-row justify-between items-center",children:[h.jsx(zi,{threadState:e,actions:r}),h.jsx(ta,{size:30,className:"button-active",onClick:()=>n(!1)})]}):h.jsx(na,{size:30,className:"button-active",onClick:()=>n(!0)}),h.jsx(kd,{threadState:e,actions:r,isExpanded:t}),t&&h.jsx(jd,{tState:e,tActions:r})]})},Pv=({tState:e,tActions:r})=>{const[t,n]=C.useState(!0);return h.jsxs("div",{className:`flex flex-col justify-between items-end absolute top-0 bottom-0 right-0 pr-1 ${t?"w-36":"w-7"} transition-all`,children:[h.jsx("div",{className:"self-start",children:t?h.jsxs("div",{className:"flex flex-row justify-between w-36 pr-3 items-center",children:[h.jsx(na,{className:"button-active",size:30,onClick:()=>n(!1)}),h.jsx(io,{tActions:r,tState:e})]}):h.jsx(ta,{className:"button-active",onClick:()=>n(!0),size:30})}),t&&h.jsxs(h.Fragment,{children:[h.jsx(wv,{}),h.jsx(Sv,{})]})]})};export{Pv as RightSide,Bv as default};
