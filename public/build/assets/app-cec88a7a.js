function Ry(e,t){for(var r=0;r<t.length;r++){const n=t[r];if(typeof n!="string"&&!Array.isArray(n)){for(const p in n)if(p!=="default"&&!(p in e)){const m=Object.getOwnPropertyDescriptor(n,p);m&&Object.defineProperty(e,p,m.get?m:{enumerable:!0,get:()=>n[p]})}}}return Object.freeze(Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}))}const Ly="modulepreload",Iy=function(e){return"/build/"+e},Xf={},An=function(t,r,n){if(!r||r.length===0)return t();const p=document.getElementsByTagName("link");return Promise.all(r.map(m=>{if(m=Iy(m),m in Xf)return;Xf[m]=!0;const S=m.endsWith(".css"),h=S?'[rel="stylesheet"]':"";if(!!n)for(let f=p.length-1;f>=0;f--){const o=p[f];if(o.href===m&&(!S||o.rel==="stylesheet"))return}else if(document.querySelector(`link[href="${m}"]${h}`))return;const u=document.createElement("link");if(u.rel=S?"stylesheet":Ly,S||(u.as="script",u.crossOrigin=""),u.href=m,document.head.appendChild(u),S)return new Promise((f,o)=>{u.addEventListener("load",f),u.addEventListener("error",()=>o(new Error(`Unable to preload CSS for ${m}`)))})})).then(()=>t()).catch(m=>{const S=new Event("vite:preloadError",{cancelable:!0});if(S.payload=m,window.dispatchEvent(S),!S.defaultPrevented)throw m})};var Ni=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function bn(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}function jy(e){if(e.__esModule)return e;var t=e.default;if(typeof t=="function"){var r=function n(){return this instanceof n?Reflect.construct(t,arguments,this.constructor):t.apply(this,arguments)};r.prototype=t.prototype}else r={};return Object.defineProperty(r,"__esModule",{value:!0}),Object.keys(e).forEach(function(n){var p=Object.getOwnPropertyDescriptor(e,n);Object.defineProperty(r,n,p.get?p:{enumerable:!0,get:function(){return e[n]}})}),r}var ip={exports:{}},aa={},op={exports:{}},ye={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Eo=Symbol.for("react.element"),By=Symbol.for("react.portal"),Ny=Symbol.for("react.fragment"),zy=Symbol.for("react.strict_mode"),Uy=Symbol.for("react.profiler"),Wy=Symbol.for("react.provider"),Hy=Symbol.for("react.context"),Vy=Symbol.for("react.forward_ref"),$y=Symbol.for("react.suspense"),Xy=Symbol.for("react.memo"),Yy=Symbol.for("react.lazy"),Yf=Symbol.iterator;function Gy(e){return e===null||typeof e!="object"?null:(e=Yf&&e[Yf]||e["@@iterator"],typeof e=="function"?e:null)}var sp={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},ap=Object.assign,lp={};function mi(e,t,r){this.props=e,this.context=t,this.refs=lp,this.updater=r||sp}mi.prototype.isReactComponent={};mi.prototype.setState=function(e,t){if(typeof e!="object"&&typeof e!="function"&&e!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")};mi.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")};function up(){}up.prototype=mi.prototype;function lc(e,t,r){this.props=e,this.context=t,this.refs=lp,this.updater=r||sp}var uc=lc.prototype=new up;uc.constructor=lc;ap(uc,mi.prototype);uc.isPureReactComponent=!0;var Gf=Array.isArray,cp=Object.prototype.hasOwnProperty,cc={current:null},fp={key:!0,ref:!0,__self:!0,__source:!0};function hp(e,t,r){var n,p={},m=null,S=null;if(t!=null)for(n in t.ref!==void 0&&(S=t.ref),t.key!==void 0&&(m=""+t.key),t)cp.call(t,n)&&!fp.hasOwnProperty(n)&&(p[n]=t[n]);var h=arguments.length-2;if(h===1)p.children=r;else if(1<h){for(var i=Array(h),u=0;u<h;u++)i[u]=arguments[u+2];p.children=i}if(e&&e.defaultProps)for(n in h=e.defaultProps,h)p[n]===void 0&&(p[n]=h[n]);return{$$typeof:Eo,type:e,key:m,ref:S,props:p,_owner:cc.current}}function qy(e,t){return{$$typeof:Eo,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}function fc(e){return typeof e=="object"&&e!==null&&e.$$typeof===Eo}function Ky(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(r){return t[r]})}var qf=/\/+/g;function nl(e,t){return typeof e=="object"&&e!==null&&e.key!=null?Ky(""+e.key):t.toString(36)}function ls(e,t,r,n,p){var m=typeof e;(m==="undefined"||m==="boolean")&&(e=null);var S=!1;if(e===null)S=!0;else switch(m){case"string":case"number":S=!0;break;case"object":switch(e.$$typeof){case Eo:case By:S=!0}}if(S)return S=e,p=p(S),e=n===""?"."+nl(S,0):n,Gf(p)?(r="",e!=null&&(r=e.replace(qf,"$&/")+"/"),ls(p,t,r,"",function(u){return u})):p!=null&&(fc(p)&&(p=qy(p,r+(!p.key||S&&S.key===p.key?"":(""+p.key).replace(qf,"$&/")+"/")+e)),t.push(p)),1;if(S=0,n=n===""?".":n+":",Gf(e))for(var h=0;h<e.length;h++){m=e[h];var i=n+nl(m,h);S+=ls(m,t,r,i,p)}else if(i=Gy(e),typeof i=="function")for(e=i.call(e),h=0;!(m=e.next()).done;)m=m.value,i=n+nl(m,h++),S+=ls(m,t,r,i,p);else if(m==="object")throw t=String(e),Error("Objects are not valid as a React child (found: "+(t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return S}function Wo(e,t,r){if(e==null)return e;var n=[],p=0;return ls(e,n,"","",function(m){return t.call(r,m,p++)}),n}function Qy(e){if(e._status===-1){var t=e._result;t=t(),t.then(function(r){(e._status===0||e._status===-1)&&(e._status=1,e._result=r)},function(r){(e._status===0||e._status===-1)&&(e._status=2,e._result=r)}),e._status===-1&&(e._status=0,e._result=t)}if(e._status===1)return e._result.default;throw e._result}var ht={current:null},us={transition:null},Jy={ReactCurrentDispatcher:ht,ReactCurrentBatchConfig:us,ReactCurrentOwner:cc};ye.Children={map:Wo,forEach:function(e,t,r){Wo(e,function(){t.apply(this,arguments)},r)},count:function(e){var t=0;return Wo(e,function(){t++}),t},toArray:function(e){return Wo(e,function(t){return t})||[]},only:function(e){if(!fc(e))throw Error("React.Children.only expected to receive a single React element child.");return e}};ye.Component=mi;ye.Fragment=Ny;ye.Profiler=Uy;ye.PureComponent=lc;ye.StrictMode=zy;ye.Suspense=$y;ye.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Jy;ye.cloneElement=function(e,t,r){if(e==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var n=ap({},e.props),p=e.key,m=e.ref,S=e._owner;if(t!=null){if(t.ref!==void 0&&(m=t.ref,S=cc.current),t.key!==void 0&&(p=""+t.key),e.type&&e.type.defaultProps)var h=e.type.defaultProps;for(i in t)cp.call(t,i)&&!fp.hasOwnProperty(i)&&(n[i]=t[i]===void 0&&h!==void 0?h[i]:t[i])}var i=arguments.length-2;if(i===1)n.children=r;else if(1<i){h=Array(i);for(var u=0;u<i;u++)h[u]=arguments[u+2];n.children=h}return{$$typeof:Eo,type:e.type,key:p,ref:m,props:n,_owner:S}};ye.createContext=function(e){return e={$$typeof:Hy,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},e.Provider={$$typeof:Wy,_context:e},e.Consumer=e};ye.createElement=hp;ye.createFactory=function(e){var t=hp.bind(null,e);return t.type=e,t};ye.createRef=function(){return{current:null}};ye.forwardRef=function(e){return{$$typeof:Vy,render:e}};ye.isValidElement=fc;ye.lazy=function(e){return{$$typeof:Yy,_payload:{_status:-1,_result:e},_init:Qy}};ye.memo=function(e,t){return{$$typeof:Xy,type:e,compare:t===void 0?null:t}};ye.startTransition=function(e){var t=us.transition;us.transition={};try{e()}finally{us.transition=t}};ye.unstable_act=function(){throw Error("act(...) is not supported in production builds of React.")};ye.useCallback=function(e,t){return ht.current.useCallback(e,t)};ye.useContext=function(e){return ht.current.useContext(e)};ye.useDebugValue=function(){};ye.useDeferredValue=function(e){return ht.current.useDeferredValue(e)};ye.useEffect=function(e,t){return ht.current.useEffect(e,t)};ye.useId=function(){return ht.current.useId()};ye.useImperativeHandle=function(e,t,r){return ht.current.useImperativeHandle(e,t,r)};ye.useInsertionEffect=function(e,t){return ht.current.useInsertionEffect(e,t)};ye.useLayoutEffect=function(e,t){return ht.current.useLayoutEffect(e,t)};ye.useMemo=function(e,t){return ht.current.useMemo(e,t)};ye.useReducer=function(e,t,r){return ht.current.useReducer(e,t,r)};ye.useRef=function(e){return ht.current.useRef(e)};ye.useState=function(e){return ht.current.useState(e)};ye.useSyncExternalStore=function(e,t,r){return ht.current.useSyncExternalStore(e,t,r)};ye.useTransition=function(){return ht.current.useTransition()};ye.version="18.2.0";op.exports=ye;var he=op.exports;const Kf=bn(he);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Zy=he,e0=Symbol.for("react.element"),t0=Symbol.for("react.fragment"),r0=Object.prototype.hasOwnProperty,n0=Zy.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,i0={key:!0,ref:!0,__self:!0,__source:!0};function dp(e,t,r){var n,p={},m=null,S=null;r!==void 0&&(m=""+r),t.key!==void 0&&(m=""+t.key),t.ref!==void 0&&(S=t.ref);for(n in t)r0.call(t,n)&&!i0.hasOwnProperty(n)&&(p[n]=t[n]);if(e&&e.defaultProps)for(n in t=e.defaultProps,t)p[n]===void 0&&(p[n]=t[n]);return{$$typeof:e0,type:e,key:m,ref:S,props:p,_owner:n0.current}}aa.Fragment=t0;aa.jsx=dp;aa.jsxs=dp;ip.exports=aa;var $i=ip.exports;function pp(e,t){return function(){return e.apply(t,arguments)}}const{toString:o0}=Object.prototype,{getPrototypeOf:hc}=Object,la=(e=>t=>{const r=o0.call(t);return e[r]||(e[r]=r.slice(8,-1).toLowerCase())})(Object.create(null)),ir=e=>(e=e.toLowerCase(),t=>la(t)===e),ua=e=>t=>typeof t===e,{isArray:vi}=Array,io=ua("undefined");function s0(e){return e!==null&&!io(e)&&e.constructor!==null&&!io(e.constructor)&&Rt(e.constructor.isBuffer)&&e.constructor.isBuffer(e)}const gp=ir("ArrayBuffer");function a0(e){let t;return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?t=ArrayBuffer.isView(e):t=e&&e.buffer&&gp(e.buffer),t}const l0=ua("string"),Rt=ua("function"),mp=ua("number"),ca=e=>e!==null&&typeof e=="object",u0=e=>e===!0||e===!1,cs=e=>{if(la(e)!=="object")return!1;const t=hc(e);return(t===null||t===Object.prototype||Object.getPrototypeOf(t)===null)&&!(Symbol.toStringTag in e)&&!(Symbol.iterator in e)},c0=ir("Date"),f0=ir("File"),h0=ir("Blob"),d0=ir("FileList"),p0=e=>ca(e)&&Rt(e.pipe),g0=e=>{let t;return e&&(typeof FormData=="function"&&e instanceof FormData||Rt(e.append)&&((t=la(e))==="formdata"||t==="object"&&Rt(e.toString)&&e.toString()==="[object FormData]"))},m0=ir("URLSearchParams"),v0=e=>e.trim?e.trim():e.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"");function Po(e,t,{allOwnKeys:r=!1}={}){if(e===null||typeof e>"u")return;let n,p;if(typeof e!="object"&&(e=[e]),vi(e))for(n=0,p=e.length;n<p;n++)t.call(null,e[n],n,e);else{const m=r?Object.getOwnPropertyNames(e):Object.keys(e),S=m.length;let h;for(n=0;n<S;n++)h=m[n],t.call(null,e[h],h,e)}}function vp(e,t){t=t.toLowerCase();const r=Object.keys(e);let n=r.length,p;for(;n-- >0;)if(p=r[n],t===p.toLowerCase())return p;return null}const yp=(()=>typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:global)(),Sp=e=>!io(e)&&e!==yp;function Ql(){const{caseless:e}=Sp(this)&&this||{},t={},r=(n,p)=>{const m=e&&vp(t,p)||p;cs(t[m])&&cs(n)?t[m]=Ql(t[m],n):cs(n)?t[m]=Ql({},n):vi(n)?t[m]=n.slice():t[m]=n};for(let n=0,p=arguments.length;n<p;n++)arguments[n]&&Po(arguments[n],r);return t}const y0=(e,t,r,{allOwnKeys:n}={})=>(Po(t,(p,m)=>{r&&Rt(p)?e[m]=pp(p,r):e[m]=p},{allOwnKeys:n}),e),S0=e=>(e.charCodeAt(0)===65279&&(e=e.slice(1)),e),_0=(e,t,r,n)=>{e.prototype=Object.create(t.prototype,n),e.prototype.constructor=e,Object.defineProperty(e,"super",{value:t.prototype}),r&&Object.assign(e.prototype,r)},w0=(e,t,r,n)=>{let p,m,S;const h={};if(t=t||{},e==null)return t;do{for(p=Object.getOwnPropertyNames(e),m=p.length;m-- >0;)S=p[m],(!n||n(S,e,t))&&!h[S]&&(t[S]=e[S],h[S]=!0);e=r!==!1&&hc(e)}while(e&&(!r||r(e,t))&&e!==Object.prototype);return t},C0=(e,t,r)=>{e=String(e),(r===void 0||r>e.length)&&(r=e.length),r-=t.length;const n=e.indexOf(t,r);return n!==-1&&n===r},x0=e=>{if(!e)return null;if(vi(e))return e;let t=e.length;if(!mp(t))return null;const r=new Array(t);for(;t-- >0;)r[t]=e[t];return r},T0=(e=>t=>e&&t instanceof e)(typeof Uint8Array<"u"&&hc(Uint8Array)),b0=(e,t)=>{const n=(e&&e[Symbol.iterator]).call(e);let p;for(;(p=n.next())&&!p.done;){const m=p.value;t.call(e,m[0],m[1])}},O0=(e,t)=>{let r;const n=[];for(;(r=e.exec(t))!==null;)n.push(r);return n},E0=ir("HTMLFormElement"),P0=e=>e.toLowerCase().replace(/[-_\s]([a-z\d])(\w*)/g,function(r,n,p){return n.toUpperCase()+p}),Qf=(({hasOwnProperty:e})=>(t,r)=>e.call(t,r))(Object.prototype),k0=ir("RegExp"),_p=(e,t)=>{const r=Object.getOwnPropertyDescriptors(e),n={};Po(r,(p,m)=>{let S;(S=t(p,m,e))!==!1&&(n[m]=S||p)}),Object.defineProperties(e,n)},A0=e=>{_p(e,(t,r)=>{if(Rt(e)&&["arguments","caller","callee"].indexOf(r)!==-1)return!1;const n=e[r];if(Rt(n)){if(t.enumerable=!1,"writable"in t){t.writable=!1;return}t.set||(t.set=()=>{throw Error("Can not rewrite read-only method '"+r+"'")})}})},D0=(e,t)=>{const r={},n=p=>{p.forEach(m=>{r[m]=!0})};return vi(e)?n(e):n(String(e).split(t)),r},M0=()=>{},F0=(e,t)=>(e=+e,Number.isFinite(e)?e:t),il="abcdefghijklmnopqrstuvwxyz",Jf="0123456789",wp={DIGIT:Jf,ALPHA:il,ALPHA_DIGIT:il+il.toUpperCase()+Jf},R0=(e=16,t=wp.ALPHA_DIGIT)=>{let r="";const{length:n}=t;for(;e--;)r+=t[Math.random()*n|0];return r};function L0(e){return!!(e&&Rt(e.append)&&e[Symbol.toStringTag]==="FormData"&&e[Symbol.iterator])}const I0=e=>{const t=new Array(10),r=(n,p)=>{if(ca(n)){if(t.indexOf(n)>=0)return;if(!("toJSON"in n)){t[p]=n;const m=vi(n)?[]:{};return Po(n,(S,h)=>{const i=r(S,p+1);!io(i)&&(m[h]=i)}),t[p]=void 0,m}}return n};return r(e,0)},j0=ir("AsyncFunction"),B0=e=>e&&(ca(e)||Rt(e))&&Rt(e.then)&&Rt(e.catch),q={isArray:vi,isArrayBuffer:gp,isBuffer:s0,isFormData:g0,isArrayBufferView:a0,isString:l0,isNumber:mp,isBoolean:u0,isObject:ca,isPlainObject:cs,isUndefined:io,isDate:c0,isFile:f0,isBlob:h0,isRegExp:k0,isFunction:Rt,isStream:p0,isURLSearchParams:m0,isTypedArray:T0,isFileList:d0,forEach:Po,merge:Ql,extend:y0,trim:v0,stripBOM:S0,inherits:_0,toFlatObject:w0,kindOf:la,kindOfTest:ir,endsWith:C0,toArray:x0,forEachEntry:b0,matchAll:O0,isHTMLForm:E0,hasOwnProperty:Qf,hasOwnProp:Qf,reduceDescriptors:_p,freezeMethods:A0,toObjectSet:D0,toCamelCase:P0,noop:M0,toFiniteNumber:F0,findKey:vp,global:yp,isContextDefined:Sp,ALPHABET:wp,generateString:R0,isSpecCompliantForm:L0,toJSONObject:I0,isAsyncFn:j0,isThenable:B0};function _e(e,t,r,n,p){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=new Error().stack,this.message=e,this.name="AxiosError",t&&(this.code=t),r&&(this.config=r),n&&(this.request=n),p&&(this.response=p)}q.inherits(_e,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:q.toJSONObject(this.config),code:this.code,status:this.response&&this.response.status?this.response.status:null}}});const Cp=_e.prototype,xp={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED","ERR_NOT_SUPPORT","ERR_INVALID_URL"].forEach(e=>{xp[e]={value:e}});Object.defineProperties(_e,xp);Object.defineProperty(Cp,"isAxiosError",{value:!0});_e.from=(e,t,r,n,p,m)=>{const S=Object.create(Cp);return q.toFlatObject(e,S,function(i){return i!==Error.prototype},h=>h!=="isAxiosError"),_e.call(S,e.message,t,r,n,p),S.cause=e,S.name=e.name,m&&Object.assign(S,m),S};const N0=null;function Jl(e){return q.isPlainObject(e)||q.isArray(e)}function Tp(e){return q.endsWith(e,"[]")?e.slice(0,-2):e}function Zf(e,t,r){return e?e.concat(t).map(function(p,m){return p=Tp(p),!r&&m?"["+p+"]":p}).join(r?".":""):t}function z0(e){return q.isArray(e)&&!e.some(Jl)}const U0=q.toFlatObject(q,{},null,function(t){return/^is[A-Z]/.test(t)});function fa(e,t,r){if(!q.isObject(e))throw new TypeError("target must be an object");t=t||new FormData,r=q.toFlatObject(r,{metaTokens:!0,dots:!1,indexes:!1},!1,function(d,c){return!q.isUndefined(c[d])});const n=r.metaTokens,p=r.visitor||f,m=r.dots,S=r.indexes,i=(r.Blob||typeof Blob<"u"&&Blob)&&q.isSpecCompliantForm(t);if(!q.isFunction(p))throw new TypeError("visitor must be a function");function u(l){if(l===null)return"";if(q.isDate(l))return l.toISOString();if(!i&&q.isBlob(l))throw new _e("Blob is not supported. Use a Buffer instead.");return q.isArrayBuffer(l)||q.isTypedArray(l)?i&&typeof Blob=="function"?new Blob([l]):Buffer.from(l):l}function f(l,d,c){let g=l;if(l&&!c&&typeof l=="object"){if(q.endsWith(d,"{}"))d=n?d:d.slice(0,-2),l=JSON.stringify(l);else if(q.isArray(l)&&z0(l)||(q.isFileList(l)||q.endsWith(d,"[]"))&&(g=q.toArray(l)))return d=Tp(d),g.forEach(function(y,_){!(q.isUndefined(y)||y===null)&&t.append(S===!0?Zf([d],_,m):S===null?d:d+"[]",u(y))}),!1}return Jl(l)?!0:(t.append(Zf(c,d,m),u(l)),!1)}const o=[],a=Object.assign(U0,{defaultVisitor:f,convertValue:u,isVisitable:Jl});function s(l,d){if(!q.isUndefined(l)){if(o.indexOf(l)!==-1)throw Error("Circular reference detected in "+d.join("."));o.push(l),q.forEach(l,function(g,v){(!(q.isUndefined(g)||g===null)&&p.call(t,g,q.isString(v)?v.trim():v,d,a))===!0&&s(g,d?d.concat(v):[v])}),o.pop()}}if(!q.isObject(e))throw new TypeError("data must be an object");return s(e),t}function eh(e){const t={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(e).replace(/[!'()~]|%20|%00/g,function(n){return t[n]})}function dc(e,t){this._pairs=[],e&&fa(e,this,t)}const bp=dc.prototype;bp.append=function(t,r){this._pairs.push([t,r])};bp.toString=function(t){const r=t?function(n){return t.call(this,n,eh)}:eh;return this._pairs.map(function(p){return r(p[0])+"="+r(p[1])},"").join("&")};function W0(e){return encodeURIComponent(e).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}function Op(e,t,r){if(!t)return e;const n=r&&r.encode||W0,p=r&&r.serialize;let m;if(p?m=p(t,r):m=q.isURLSearchParams(t)?t.toString():new dc(t,r).toString(n),m){const S=e.indexOf("#");S!==-1&&(e=e.slice(0,S)),e+=(e.indexOf("?")===-1?"?":"&")+m}return e}class H0{constructor(){this.handlers=[]}use(t,r,n){return this.handlers.push({fulfilled:t,rejected:r,synchronous:n?n.synchronous:!1,runWhen:n?n.runWhen:null}),this.handlers.length-1}eject(t){this.handlers[t]&&(this.handlers[t]=null)}clear(){this.handlers&&(this.handlers=[])}forEach(t){q.forEach(this.handlers,function(n){n!==null&&t(n)})}}const th=H0,Ep={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},V0=typeof URLSearchParams<"u"?URLSearchParams:dc,$0=typeof FormData<"u"?FormData:null,X0=typeof Blob<"u"?Blob:null,Y0=(()=>{let e;return typeof navigator<"u"&&((e=navigator.product)==="ReactNative"||e==="NativeScript"||e==="NS")?!1:typeof window<"u"&&typeof document<"u"})(),G0=(()=>typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&typeof self.importScripts=="function")(),$t={isBrowser:!0,classes:{URLSearchParams:V0,FormData:$0,Blob:X0},isStandardBrowserEnv:Y0,isStandardBrowserWebWorkerEnv:G0,protocols:["http","https","file","blob","url","data"]};function q0(e,t){return fa(e,new $t.classes.URLSearchParams,Object.assign({visitor:function(r,n,p,m){return $t.isNode&&q.isBuffer(r)?(this.append(n,r.toString("base64")),!1):m.defaultVisitor.apply(this,arguments)}},t))}function K0(e){return q.matchAll(/\w+|\[(\w*)]/g,e).map(t=>t[0]==="[]"?"":t[1]||t[0])}function Q0(e){const t={},r=Object.keys(e);let n;const p=r.length;let m;for(n=0;n<p;n++)m=r[n],t[m]=e[m];return t}function Pp(e){function t(r,n,p,m){let S=r[m++];const h=Number.isFinite(+S),i=m>=r.length;return S=!S&&q.isArray(p)?p.length:S,i?(q.hasOwnProp(p,S)?p[S]=[p[S],n]:p[S]=n,!h):((!p[S]||!q.isObject(p[S]))&&(p[S]=[]),t(r,n,p[S],m)&&q.isArray(p[S])&&(p[S]=Q0(p[S])),!h)}if(q.isFormData(e)&&q.isFunction(e.entries)){const r={};return q.forEachEntry(e,(n,p)=>{t(K0(n),p,r,0)}),r}return null}function J0(e,t,r){if(q.isString(e))try{return(t||JSON.parse)(e),q.trim(e)}catch(n){if(n.name!=="SyntaxError")throw n}return(r||JSON.stringify)(e)}const pc={transitional:Ep,adapter:$t.isNode?"http":"xhr",transformRequest:[function(t,r){const n=r.getContentType()||"",p=n.indexOf("application/json")>-1,m=q.isObject(t);if(m&&q.isHTMLForm(t)&&(t=new FormData(t)),q.isFormData(t))return p&&p?JSON.stringify(Pp(t)):t;if(q.isArrayBuffer(t)||q.isBuffer(t)||q.isStream(t)||q.isFile(t)||q.isBlob(t))return t;if(q.isArrayBufferView(t))return t.buffer;if(q.isURLSearchParams(t))return r.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),t.toString();let h;if(m){if(n.indexOf("application/x-www-form-urlencoded")>-1)return q0(t,this.formSerializer).toString();if((h=q.isFileList(t))||n.indexOf("multipart/form-data")>-1){const i=this.env&&this.env.FormData;return fa(h?{"files[]":t}:t,i&&new i,this.formSerializer)}}return m||p?(r.setContentType("application/json",!1),J0(t)):t}],transformResponse:[function(t){const r=this.transitional||pc.transitional,n=r&&r.forcedJSONParsing,p=this.responseType==="json";if(t&&q.isString(t)&&(n&&!this.responseType||p)){const S=!(r&&r.silentJSONParsing)&&p;try{return JSON.parse(t)}catch(h){if(S)throw h.name==="SyntaxError"?_e.from(h,_e.ERR_BAD_RESPONSE,this,null,this.response):h}}return t}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:$t.classes.FormData,Blob:$t.classes.Blob},validateStatus:function(t){return t>=200&&t<300},headers:{common:{Accept:"application/json, text/plain, */*","Content-Type":void 0}}};q.forEach(["delete","get","head","post","put","patch"],e=>{pc.headers[e]={}});const gc=pc,Z0=q.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]),eS=e=>{const t={};let r,n,p;return e&&e.split(`
`).forEach(function(S){p=S.indexOf(":"),r=S.substring(0,p).trim().toLowerCase(),n=S.substring(p+1).trim(),!(!r||t[r]&&Z0[r])&&(r==="set-cookie"?t[r]?t[r].push(n):t[r]=[n]:t[r]=t[r]?t[r]+", "+n:n)}),t},rh=Symbol("internals");function Ei(e){return e&&String(e).trim().toLowerCase()}function fs(e){return e===!1||e==null?e:q.isArray(e)?e.map(fs):String(e)}function tS(e){const t=Object.create(null),r=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;let n;for(;n=r.exec(e);)t[n[1]]=n[2];return t}const rS=e=>/^[-_a-zA-Z0-9^`|~,!#$%&'*+.]+$/.test(e.trim());function ol(e,t,r,n,p){if(q.isFunction(n))return n.call(this,t,r);if(p&&(t=r),!!q.isString(t)){if(q.isString(n))return t.indexOf(n)!==-1;if(q.isRegExp(n))return n.test(t)}}function nS(e){return e.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,(t,r,n)=>r.toUpperCase()+n)}function iS(e,t){const r=q.toCamelCase(" "+t);["get","set","has"].forEach(n=>{Object.defineProperty(e,n+r,{value:function(p,m,S){return this[n].call(this,t,p,m,S)},configurable:!0})})}class ha{constructor(t){t&&this.set(t)}set(t,r,n){const p=this;function m(h,i,u){const f=Ei(i);if(!f)throw new Error("header name must be a non-empty string");const o=q.findKey(p,f);(!o||p[o]===void 0||u===!0||u===void 0&&p[o]!==!1)&&(p[o||i]=fs(h))}const S=(h,i)=>q.forEach(h,(u,f)=>m(u,f,i));return q.isPlainObject(t)||t instanceof this.constructor?S(t,r):q.isString(t)&&(t=t.trim())&&!rS(t)?S(eS(t),r):t!=null&&m(r,t,n),this}get(t,r){if(t=Ei(t),t){const n=q.findKey(this,t);if(n){const p=this[n];if(!r)return p;if(r===!0)return tS(p);if(q.isFunction(r))return r.call(this,p,n);if(q.isRegExp(r))return r.exec(p);throw new TypeError("parser must be boolean|regexp|function")}}}has(t,r){if(t=Ei(t),t){const n=q.findKey(this,t);return!!(n&&this[n]!==void 0&&(!r||ol(this,this[n],n,r)))}return!1}delete(t,r){const n=this;let p=!1;function m(S){if(S=Ei(S),S){const h=q.findKey(n,S);h&&(!r||ol(n,n[h],h,r))&&(delete n[h],p=!0)}}return q.isArray(t)?t.forEach(m):m(t),p}clear(t){const r=Object.keys(this);let n=r.length,p=!1;for(;n--;){const m=r[n];(!t||ol(this,this[m],m,t,!0))&&(delete this[m],p=!0)}return p}normalize(t){const r=this,n={};return q.forEach(this,(p,m)=>{const S=q.findKey(n,m);if(S){r[S]=fs(p),delete r[m];return}const h=t?nS(m):String(m).trim();h!==m&&delete r[m],r[h]=fs(p),n[h]=!0}),this}concat(...t){return this.constructor.concat(this,...t)}toJSON(t){const r=Object.create(null);return q.forEach(this,(n,p)=>{n!=null&&n!==!1&&(r[p]=t&&q.isArray(n)?n.join(", "):n)}),r}[Symbol.iterator](){return Object.entries(this.toJSON())[Symbol.iterator]()}toString(){return Object.entries(this.toJSON()).map(([t,r])=>t+": "+r).join(`
`)}get[Symbol.toStringTag](){return"AxiosHeaders"}static from(t){return t instanceof this?t:new this(t)}static concat(t,...r){const n=new this(t);return r.forEach(p=>n.set(p)),n}static accessor(t){const n=(this[rh]=this[rh]={accessors:{}}).accessors,p=this.prototype;function m(S){const h=Ei(S);n[h]||(iS(p,S),n[h]=!0)}return q.isArray(t)?t.forEach(m):m(t),this}}ha.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent","Authorization"]);q.reduceDescriptors(ha.prototype,({value:e},t)=>{let r=t[0].toUpperCase()+t.slice(1);return{get:()=>e,set(n){this[r]=n}}});q.freezeMethods(ha);const dr=ha;function sl(e,t){const r=this||gc,n=t||r,p=dr.from(n.headers);let m=n.data;return q.forEach(e,function(h){m=h.call(r,m,p.normalize(),t?t.status:void 0)}),p.normalize(),m}function kp(e){return!!(e&&e.__CANCEL__)}function ko(e,t,r){_e.call(this,e??"canceled",_e.ERR_CANCELED,t,r),this.name="CanceledError"}q.inherits(ko,_e,{__CANCEL__:!0});function oS(e,t,r){const n=r.config.validateStatus;!r.status||!n||n(r.status)?e(r):t(new _e("Request failed with status code "+r.status,[_e.ERR_BAD_REQUEST,_e.ERR_BAD_RESPONSE][Math.floor(r.status/100)-4],r.config,r.request,r))}const sS=$t.isStandardBrowserEnv?function(){return{write:function(r,n,p,m,S,h){const i=[];i.push(r+"="+encodeURIComponent(n)),q.isNumber(p)&&i.push("expires="+new Date(p).toGMTString()),q.isString(m)&&i.push("path="+m),q.isString(S)&&i.push("domain="+S),h===!0&&i.push("secure"),document.cookie=i.join("; ")},read:function(r){const n=document.cookie.match(new RegExp("(^|;\\s*)("+r+")=([^;]*)"));return n?decodeURIComponent(n[3]):null},remove:function(r){this.write(r,"",Date.now()-864e5)}}}():function(){return{write:function(){},read:function(){return null},remove:function(){}}}();function aS(e){return/^([a-z][a-z\d+\-.]*:)?\/\//i.test(e)}function lS(e,t){return t?e.replace(/\/+$/,"")+"/"+t.replace(/^\/+/,""):e}function Ap(e,t){return e&&!aS(t)?lS(e,t):t}const uS=$t.isStandardBrowserEnv?function(){const t=/(msie|trident)/i.test(navigator.userAgent),r=document.createElement("a");let n;function p(m){let S=m;return t&&(r.setAttribute("href",S),S=r.href),r.setAttribute("href",S),{href:r.href,protocol:r.protocol?r.protocol.replace(/:$/,""):"",host:r.host,search:r.search?r.search.replace(/^\?/,""):"",hash:r.hash?r.hash.replace(/^#/,""):"",hostname:r.hostname,port:r.port,pathname:r.pathname.charAt(0)==="/"?r.pathname:"/"+r.pathname}}return n=p(window.location.href),function(S){const h=q.isString(S)?p(S):S;return h.protocol===n.protocol&&h.host===n.host}}():function(){return function(){return!0}}();function cS(e){const t=/^([-+\w]{1,25})(:?\/\/|:)/.exec(e);return t&&t[1]||""}function fS(e,t){e=e||10;const r=new Array(e),n=new Array(e);let p=0,m=0,S;return t=t!==void 0?t:1e3,function(i){const u=Date.now(),f=n[m];S||(S=u),r[p]=i,n[p]=u;let o=m,a=0;for(;o!==p;)a+=r[o++],o=o%e;if(p=(p+1)%e,p===m&&(m=(m+1)%e),u-S<t)return;const s=f&&u-f;return s?Math.round(a*1e3/s):void 0}}function nh(e,t){let r=0;const n=fS(50,250);return p=>{const m=p.loaded,S=p.lengthComputable?p.total:void 0,h=m-r,i=n(h),u=m<=S;r=m;const f={loaded:m,total:S,progress:S?m/S:void 0,bytes:h,rate:i||void 0,estimated:i&&S&&u?(S-m)/i:void 0,event:p};f[t?"download":"upload"]=!0,e(f)}}const hS=typeof XMLHttpRequest<"u",dS=hS&&function(e){return new Promise(function(r,n){let p=e.data;const m=dr.from(e.headers).normalize(),S=e.responseType;let h;function i(){e.cancelToken&&e.cancelToken.unsubscribe(h),e.signal&&e.signal.removeEventListener("abort",h)}q.isFormData(p)&&($t.isStandardBrowserEnv||$t.isStandardBrowserWebWorkerEnv?m.setContentType(!1):m.setContentType("multipart/form-data;",!1));let u=new XMLHttpRequest;if(e.auth){const s=e.auth.username||"",l=e.auth.password?unescape(encodeURIComponent(e.auth.password)):"";m.set("Authorization","Basic "+btoa(s+":"+l))}const f=Ap(e.baseURL,e.url);u.open(e.method.toUpperCase(),Op(f,e.params,e.paramsSerializer),!0),u.timeout=e.timeout;function o(){if(!u)return;const s=dr.from("getAllResponseHeaders"in u&&u.getAllResponseHeaders()),d={data:!S||S==="text"||S==="json"?u.responseText:u.response,status:u.status,statusText:u.statusText,headers:s,config:e,request:u};oS(function(g){r(g),i()},function(g){n(g),i()},d),u=null}if("onloadend"in u?u.onloadend=o:u.onreadystatechange=function(){!u||u.readyState!==4||u.status===0&&!(u.responseURL&&u.responseURL.indexOf("file:")===0)||setTimeout(o)},u.onabort=function(){u&&(n(new _e("Request aborted",_e.ECONNABORTED,e,u)),u=null)},u.onerror=function(){n(new _e("Network Error",_e.ERR_NETWORK,e,u)),u=null},u.ontimeout=function(){let l=e.timeout?"timeout of "+e.timeout+"ms exceeded":"timeout exceeded";const d=e.transitional||Ep;e.timeoutErrorMessage&&(l=e.timeoutErrorMessage),n(new _e(l,d.clarifyTimeoutError?_e.ETIMEDOUT:_e.ECONNABORTED,e,u)),u=null},$t.isStandardBrowserEnv){const s=(e.withCredentials||uS(f))&&e.xsrfCookieName&&sS.read(e.xsrfCookieName);s&&m.set(e.xsrfHeaderName,s)}p===void 0&&m.setContentType(null),"setRequestHeader"in u&&q.forEach(m.toJSON(),function(l,d){u.setRequestHeader(d,l)}),q.isUndefined(e.withCredentials)||(u.withCredentials=!!e.withCredentials),S&&S!=="json"&&(u.responseType=e.responseType),typeof e.onDownloadProgress=="function"&&u.addEventListener("progress",nh(e.onDownloadProgress,!0)),typeof e.onUploadProgress=="function"&&u.upload&&u.upload.addEventListener("progress",nh(e.onUploadProgress)),(e.cancelToken||e.signal)&&(h=s=>{u&&(n(!s||s.type?new ko(null,e,u):s),u.abort(),u=null)},e.cancelToken&&e.cancelToken.subscribe(h),e.signal&&(e.signal.aborted?h():e.signal.addEventListener("abort",h)));const a=cS(f);if(a&&$t.protocols.indexOf(a)===-1){n(new _e("Unsupported protocol "+a+":",_e.ERR_BAD_REQUEST,e));return}u.send(p||null)})},hs={http:N0,xhr:dS};q.forEach(hs,(e,t)=>{if(e){try{Object.defineProperty(e,"name",{value:t})}catch{}Object.defineProperty(e,"adapterName",{value:t})}});const Dp={getAdapter:e=>{e=q.isArray(e)?e:[e];const{length:t}=e;let r,n;for(let p=0;p<t&&(r=e[p],!(n=q.isString(r)?hs[r.toLowerCase()]:r));p++);if(!n)throw n===!1?new _e(`Adapter ${r} is not supported by the environment`,"ERR_NOT_SUPPORT"):new Error(q.hasOwnProp(hs,r)?`Adapter '${r}' is not available in the build`:`Unknown adapter '${r}'`);if(!q.isFunction(n))throw new TypeError("adapter is not a function");return n},adapters:hs};function al(e){if(e.cancelToken&&e.cancelToken.throwIfRequested(),e.signal&&e.signal.aborted)throw new ko(null,e)}function ih(e){return al(e),e.headers=dr.from(e.headers),e.data=sl.call(e,e.transformRequest),["post","put","patch"].indexOf(e.method)!==-1&&e.headers.setContentType("application/x-www-form-urlencoded",!1),Dp.getAdapter(e.adapter||gc.adapter)(e).then(function(n){return al(e),n.data=sl.call(e,e.transformResponse,n),n.headers=dr.from(n.headers),n},function(n){return kp(n)||(al(e),n&&n.response&&(n.response.data=sl.call(e,e.transformResponse,n.response),n.response.headers=dr.from(n.response.headers))),Promise.reject(n)})}const oh=e=>e instanceof dr?e.toJSON():e;function ri(e,t){t=t||{};const r={};function n(u,f,o){return q.isPlainObject(u)&&q.isPlainObject(f)?q.merge.call({caseless:o},u,f):q.isPlainObject(f)?q.merge({},f):q.isArray(f)?f.slice():f}function p(u,f,o){if(q.isUndefined(f)){if(!q.isUndefined(u))return n(void 0,u,o)}else return n(u,f,o)}function m(u,f){if(!q.isUndefined(f))return n(void 0,f)}function S(u,f){if(q.isUndefined(f)){if(!q.isUndefined(u))return n(void 0,u)}else return n(void 0,f)}function h(u,f,o){if(o in t)return n(u,f);if(o in e)return n(void 0,u)}const i={url:m,method:m,data:m,baseURL:S,transformRequest:S,transformResponse:S,paramsSerializer:S,timeout:S,timeoutMessage:S,withCredentials:S,adapter:S,responseType:S,xsrfCookieName:S,xsrfHeaderName:S,onUploadProgress:S,onDownloadProgress:S,decompress:S,maxContentLength:S,maxBodyLength:S,beforeRedirect:S,transport:S,httpAgent:S,httpsAgent:S,cancelToken:S,socketPath:S,responseEncoding:S,validateStatus:h,headers:(u,f)=>p(oh(u),oh(f),!0)};return q.forEach(Object.keys(Object.assign({},e,t)),function(f){const o=i[f]||p,a=o(e[f],t[f],f);q.isUndefined(a)&&o!==h||(r[f]=a)}),r}const Mp="1.5.0",mc={};["object","boolean","number","function","string","symbol"].forEach((e,t)=>{mc[e]=function(n){return typeof n===e||"a"+(t<1?"n ":" ")+e}});const sh={};mc.transitional=function(t,r,n){function p(m,S){return"[Axios v"+Mp+"] Transitional option '"+m+"'"+S+(n?". "+n:"")}return(m,S,h)=>{if(t===!1)throw new _e(p(S," has been removed"+(r?" in "+r:"")),_e.ERR_DEPRECATED);return r&&!sh[S]&&(sh[S]=!0,console.warn(p(S," has been deprecated since v"+r+" and will be removed in the near future"))),t?t(m,S,h):!0}};function pS(e,t,r){if(typeof e!="object")throw new _e("options must be an object",_e.ERR_BAD_OPTION_VALUE);const n=Object.keys(e);let p=n.length;for(;p-- >0;){const m=n[p],S=t[m];if(S){const h=e[m],i=h===void 0||S(h,m,e);if(i!==!0)throw new _e("option "+m+" must be "+i,_e.ERR_BAD_OPTION_VALUE);continue}if(r!==!0)throw new _e("Unknown option "+m,_e.ERR_BAD_OPTION)}}const Zl={assertOptions:pS,validators:mc},Or=Zl.validators;class Os{constructor(t){this.defaults=t,this.interceptors={request:new th,response:new th}}request(t,r){typeof t=="string"?(r=r||{},r.url=t):r=t||{},r=ri(this.defaults,r);const{transitional:n,paramsSerializer:p,headers:m}=r;n!==void 0&&Zl.assertOptions(n,{silentJSONParsing:Or.transitional(Or.boolean),forcedJSONParsing:Or.transitional(Or.boolean),clarifyTimeoutError:Or.transitional(Or.boolean)},!1),p!=null&&(q.isFunction(p)?r.paramsSerializer={serialize:p}:Zl.assertOptions(p,{encode:Or.function,serialize:Or.function},!0)),r.method=(r.method||this.defaults.method||"get").toLowerCase();let S=m&&q.merge(m.common,m[r.method]);m&&q.forEach(["delete","get","head","post","put","patch","common"],l=>{delete m[l]}),r.headers=dr.concat(S,m);const h=[];let i=!0;this.interceptors.request.forEach(function(d){typeof d.runWhen=="function"&&d.runWhen(r)===!1||(i=i&&d.synchronous,h.unshift(d.fulfilled,d.rejected))});const u=[];this.interceptors.response.forEach(function(d){u.push(d.fulfilled,d.rejected)});let f,o=0,a;if(!i){const l=[ih.bind(this),void 0];for(l.unshift.apply(l,h),l.push.apply(l,u),a=l.length,f=Promise.resolve(r);o<a;)f=f.then(l[o++],l[o++]);return f}a=h.length;let s=r;for(o=0;o<a;){const l=h[o++],d=h[o++];try{s=l(s)}catch(c){d.call(this,c);break}}try{f=ih.call(this,s)}catch(l){return Promise.reject(l)}for(o=0,a=u.length;o<a;)f=f.then(u[o++],u[o++]);return f}getUri(t){t=ri(this.defaults,t);const r=Ap(t.baseURL,t.url);return Op(r,t.params,t.paramsSerializer)}}q.forEach(["delete","get","head","options"],function(t){Os.prototype[t]=function(r,n){return this.request(ri(n||{},{method:t,url:r,data:(n||{}).data}))}});q.forEach(["post","put","patch"],function(t){function r(n){return function(m,S,h){return this.request(ri(h||{},{method:t,headers:n?{"Content-Type":"multipart/form-data"}:{},url:m,data:S}))}}Os.prototype[t]=r(),Os.prototype[t+"Form"]=r(!0)});const ds=Os;class vc{constructor(t){if(typeof t!="function")throw new TypeError("executor must be a function.");let r;this.promise=new Promise(function(m){r=m});const n=this;this.promise.then(p=>{if(!n._listeners)return;let m=n._listeners.length;for(;m-- >0;)n._listeners[m](p);n._listeners=null}),this.promise.then=p=>{let m;const S=new Promise(h=>{n.subscribe(h),m=h}).then(p);return S.cancel=function(){n.unsubscribe(m)},S},t(function(m,S,h){n.reason||(n.reason=new ko(m,S,h),r(n.reason))})}throwIfRequested(){if(this.reason)throw this.reason}subscribe(t){if(this.reason){t(this.reason);return}this._listeners?this._listeners.push(t):this._listeners=[t]}unsubscribe(t){if(!this._listeners)return;const r=this._listeners.indexOf(t);r!==-1&&this._listeners.splice(r,1)}static source(){let t;return{token:new vc(function(p){t=p}),cancel:t}}}const gS=vc;function mS(e){return function(r){return e.apply(null,r)}}function vS(e){return q.isObject(e)&&e.isAxiosError===!0}const eu={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511};Object.entries(eu).forEach(([e,t])=>{eu[t]=e});const yS=eu;function Fp(e){const t=new ds(e),r=pp(ds.prototype.request,t);return q.extend(r,ds.prototype,t,{allOwnKeys:!0}),q.extend(r,t,null,{allOwnKeys:!0}),r.create=function(p){return Fp(ri(e,p))},r}const Ue=Fp(gc);Ue.Axios=ds;Ue.CanceledError=ko;Ue.CancelToken=gS;Ue.isCancel=kp;Ue.VERSION=Mp;Ue.toFormData=fa;Ue.AxiosError=_e;Ue.Cancel=Ue.CanceledError;Ue.all=function(t){return Promise.all(t)};Ue.spread=mS;Ue.isAxiosError=vS;Ue.mergeConfig=ri;Ue.AxiosHeaders=dr;Ue.formToJSON=e=>Pp(q.isHTMLForm(e)?new FormData(e):e);Ue.getAdapter=Dp.getAdapter;Ue.HttpStatusCode=yS;Ue.default=Ue;const tu=Ue;window.axios=tu;window.axios.defaults.headers.common["X-Requested-With"]="XMLHttpRequest";var Rp={exports:{}},Ot={},Lp={exports:{}},Ip={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(e){function t(H,T){var P=H.length;H.push(T);e:for(;0<P;){var A=P-1>>>1,D=H[A];if(0<p(D,T))H[A]=T,H[P]=D,P=A;else break e}}function r(H){return H.length===0?null:H[0]}function n(H){if(H.length===0)return null;var T=H[0],P=H.pop();if(P!==T){H[0]=P;e:for(var A=0,D=H.length,B=D>>>1;A<B;){var k=2*(A+1)-1,b=H[k],R=k+1,I=H[R];if(0>p(b,P))R<D&&0>p(I,b)?(H[A]=I,H[R]=P,A=R):(H[A]=b,H[k]=P,A=k);else if(R<D&&0>p(I,P))H[A]=I,H[R]=P,A=R;else break e}}return T}function p(H,T){var P=H.sortIndex-T.sortIndex;return P!==0?P:H.id-T.id}if(typeof performance=="object"&&typeof performance.now=="function"){var m=performance;e.unstable_now=function(){return m.now()}}else{var S=Date,h=S.now();e.unstable_now=function(){return S.now()-h}}var i=[],u=[],f=1,o=null,a=3,s=!1,l=!1,d=!1,c=typeof setTimeout=="function"?setTimeout:null,g=typeof clearTimeout=="function"?clearTimeout:null,v=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function y(H){for(var T=r(u);T!==null;){if(T.callback===null)n(u);else if(T.startTime<=H)n(u),T.sortIndex=T.expirationTime,t(i,T);else break;T=r(u)}}function _(H){if(d=!1,y(H),!l)if(r(i)!==null)l=!0,se(w);else{var T=r(u);T!==null&&ue(_,T.startTime-H)}}function w(H,T){l=!1,d&&(d=!1,g(O),O=-1),s=!0;var P=a;try{for(y(T),o=r(i);o!==null&&(!(o.expirationTime>T)||H&&!V());){var A=o.callback;if(typeof A=="function"){o.callback=null,a=o.priorityLevel;var D=A(o.expirationTime<=T);T=e.unstable_now(),typeof D=="function"?o.callback=D:o===r(i)&&n(i),y(T)}else n(i);o=r(i)}if(o!==null)var B=!0;else{var k=r(u);k!==null&&ue(_,k.startTime-T),B=!1}return B}finally{o=null,a=P,s=!1}}var C=!1,x=null,O=-1,M=5,F=-1;function V(){return!(e.unstable_now()-F<M)}function $(){if(x!==null){var H=e.unstable_now();F=H;var T=!0;try{T=x(!0,H)}finally{T?ne():(C=!1,x=null)}}else C=!1}var ne;if(typeof v=="function")ne=function(){v($)};else if(typeof MessageChannel<"u"){var ee=new MessageChannel,re=ee.port2;ee.port1.onmessage=$,ne=function(){re.postMessage(null)}}else ne=function(){c($,0)};function se(H){x=H,C||(C=!0,ne())}function ue(H,T){O=c(function(){H(e.unstable_now())},T)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(H){H.callback=null},e.unstable_continueExecution=function(){l||s||(l=!0,se(w))},e.unstable_forceFrameRate=function(H){0>H||125<H?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):M=0<H?Math.floor(1e3/H):5},e.unstable_getCurrentPriorityLevel=function(){return a},e.unstable_getFirstCallbackNode=function(){return r(i)},e.unstable_next=function(H){switch(a){case 1:case 2:case 3:var T=3;break;default:T=a}var P=a;a=T;try{return H()}finally{a=P}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=function(){},e.unstable_runWithPriority=function(H,T){switch(H){case 1:case 2:case 3:case 4:case 5:break;default:H=3}var P=a;a=H;try{return T()}finally{a=P}},e.unstable_scheduleCallback=function(H,T,P){var A=e.unstable_now();switch(typeof P=="object"&&P!==null?(P=P.delay,P=typeof P=="number"&&0<P?A+P:A):P=A,H){case 1:var D=-1;break;case 2:D=250;break;case 5:D=1073741823;break;case 4:D=1e4;break;default:D=5e3}return D=P+D,H={id:f++,callback:T,priorityLevel:H,startTime:P,expirationTime:D,sortIndex:-1},P>A?(H.sortIndex=P,t(u,H),r(i)===null&&H===r(u)&&(d?(g(O),O=-1):d=!0,ue(_,P-A))):(H.sortIndex=D,t(i,H),l||s||(l=!0,se(w))),H},e.unstable_shouldYield=V,e.unstable_wrapCallback=function(H){var T=a;return function(){var P=a;a=T;try{return H.apply(this,arguments)}finally{a=P}}}})(Ip);Lp.exports=Ip;var SS=Lp.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var jp=he,Tt=SS;function te(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,r=1;r<arguments.length;r++)t+="&args[]="+encodeURIComponent(arguments[r]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var Bp=new Set,oo={};function On(e,t){ni(e,t),ni(e+"Capture",t)}function ni(e,t){for(oo[e]=t,e=0;e<t.length;e++)Bp.add(t[e])}var gr=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),ru=Object.prototype.hasOwnProperty,_S=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,ah={},lh={};function wS(e){return ru.call(lh,e)?!0:ru.call(ah,e)?!1:_S.test(e)?lh[e]=!0:(ah[e]=!0,!1)}function CS(e,t,r,n){if(r!==null&&r.type===0)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return n?!1:r!==null?!r.acceptsBooleans:(e=e.toLowerCase().slice(0,5),e!=="data-"&&e!=="aria-");default:return!1}}function xS(e,t,r,n){if(t===null||typeof t>"u"||CS(e,t,r,n))return!0;if(n)return!1;if(r!==null)switch(r.type){case 3:return!t;case 4:return t===!1;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}function dt(e,t,r,n,p,m,S){this.acceptsBooleans=t===2||t===3||t===4,this.attributeName=n,this.attributeNamespace=p,this.mustUseProperty=r,this.propertyName=e,this.type=t,this.sanitizeURL=m,this.removeEmptyString=S}var rt={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){rt[e]=new dt(e,0,!1,e,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];rt[t]=new dt(t,1,!1,e[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(e){rt[e]=new dt(e,2,!1,e.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){rt[e]=new dt(e,2,!1,e,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){rt[e]=new dt(e,3,!1,e.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(e){rt[e]=new dt(e,3,!0,e,null,!1,!1)});["capture","download"].forEach(function(e){rt[e]=new dt(e,4,!1,e,null,!1,!1)});["cols","rows","size","span"].forEach(function(e){rt[e]=new dt(e,6,!1,e,null,!1,!1)});["rowSpan","start"].forEach(function(e){rt[e]=new dt(e,5,!1,e.toLowerCase(),null,!1,!1)});var yc=/[\-:]([a-z])/g;function Sc(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace(yc,Sc);rt[t]=new dt(t,1,!1,e,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace(yc,Sc);rt[t]=new dt(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace(yc,Sc);rt[t]=new dt(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(e){rt[e]=new dt(e,1,!1,e.toLowerCase(),null,!1,!1)});rt.xlinkHref=new dt("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(e){rt[e]=new dt(e,1,!1,e.toLowerCase(),null,!0,!0)});function _c(e,t,r,n){var p=rt.hasOwnProperty(t)?rt[t]:null;(p!==null?p.type!==0:n||!(2<t.length)||t[0]!=="o"&&t[0]!=="O"||t[1]!=="n"&&t[1]!=="N")&&(xS(t,r,p,n)&&(r=null),n||p===null?wS(t)&&(r===null?e.removeAttribute(t):e.setAttribute(t,""+r)):p.mustUseProperty?e[p.propertyName]=r===null?p.type===3?!1:"":r:(t=p.attributeName,n=p.attributeNamespace,r===null?e.removeAttribute(t):(p=p.type,r=p===3||p===4&&r===!0?"":""+r,n?e.setAttributeNS(n,t,r):e.setAttribute(t,r))))}var _r=jp.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,Ho=Symbol.for("react.element"),Ln=Symbol.for("react.portal"),In=Symbol.for("react.fragment"),wc=Symbol.for("react.strict_mode"),nu=Symbol.for("react.profiler"),Np=Symbol.for("react.provider"),zp=Symbol.for("react.context"),Cc=Symbol.for("react.forward_ref"),iu=Symbol.for("react.suspense"),ou=Symbol.for("react.suspense_list"),xc=Symbol.for("react.memo"),Pr=Symbol.for("react.lazy"),Up=Symbol.for("react.offscreen"),uh=Symbol.iterator;function Pi(e){return e===null||typeof e!="object"?null:(e=uh&&e[uh]||e["@@iterator"],typeof e=="function"?e:null)}var Ie=Object.assign,ll;function zi(e){if(ll===void 0)try{throw Error()}catch(r){var t=r.stack.trim().match(/\n( *(at )?)/);ll=t&&t[1]||""}return`
`+ll+e}var ul=!1;function cl(e,t){if(!e||ul)return"";ul=!0;var r=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(t,[])}catch(u){var n=u}Reflect.construct(e,[],t)}else{try{t.call()}catch(u){n=u}e.call(t.prototype)}else{try{throw Error()}catch(u){n=u}e()}}catch(u){if(u&&n&&typeof u.stack=="string"){for(var p=u.stack.split(`
`),m=n.stack.split(`
`),S=p.length-1,h=m.length-1;1<=S&&0<=h&&p[S]!==m[h];)h--;for(;1<=S&&0<=h;S--,h--)if(p[S]!==m[h]){if(S!==1||h!==1)do if(S--,h--,0>h||p[S]!==m[h]){var i=`
`+p[S].replace(" at new "," at ");return e.displayName&&i.includes("<anonymous>")&&(i=i.replace("<anonymous>",e.displayName)),i}while(1<=S&&0<=h);break}}}finally{ul=!1,Error.prepareStackTrace=r}return(e=e?e.displayName||e.name:"")?zi(e):""}function TS(e){switch(e.tag){case 5:return zi(e.type);case 16:return zi("Lazy");case 13:return zi("Suspense");case 19:return zi("SuspenseList");case 0:case 2:case 15:return e=cl(e.type,!1),e;case 11:return e=cl(e.type.render,!1),e;case 1:return e=cl(e.type,!0),e;default:return""}}function su(e){if(e==null)return null;if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case In:return"Fragment";case Ln:return"Portal";case nu:return"Profiler";case wc:return"StrictMode";case iu:return"Suspense";case ou:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case zp:return(e.displayName||"Context")+".Consumer";case Np:return(e._context.displayName||"Context")+".Provider";case Cc:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case xc:return t=e.displayName||null,t!==null?t:su(e.type)||"Memo";case Pr:t=e._payload,e=e._init;try{return su(e(t))}catch{}}return null}function bS(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=t.render,e=e.displayName||e.name||"",t.displayName||(e!==""?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return su(t);case 8:return t===wc?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t}return null}function Yr(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function Wp(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function OS(e){var t=Wp(e)?"checked":"value",r=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),n=""+e[t];if(!e.hasOwnProperty(t)&&typeof r<"u"&&typeof r.get=="function"&&typeof r.set=="function"){var p=r.get,m=r.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return p.call(this)},set:function(S){n=""+S,m.call(this,S)}}),Object.defineProperty(e,t,{enumerable:r.enumerable}),{getValue:function(){return n},setValue:function(S){n=""+S},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function Vo(e){e._valueTracker||(e._valueTracker=OS(e))}function Hp(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var r=t.getValue(),n="";return e&&(n=Wp(e)?e.checked?"true":"false":e.value),e=n,e!==r?(t.setValue(e),!0):!1}function Es(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}function au(e,t){var r=t.checked;return Ie({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:r??e._wrapperState.initialChecked})}function ch(e,t){var r=t.defaultValue==null?"":t.defaultValue,n=t.checked!=null?t.checked:t.defaultChecked;r=Yr(t.value!=null?t.value:r),e._wrapperState={initialChecked:n,initialValue:r,controlled:t.type==="checkbox"||t.type==="radio"?t.checked!=null:t.value!=null}}function Vp(e,t){t=t.checked,t!=null&&_c(e,"checked",t,!1)}function lu(e,t){Vp(e,t);var r=Yr(t.value),n=t.type;if(r!=null)n==="number"?(r===0&&e.value===""||e.value!=r)&&(e.value=""+r):e.value!==""+r&&(e.value=""+r);else if(n==="submit"||n==="reset"){e.removeAttribute("value");return}t.hasOwnProperty("value")?uu(e,t.type,r):t.hasOwnProperty("defaultValue")&&uu(e,t.type,Yr(t.defaultValue)),t.checked==null&&t.defaultChecked!=null&&(e.defaultChecked=!!t.defaultChecked)}function fh(e,t,r){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var n=t.type;if(!(n!=="submit"&&n!=="reset"||t.value!==void 0&&t.value!==null))return;t=""+e._wrapperState.initialValue,r||t===e.value||(e.value=t),e.defaultValue=t}r=e.name,r!==""&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,r!==""&&(e.name=r)}function uu(e,t,r){(t!=="number"||Es(e.ownerDocument)!==e)&&(r==null?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+r&&(e.defaultValue=""+r))}var Ui=Array.isArray;function Yn(e,t,r,n){if(e=e.options,t){t={};for(var p=0;p<r.length;p++)t["$"+r[p]]=!0;for(r=0;r<e.length;r++)p=t.hasOwnProperty("$"+e[r].value),e[r].selected!==p&&(e[r].selected=p),p&&n&&(e[r].defaultSelected=!0)}else{for(r=""+Yr(r),t=null,p=0;p<e.length;p++){if(e[p].value===r){e[p].selected=!0,n&&(e[p].defaultSelected=!0);return}t!==null||e[p].disabled||(t=e[p])}t!==null&&(t.selected=!0)}}function cu(e,t){if(t.dangerouslySetInnerHTML!=null)throw Error(te(91));return Ie({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function hh(e,t){var r=t.value;if(r==null){if(r=t.children,t=t.defaultValue,r!=null){if(t!=null)throw Error(te(92));if(Ui(r)){if(1<r.length)throw Error(te(93));r=r[0]}t=r}t==null&&(t=""),r=t}e._wrapperState={initialValue:Yr(r)}}function $p(e,t){var r=Yr(t.value),n=Yr(t.defaultValue);r!=null&&(r=""+r,r!==e.value&&(e.value=r),t.defaultValue==null&&e.defaultValue!==r&&(e.defaultValue=r)),n!=null&&(e.defaultValue=""+n)}function dh(e){var t=e.textContent;t===e._wrapperState.initialValue&&t!==""&&t!==null&&(e.value=t)}function Xp(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function fu(e,t){return e==null||e==="http://www.w3.org/1999/xhtml"?Xp(t):e==="http://www.w3.org/2000/svg"&&t==="foreignObject"?"http://www.w3.org/1999/xhtml":e}var $o,Yp=function(e){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(t,r,n,p){MSApp.execUnsafeLocalFunction(function(){return e(t,r,n,p)})}:e}(function(e,t){if(e.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in e)e.innerHTML=t;else{for($o=$o||document.createElement("div"),$o.innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=$o.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}});function so(e,t){if(t){var r=e.firstChild;if(r&&r===e.lastChild&&r.nodeType===3){r.nodeValue=t;return}}e.textContent=t}var Xi={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},ES=["Webkit","ms","Moz","O"];Object.keys(Xi).forEach(function(e){ES.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),Xi[t]=Xi[e]})});function Gp(e,t,r){return t==null||typeof t=="boolean"||t===""?"":r||typeof t!="number"||t===0||Xi.hasOwnProperty(e)&&Xi[e]?(""+t).trim():t+"px"}function qp(e,t){e=e.style;for(var r in t)if(t.hasOwnProperty(r)){var n=r.indexOf("--")===0,p=Gp(r,t[r],n);r==="float"&&(r="cssFloat"),n?e.setProperty(r,p):e[r]=p}}var PS=Ie({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function hu(e,t){if(t){if(PS[e]&&(t.children!=null||t.dangerouslySetInnerHTML!=null))throw Error(te(137,e));if(t.dangerouslySetInnerHTML!=null){if(t.children!=null)throw Error(te(60));if(typeof t.dangerouslySetInnerHTML!="object"||!("__html"in t.dangerouslySetInnerHTML))throw Error(te(61))}if(t.style!=null&&typeof t.style!="object")throw Error(te(62))}}function du(e,t){if(e.indexOf("-")===-1)return typeof t.is=="string";switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var pu=null;function Tc(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var gu=null,Gn=null,qn=null;function ph(e){if(e=Mo(e)){if(typeof gu!="function")throw Error(te(280));var t=e.stateNode;t&&(t=va(t),gu(e.stateNode,e.type,t))}}function Kp(e){Gn?qn?qn.push(e):qn=[e]:Gn=e}function Qp(){if(Gn){var e=Gn,t=qn;if(qn=Gn=null,ph(e),t)for(e=0;e<t.length;e++)ph(t[e])}}function Jp(e,t){return e(t)}function Zp(){}var fl=!1;function eg(e,t,r){if(fl)return e(t,r);fl=!0;try{return Jp(e,t,r)}finally{fl=!1,(Gn!==null||qn!==null)&&(Zp(),Qp())}}function ao(e,t){var r=e.stateNode;if(r===null)return null;var n=va(r);if(n===null)return null;r=n[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(n=!n.disabled)||(e=e.type,n=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!n;break e;default:e=!1}if(e)return null;if(r&&typeof r!="function")throw Error(te(231,t,typeof r));return r}var mu=!1;if(gr)try{var ki={};Object.defineProperty(ki,"passive",{get:function(){mu=!0}}),window.addEventListener("test",ki,ki),window.removeEventListener("test",ki,ki)}catch{mu=!1}function kS(e,t,r,n,p,m,S,h,i){var u=Array.prototype.slice.call(arguments,3);try{t.apply(r,u)}catch(f){this.onError(f)}}var Yi=!1,Ps=null,ks=!1,vu=null,AS={onError:function(e){Yi=!0,Ps=e}};function DS(e,t,r,n,p,m,S,h,i){Yi=!1,Ps=null,kS.apply(AS,arguments)}function MS(e,t,r,n,p,m,S,h,i){if(DS.apply(this,arguments),Yi){if(Yi){var u=Ps;Yi=!1,Ps=null}else throw Error(te(198));ks||(ks=!0,vu=u)}}function En(e){var t=e,r=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,t.flags&4098&&(r=t.return),e=t.return;while(e)}return t.tag===3?r:null}function tg(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function gh(e){if(En(e)!==e)throw Error(te(188))}function FS(e){var t=e.alternate;if(!t){if(t=En(e),t===null)throw Error(te(188));return t!==e?null:e}for(var r=e,n=t;;){var p=r.return;if(p===null)break;var m=p.alternate;if(m===null){if(n=p.return,n!==null){r=n;continue}break}if(p.child===m.child){for(m=p.child;m;){if(m===r)return gh(p),e;if(m===n)return gh(p),t;m=m.sibling}throw Error(te(188))}if(r.return!==n.return)r=p,n=m;else{for(var S=!1,h=p.child;h;){if(h===r){S=!0,r=p,n=m;break}if(h===n){S=!0,n=p,r=m;break}h=h.sibling}if(!S){for(h=m.child;h;){if(h===r){S=!0,r=m,n=p;break}if(h===n){S=!0,n=m,r=p;break}h=h.sibling}if(!S)throw Error(te(189))}}if(r.alternate!==n)throw Error(te(190))}if(r.tag!==3)throw Error(te(188));return r.stateNode.current===r?e:t}function rg(e){return e=FS(e),e!==null?ng(e):null}function ng(e){if(e.tag===5||e.tag===6)return e;for(e=e.child;e!==null;){var t=ng(e);if(t!==null)return t;e=e.sibling}return null}var ig=Tt.unstable_scheduleCallback,mh=Tt.unstable_cancelCallback,RS=Tt.unstable_shouldYield,LS=Tt.unstable_requestPaint,Ne=Tt.unstable_now,IS=Tt.unstable_getCurrentPriorityLevel,bc=Tt.unstable_ImmediatePriority,og=Tt.unstable_UserBlockingPriority,As=Tt.unstable_NormalPriority,jS=Tt.unstable_LowPriority,sg=Tt.unstable_IdlePriority,da=null,tr=null;function BS(e){if(tr&&typeof tr.onCommitFiberRoot=="function")try{tr.onCommitFiberRoot(da,e,void 0,(e.current.flags&128)===128)}catch{}}var Xt=Math.clz32?Math.clz32:US,NS=Math.log,zS=Math.LN2;function US(e){return e>>>=0,e===0?32:31-(NS(e)/zS|0)|0}var Xo=64,Yo=4194304;function Wi(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return e&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function Ds(e,t){var r=e.pendingLanes;if(r===0)return 0;var n=0,p=e.suspendedLanes,m=e.pingedLanes,S=r&268435455;if(S!==0){var h=S&~p;h!==0?n=Wi(h):(m&=S,m!==0&&(n=Wi(m)))}else S=r&~p,S!==0?n=Wi(S):m!==0&&(n=Wi(m));if(n===0)return 0;if(t!==0&&t!==n&&!(t&p)&&(p=n&-n,m=t&-t,p>=m||p===16&&(m&4194240)!==0))return t;if(n&4&&(n|=r&16),t=e.entangledLanes,t!==0)for(e=e.entanglements,t&=n;0<t;)r=31-Xt(t),p=1<<r,n|=e[r],t&=~p;return n}function WS(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function HS(e,t){for(var r=e.suspendedLanes,n=e.pingedLanes,p=e.expirationTimes,m=e.pendingLanes;0<m;){var S=31-Xt(m),h=1<<S,i=p[S];i===-1?(!(h&r)||h&n)&&(p[S]=WS(h,t)):i<=t&&(e.expiredLanes|=h),m&=~h}}function yu(e){return e=e.pendingLanes&-1073741825,e!==0?e:e&1073741824?1073741824:0}function ag(){var e=Xo;return Xo<<=1,!(Xo&4194240)&&(Xo=64),e}function hl(e){for(var t=[],r=0;31>r;r++)t.push(e);return t}function Ao(e,t,r){e.pendingLanes|=t,t!==536870912&&(e.suspendedLanes=0,e.pingedLanes=0),e=e.eventTimes,t=31-Xt(t),e[t]=r}function VS(e,t){var r=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var n=e.eventTimes;for(e=e.expirationTimes;0<r;){var p=31-Xt(r),m=1<<p;t[p]=0,n[p]=-1,e[p]=-1,r&=~m}}function Oc(e,t){var r=e.entangledLanes|=t;for(e=e.entanglements;r;){var n=31-Xt(r),p=1<<n;p&t|e[n]&t&&(e[n]|=t),r&=~p}}var Ce=0;function lg(e){return e&=-e,1<e?4<e?e&268435455?16:536870912:4:1}var ug,Ec,cg,fg,hg,Su=!1,Go=[],jr=null,Br=null,Nr=null,lo=new Map,uo=new Map,Dr=[],$S="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function vh(e,t){switch(e){case"focusin":case"focusout":jr=null;break;case"dragenter":case"dragleave":Br=null;break;case"mouseover":case"mouseout":Nr=null;break;case"pointerover":case"pointerout":lo.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":uo.delete(t.pointerId)}}function Ai(e,t,r,n,p,m){return e===null||e.nativeEvent!==m?(e={blockedOn:t,domEventName:r,eventSystemFlags:n,nativeEvent:m,targetContainers:[p]},t!==null&&(t=Mo(t),t!==null&&Ec(t)),e):(e.eventSystemFlags|=n,t=e.targetContainers,p!==null&&t.indexOf(p)===-1&&t.push(p),e)}function XS(e,t,r,n,p){switch(t){case"focusin":return jr=Ai(jr,e,t,r,n,p),!0;case"dragenter":return Br=Ai(Br,e,t,r,n,p),!0;case"mouseover":return Nr=Ai(Nr,e,t,r,n,p),!0;case"pointerover":var m=p.pointerId;return lo.set(m,Ai(lo.get(m)||null,e,t,r,n,p)),!0;case"gotpointercapture":return m=p.pointerId,uo.set(m,Ai(uo.get(m)||null,e,t,r,n,p)),!0}return!1}function dg(e){var t=hn(e.target);if(t!==null){var r=En(t);if(r!==null){if(t=r.tag,t===13){if(t=tg(r),t!==null){e.blockedOn=t,hg(e.priority,function(){cg(r)});return}}else if(t===3&&r.stateNode.current.memoizedState.isDehydrated){e.blockedOn=r.tag===3?r.stateNode.containerInfo:null;return}}}e.blockedOn=null}function ps(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var r=_u(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(r===null){r=e.nativeEvent;var n=new r.constructor(r.type,r);pu=n,r.target.dispatchEvent(n),pu=null}else return t=Mo(r),t!==null&&Ec(t),e.blockedOn=r,!1;t.shift()}return!0}function yh(e,t,r){ps(e)&&r.delete(t)}function YS(){Su=!1,jr!==null&&ps(jr)&&(jr=null),Br!==null&&ps(Br)&&(Br=null),Nr!==null&&ps(Nr)&&(Nr=null),lo.forEach(yh),uo.forEach(yh)}function Di(e,t){e.blockedOn===t&&(e.blockedOn=null,Su||(Su=!0,Tt.unstable_scheduleCallback(Tt.unstable_NormalPriority,YS)))}function co(e){function t(p){return Di(p,e)}if(0<Go.length){Di(Go[0],e);for(var r=1;r<Go.length;r++){var n=Go[r];n.blockedOn===e&&(n.blockedOn=null)}}for(jr!==null&&Di(jr,e),Br!==null&&Di(Br,e),Nr!==null&&Di(Nr,e),lo.forEach(t),uo.forEach(t),r=0;r<Dr.length;r++)n=Dr[r],n.blockedOn===e&&(n.blockedOn=null);for(;0<Dr.length&&(r=Dr[0],r.blockedOn===null);)dg(r),r.blockedOn===null&&Dr.shift()}var Kn=_r.ReactCurrentBatchConfig,Ms=!0;function GS(e,t,r,n){var p=Ce,m=Kn.transition;Kn.transition=null;try{Ce=1,Pc(e,t,r,n)}finally{Ce=p,Kn.transition=m}}function qS(e,t,r,n){var p=Ce,m=Kn.transition;Kn.transition=null;try{Ce=4,Pc(e,t,r,n)}finally{Ce=p,Kn.transition=m}}function Pc(e,t,r,n){if(Ms){var p=_u(e,t,r,n);if(p===null)Cl(e,t,n,Fs,r),vh(e,n);else if(XS(p,e,t,r,n))n.stopPropagation();else if(vh(e,n),t&4&&-1<$S.indexOf(e)){for(;p!==null;){var m=Mo(p);if(m!==null&&ug(m),m=_u(e,t,r,n),m===null&&Cl(e,t,n,Fs,r),m===p)break;p=m}p!==null&&n.stopPropagation()}else Cl(e,t,n,null,r)}}var Fs=null;function _u(e,t,r,n){if(Fs=null,e=Tc(n),e=hn(e),e!==null)if(t=En(e),t===null)e=null;else if(r=t.tag,r===13){if(e=tg(t),e!==null)return e;e=null}else if(r===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return Fs=e,null}function pg(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(IS()){case bc:return 1;case og:return 4;case As:case jS:return 16;case sg:return 536870912;default:return 16}default:return 16}}var Rr=null,kc=null,gs=null;function gg(){if(gs)return gs;var e,t=kc,r=t.length,n,p="value"in Rr?Rr.value:Rr.textContent,m=p.length;for(e=0;e<r&&t[e]===p[e];e++);var S=r-e;for(n=1;n<=S&&t[r-n]===p[m-n];n++);return gs=p.slice(e,1<n?1-n:void 0)}function ms(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function qo(){return!0}function Sh(){return!1}function Et(e){function t(r,n,p,m,S){this._reactName=r,this._targetInst=p,this.type=n,this.nativeEvent=m,this.target=S,this.currentTarget=null;for(var h in e)e.hasOwnProperty(h)&&(r=e[h],this[h]=r?r(m):m[h]);return this.isDefaultPrevented=(m.defaultPrevented!=null?m.defaultPrevented:m.returnValue===!1)?qo:Sh,this.isPropagationStopped=Sh,this}return Ie(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var r=this.nativeEvent;r&&(r.preventDefault?r.preventDefault():typeof r.returnValue!="unknown"&&(r.returnValue=!1),this.isDefaultPrevented=qo)},stopPropagation:function(){var r=this.nativeEvent;r&&(r.stopPropagation?r.stopPropagation():typeof r.cancelBubble!="unknown"&&(r.cancelBubble=!0),this.isPropagationStopped=qo)},persist:function(){},isPersistent:qo}),t}var yi={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Ac=Et(yi),Do=Ie({},yi,{view:0,detail:0}),KS=Et(Do),dl,pl,Mi,pa=Ie({},Do,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Dc,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==Mi&&(Mi&&e.type==="mousemove"?(dl=e.screenX-Mi.screenX,pl=e.screenY-Mi.screenY):pl=dl=0,Mi=e),dl)},movementY:function(e){return"movementY"in e?e.movementY:pl}}),_h=Et(pa),QS=Ie({},pa,{dataTransfer:0}),JS=Et(QS),ZS=Ie({},Do,{relatedTarget:0}),gl=Et(ZS),e_=Ie({},yi,{animationName:0,elapsedTime:0,pseudoElement:0}),t_=Et(e_),r_=Ie({},yi,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),n_=Et(r_),i_=Ie({},yi,{data:0}),wh=Et(i_),o_={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},s_={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},a_={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function l_(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=a_[e])?!!t[e]:!1}function Dc(){return l_}var u_=Ie({},Do,{key:function(e){if(e.key){var t=o_[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=ms(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?s_[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Dc,charCode:function(e){return e.type==="keypress"?ms(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?ms(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),c_=Et(u_),f_=Ie({},pa,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Ch=Et(f_),h_=Ie({},Do,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Dc}),d_=Et(h_),p_=Ie({},yi,{propertyName:0,elapsedTime:0,pseudoElement:0}),g_=Et(p_),m_=Ie({},pa,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),v_=Et(m_),y_=[9,13,27,32],Mc=gr&&"CompositionEvent"in window,Gi=null;gr&&"documentMode"in document&&(Gi=document.documentMode);var S_=gr&&"TextEvent"in window&&!Gi,mg=gr&&(!Mc||Gi&&8<Gi&&11>=Gi),xh=String.fromCharCode(32),Th=!1;function vg(e,t){switch(e){case"keyup":return y_.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function yg(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var jn=!1;function __(e,t){switch(e){case"compositionend":return yg(t);case"keypress":return t.which!==32?null:(Th=!0,xh);case"textInput":return e=t.data,e===xh&&Th?null:e;default:return null}}function w_(e,t){if(jn)return e==="compositionend"||!Mc&&vg(e,t)?(e=gg(),gs=kc=Rr=null,jn=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return mg&&t.locale!=="ko"?null:t.data;default:return null}}var C_={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function bh(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!C_[e.type]:t==="textarea"}function Sg(e,t,r,n){Kp(n),t=Rs(t,"onChange"),0<t.length&&(r=new Ac("onChange","change",null,r,n),e.push({event:r,listeners:t}))}var qi=null,fo=null;function x_(e){Ag(e,0)}function ga(e){var t=zn(e);if(Hp(t))return e}function T_(e,t){if(e==="change")return t}var _g=!1;if(gr){var ml;if(gr){var vl="oninput"in document;if(!vl){var Oh=document.createElement("div");Oh.setAttribute("oninput","return;"),vl=typeof Oh.oninput=="function"}ml=vl}else ml=!1;_g=ml&&(!document.documentMode||9<document.documentMode)}function Eh(){qi&&(qi.detachEvent("onpropertychange",wg),fo=qi=null)}function wg(e){if(e.propertyName==="value"&&ga(fo)){var t=[];Sg(t,fo,e,Tc(e)),eg(x_,t)}}function b_(e,t,r){e==="focusin"?(Eh(),qi=t,fo=r,qi.attachEvent("onpropertychange",wg)):e==="focusout"&&Eh()}function O_(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return ga(fo)}function E_(e,t){if(e==="click")return ga(t)}function P_(e,t){if(e==="input"||e==="change")return ga(t)}function k_(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var Gt=typeof Object.is=="function"?Object.is:k_;function ho(e,t){if(Gt(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var r=Object.keys(e),n=Object.keys(t);if(r.length!==n.length)return!1;for(n=0;n<r.length;n++){var p=r[n];if(!ru.call(t,p)||!Gt(e[p],t[p]))return!1}return!0}function Ph(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function kh(e,t){var r=Ph(e);e=0;for(var n;r;){if(r.nodeType===3){if(n=e+r.textContent.length,e<=t&&n>=t)return{node:r,offset:t-e};e=n}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=Ph(r)}}function Cg(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?Cg(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function xg(){for(var e=window,t=Es();t instanceof e.HTMLIFrameElement;){try{var r=typeof t.contentWindow.location.href=="string"}catch{r=!1}if(r)e=t.contentWindow;else break;t=Es(e.document)}return t}function Fc(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}function A_(e){var t=xg(),r=e.focusedElem,n=e.selectionRange;if(t!==r&&r&&r.ownerDocument&&Cg(r.ownerDocument.documentElement,r)){if(n!==null&&Fc(r)){if(t=n.start,e=n.end,e===void 0&&(e=t),"selectionStart"in r)r.selectionStart=t,r.selectionEnd=Math.min(e,r.value.length);else if(e=(t=r.ownerDocument||document)&&t.defaultView||window,e.getSelection){e=e.getSelection();var p=r.textContent.length,m=Math.min(n.start,p);n=n.end===void 0?m:Math.min(n.end,p),!e.extend&&m>n&&(p=n,n=m,m=p),p=kh(r,m);var S=kh(r,n);p&&S&&(e.rangeCount!==1||e.anchorNode!==p.node||e.anchorOffset!==p.offset||e.focusNode!==S.node||e.focusOffset!==S.offset)&&(t=t.createRange(),t.setStart(p.node,p.offset),e.removeAllRanges(),m>n?(e.addRange(t),e.extend(S.node,S.offset)):(t.setEnd(S.node,S.offset),e.addRange(t)))}}for(t=[],e=r;e=e.parentNode;)e.nodeType===1&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for(typeof r.focus=="function"&&r.focus(),r=0;r<t.length;r++)e=t[r],e.element.scrollLeft=e.left,e.element.scrollTop=e.top}}var D_=gr&&"documentMode"in document&&11>=document.documentMode,Bn=null,wu=null,Ki=null,Cu=!1;function Ah(e,t,r){var n=r.window===r?r.document:r.nodeType===9?r:r.ownerDocument;Cu||Bn==null||Bn!==Es(n)||(n=Bn,"selectionStart"in n&&Fc(n)?n={start:n.selectionStart,end:n.selectionEnd}:(n=(n.ownerDocument&&n.ownerDocument.defaultView||window).getSelection(),n={anchorNode:n.anchorNode,anchorOffset:n.anchorOffset,focusNode:n.focusNode,focusOffset:n.focusOffset}),Ki&&ho(Ki,n)||(Ki=n,n=Rs(wu,"onSelect"),0<n.length&&(t=new Ac("onSelect","select",null,t,r),e.push({event:t,listeners:n}),t.target=Bn)))}function Ko(e,t){var r={};return r[e.toLowerCase()]=t.toLowerCase(),r["Webkit"+e]="webkit"+t,r["Moz"+e]="moz"+t,r}var Nn={animationend:Ko("Animation","AnimationEnd"),animationiteration:Ko("Animation","AnimationIteration"),animationstart:Ko("Animation","AnimationStart"),transitionend:Ko("Transition","TransitionEnd")},yl={},Tg={};gr&&(Tg=document.createElement("div").style,"AnimationEvent"in window||(delete Nn.animationend.animation,delete Nn.animationiteration.animation,delete Nn.animationstart.animation),"TransitionEvent"in window||delete Nn.transitionend.transition);function ma(e){if(yl[e])return yl[e];if(!Nn[e])return e;var t=Nn[e],r;for(r in t)if(t.hasOwnProperty(r)&&r in Tg)return yl[e]=t[r];return e}var bg=ma("animationend"),Og=ma("animationiteration"),Eg=ma("animationstart"),Pg=ma("transitionend"),kg=new Map,Dh="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Jr(e,t){kg.set(e,t),On(t,[e])}for(var Sl=0;Sl<Dh.length;Sl++){var _l=Dh[Sl],M_=_l.toLowerCase(),F_=_l[0].toUpperCase()+_l.slice(1);Jr(M_,"on"+F_)}Jr(bg,"onAnimationEnd");Jr(Og,"onAnimationIteration");Jr(Eg,"onAnimationStart");Jr("dblclick","onDoubleClick");Jr("focusin","onFocus");Jr("focusout","onBlur");Jr(Pg,"onTransitionEnd");ni("onMouseEnter",["mouseout","mouseover"]);ni("onMouseLeave",["mouseout","mouseover"]);ni("onPointerEnter",["pointerout","pointerover"]);ni("onPointerLeave",["pointerout","pointerover"]);On("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));On("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));On("onBeforeInput",["compositionend","keypress","textInput","paste"]);On("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));On("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));On("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Hi="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),R_=new Set("cancel close invalid load scroll toggle".split(" ").concat(Hi));function Mh(e,t,r){var n=e.type||"unknown-event";e.currentTarget=r,MS(n,t,void 0,e),e.currentTarget=null}function Ag(e,t){t=(t&4)!==0;for(var r=0;r<e.length;r++){var n=e[r],p=n.event;n=n.listeners;e:{var m=void 0;if(t)for(var S=n.length-1;0<=S;S--){var h=n[S],i=h.instance,u=h.currentTarget;if(h=h.listener,i!==m&&p.isPropagationStopped())break e;Mh(p,h,u),m=i}else for(S=0;S<n.length;S++){if(h=n[S],i=h.instance,u=h.currentTarget,h=h.listener,i!==m&&p.isPropagationStopped())break e;Mh(p,h,u),m=i}}}if(ks)throw e=vu,ks=!1,vu=null,e}function Pe(e,t){var r=t[Eu];r===void 0&&(r=t[Eu]=new Set);var n=e+"__bubble";r.has(n)||(Dg(t,e,2,!1),r.add(n))}function wl(e,t,r){var n=0;t&&(n|=4),Dg(r,e,n,t)}var Qo="_reactListening"+Math.random().toString(36).slice(2);function po(e){if(!e[Qo]){e[Qo]=!0,Bp.forEach(function(r){r!=="selectionchange"&&(R_.has(r)||wl(r,!1,e),wl(r,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[Qo]||(t[Qo]=!0,wl("selectionchange",!1,t))}}function Dg(e,t,r,n){switch(pg(t)){case 1:var p=GS;break;case 4:p=qS;break;default:p=Pc}r=p.bind(null,t,r,e),p=void 0,!mu||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(p=!0),n?p!==void 0?e.addEventListener(t,r,{capture:!0,passive:p}):e.addEventListener(t,r,!0):p!==void 0?e.addEventListener(t,r,{passive:p}):e.addEventListener(t,r,!1)}function Cl(e,t,r,n,p){var m=n;if(!(t&1)&&!(t&2)&&n!==null)e:for(;;){if(n===null)return;var S=n.tag;if(S===3||S===4){var h=n.stateNode.containerInfo;if(h===p||h.nodeType===8&&h.parentNode===p)break;if(S===4)for(S=n.return;S!==null;){var i=S.tag;if((i===3||i===4)&&(i=S.stateNode.containerInfo,i===p||i.nodeType===8&&i.parentNode===p))return;S=S.return}for(;h!==null;){if(S=hn(h),S===null)return;if(i=S.tag,i===5||i===6){n=m=S;continue e}h=h.parentNode}}n=n.return}eg(function(){var u=m,f=Tc(r),o=[];e:{var a=kg.get(e);if(a!==void 0){var s=Ac,l=e;switch(e){case"keypress":if(ms(r)===0)break e;case"keydown":case"keyup":s=c_;break;case"focusin":l="focus",s=gl;break;case"focusout":l="blur",s=gl;break;case"beforeblur":case"afterblur":s=gl;break;case"click":if(r.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":s=_h;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":s=JS;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":s=d_;break;case bg:case Og:case Eg:s=t_;break;case Pg:s=g_;break;case"scroll":s=KS;break;case"wheel":s=v_;break;case"copy":case"cut":case"paste":s=n_;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":s=Ch}var d=(t&4)!==0,c=!d&&e==="scroll",g=d?a!==null?a+"Capture":null:a;d=[];for(var v=u,y;v!==null;){y=v;var _=y.stateNode;if(y.tag===5&&_!==null&&(y=_,g!==null&&(_=ao(v,g),_!=null&&d.push(go(v,_,y)))),c)break;v=v.return}0<d.length&&(a=new s(a,l,null,r,f),o.push({event:a,listeners:d}))}}if(!(t&7)){e:{if(a=e==="mouseover"||e==="pointerover",s=e==="mouseout"||e==="pointerout",a&&r!==pu&&(l=r.relatedTarget||r.fromElement)&&(hn(l)||l[mr]))break e;if((s||a)&&(a=f.window===f?f:(a=f.ownerDocument)?a.defaultView||a.parentWindow:window,s?(l=r.relatedTarget||r.toElement,s=u,l=l?hn(l):null,l!==null&&(c=En(l),l!==c||l.tag!==5&&l.tag!==6)&&(l=null)):(s=null,l=u),s!==l)){if(d=_h,_="onMouseLeave",g="onMouseEnter",v="mouse",(e==="pointerout"||e==="pointerover")&&(d=Ch,_="onPointerLeave",g="onPointerEnter",v="pointer"),c=s==null?a:zn(s),y=l==null?a:zn(l),a=new d(_,v+"leave",s,r,f),a.target=c,a.relatedTarget=y,_=null,hn(f)===u&&(d=new d(g,v+"enter",l,r,f),d.target=y,d.relatedTarget=c,_=d),c=_,s&&l)t:{for(d=s,g=l,v=0,y=d;y;y=Dn(y))v++;for(y=0,_=g;_;_=Dn(_))y++;for(;0<v-y;)d=Dn(d),v--;for(;0<y-v;)g=Dn(g),y--;for(;v--;){if(d===g||g!==null&&d===g.alternate)break t;d=Dn(d),g=Dn(g)}d=null}else d=null;s!==null&&Fh(o,a,s,d,!1),l!==null&&c!==null&&Fh(o,c,l,d,!0)}}e:{if(a=u?zn(u):window,s=a.nodeName&&a.nodeName.toLowerCase(),s==="select"||s==="input"&&a.type==="file")var w=T_;else if(bh(a))if(_g)w=P_;else{w=O_;var C=b_}else(s=a.nodeName)&&s.toLowerCase()==="input"&&(a.type==="checkbox"||a.type==="radio")&&(w=E_);if(w&&(w=w(e,u))){Sg(o,w,r,f);break e}C&&C(e,a,u),e==="focusout"&&(C=a._wrapperState)&&C.controlled&&a.type==="number"&&uu(a,"number",a.value)}switch(C=u?zn(u):window,e){case"focusin":(bh(C)||C.contentEditable==="true")&&(Bn=C,wu=u,Ki=null);break;case"focusout":Ki=wu=Bn=null;break;case"mousedown":Cu=!0;break;case"contextmenu":case"mouseup":case"dragend":Cu=!1,Ah(o,r,f);break;case"selectionchange":if(D_)break;case"keydown":case"keyup":Ah(o,r,f)}var x;if(Mc)e:{switch(e){case"compositionstart":var O="onCompositionStart";break e;case"compositionend":O="onCompositionEnd";break e;case"compositionupdate":O="onCompositionUpdate";break e}O=void 0}else jn?vg(e,r)&&(O="onCompositionEnd"):e==="keydown"&&r.keyCode===229&&(O="onCompositionStart");O&&(mg&&r.locale!=="ko"&&(jn||O!=="onCompositionStart"?O==="onCompositionEnd"&&jn&&(x=gg()):(Rr=f,kc="value"in Rr?Rr.value:Rr.textContent,jn=!0)),C=Rs(u,O),0<C.length&&(O=new wh(O,e,null,r,f),o.push({event:O,listeners:C}),x?O.data=x:(x=yg(r),x!==null&&(O.data=x)))),(x=S_?__(e,r):w_(e,r))&&(u=Rs(u,"onBeforeInput"),0<u.length&&(f=new wh("onBeforeInput","beforeinput",null,r,f),o.push({event:f,listeners:u}),f.data=x))}Ag(o,t)})}function go(e,t,r){return{instance:e,listener:t,currentTarget:r}}function Rs(e,t){for(var r=t+"Capture",n=[];e!==null;){var p=e,m=p.stateNode;p.tag===5&&m!==null&&(p=m,m=ao(e,r),m!=null&&n.unshift(go(e,m,p)),m=ao(e,t),m!=null&&n.push(go(e,m,p))),e=e.return}return n}function Dn(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5);return e||null}function Fh(e,t,r,n,p){for(var m=t._reactName,S=[];r!==null&&r!==n;){var h=r,i=h.alternate,u=h.stateNode;if(i!==null&&i===n)break;h.tag===5&&u!==null&&(h=u,p?(i=ao(r,m),i!=null&&S.unshift(go(r,i,h))):p||(i=ao(r,m),i!=null&&S.push(go(r,i,h)))),r=r.return}S.length!==0&&e.push({event:t,listeners:S})}var L_=/\r\n?/g,I_=/\u0000|\uFFFD/g;function Rh(e){return(typeof e=="string"?e:""+e).replace(L_,`
`).replace(I_,"")}function Jo(e,t,r){if(t=Rh(t),Rh(e)!==t&&r)throw Error(te(425))}function Ls(){}var xu=null,Tu=null;function bu(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var Ou=typeof setTimeout=="function"?setTimeout:void 0,j_=typeof clearTimeout=="function"?clearTimeout:void 0,Lh=typeof Promise=="function"?Promise:void 0,B_=typeof queueMicrotask=="function"?queueMicrotask:typeof Lh<"u"?function(e){return Lh.resolve(null).then(e).catch(N_)}:Ou;function N_(e){setTimeout(function(){throw e})}function xl(e,t){var r=t,n=0;do{var p=r.nextSibling;if(e.removeChild(r),p&&p.nodeType===8)if(r=p.data,r==="/$"){if(n===0){e.removeChild(p),co(t);return}n--}else r!=="$"&&r!=="$?"&&r!=="$!"||n++;r=p}while(r);co(t)}function zr(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?")break;if(t==="/$")return null}}return e}function Ih(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var r=e.data;if(r==="$"||r==="$!"||r==="$?"){if(t===0)return e;t--}else r==="/$"&&t++}e=e.previousSibling}return null}var Si=Math.random().toString(36).slice(2),Zt="__reactFiber$"+Si,mo="__reactProps$"+Si,mr="__reactContainer$"+Si,Eu="__reactEvents$"+Si,z_="__reactListeners$"+Si,U_="__reactHandles$"+Si;function hn(e){var t=e[Zt];if(t)return t;for(var r=e.parentNode;r;){if(t=r[mr]||r[Zt]){if(r=t.alternate,t.child!==null||r!==null&&r.child!==null)for(e=Ih(e);e!==null;){if(r=e[Zt])return r;e=Ih(e)}return t}e=r,r=e.parentNode}return null}function Mo(e){return e=e[Zt]||e[mr],!e||e.tag!==5&&e.tag!==6&&e.tag!==13&&e.tag!==3?null:e}function zn(e){if(e.tag===5||e.tag===6)return e.stateNode;throw Error(te(33))}function va(e){return e[mo]||null}var Pu=[],Un=-1;function Zr(e){return{current:e}}function ke(e){0>Un||(e.current=Pu[Un],Pu[Un]=null,Un--)}function Oe(e,t){Un++,Pu[Un]=e.current,e.current=t}var Gr={},lt=Zr(Gr),mt=Zr(!1),Sn=Gr;function ii(e,t){var r=e.type.contextTypes;if(!r)return Gr;var n=e.stateNode;if(n&&n.__reactInternalMemoizedUnmaskedChildContext===t)return n.__reactInternalMemoizedMaskedChildContext;var p={},m;for(m in r)p[m]=t[m];return n&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=p),p}function vt(e){return e=e.childContextTypes,e!=null}function Is(){ke(mt),ke(lt)}function jh(e,t,r){if(lt.current!==Gr)throw Error(te(168));Oe(lt,t),Oe(mt,r)}function Mg(e,t,r){var n=e.stateNode;if(t=t.childContextTypes,typeof n.getChildContext!="function")return r;n=n.getChildContext();for(var p in n)if(!(p in t))throw Error(te(108,bS(e)||"Unknown",p));return Ie({},r,n)}function js(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||Gr,Sn=lt.current,Oe(lt,e),Oe(mt,mt.current),!0}function Bh(e,t,r){var n=e.stateNode;if(!n)throw Error(te(169));r?(e=Mg(e,t,Sn),n.__reactInternalMemoizedMergedChildContext=e,ke(mt),ke(lt),Oe(lt,e)):ke(mt),Oe(mt,r)}var ur=null,ya=!1,Tl=!1;function Fg(e){ur===null?ur=[e]:ur.push(e)}function W_(e){ya=!0,Fg(e)}function en(){if(!Tl&&ur!==null){Tl=!0;var e=0,t=Ce;try{var r=ur;for(Ce=1;e<r.length;e++){var n=r[e];do n=n(!0);while(n!==null)}ur=null,ya=!1}catch(p){throw ur!==null&&(ur=ur.slice(e+1)),ig(bc,en),p}finally{Ce=t,Tl=!1}}return null}var Wn=[],Hn=0,Bs=null,Ns=0,Dt=[],Mt=0,_n=null,fr=1,hr="";function ln(e,t){Wn[Hn++]=Ns,Wn[Hn++]=Bs,Bs=e,Ns=t}function Rg(e,t,r){Dt[Mt++]=fr,Dt[Mt++]=hr,Dt[Mt++]=_n,_n=e;var n=fr;e=hr;var p=32-Xt(n)-1;n&=~(1<<p),r+=1;var m=32-Xt(t)+p;if(30<m){var S=p-p%5;m=(n&(1<<S)-1).toString(32),n>>=S,p-=S,fr=1<<32-Xt(t)+p|r<<p|n,hr=m+e}else fr=1<<m|r<<p|n,hr=e}function Rc(e){e.return!==null&&(ln(e,1),Rg(e,1,0))}function Lc(e){for(;e===Bs;)Bs=Wn[--Hn],Wn[Hn]=null,Ns=Wn[--Hn],Wn[Hn]=null;for(;e===_n;)_n=Dt[--Mt],Dt[Mt]=null,hr=Dt[--Mt],Dt[Mt]=null,fr=Dt[--Mt],Dt[Mt]=null}var xt=null,Ct=null,De=!1,Ht=null;function Lg(e,t){var r=Ft(5,null,null,0);r.elementType="DELETED",r.stateNode=t,r.return=e,t=e.deletions,t===null?(e.deletions=[r],e.flags|=16):t.push(r)}function Nh(e,t){switch(e.tag){case 5:var r=e.type;return t=t.nodeType!==1||r.toLowerCase()!==t.nodeName.toLowerCase()?null:t,t!==null?(e.stateNode=t,xt=e,Ct=zr(t.firstChild),!0):!1;case 6:return t=e.pendingProps===""||t.nodeType!==3?null:t,t!==null?(e.stateNode=t,xt=e,Ct=null,!0):!1;case 13:return t=t.nodeType!==8?null:t,t!==null?(r=_n!==null?{id:fr,overflow:hr}:null,e.memoizedState={dehydrated:t,treeContext:r,retryLane:1073741824},r=Ft(18,null,null,0),r.stateNode=t,r.return=e,e.child=r,xt=e,Ct=null,!0):!1;default:return!1}}function ku(e){return(e.mode&1)!==0&&(e.flags&128)===0}function Au(e){if(De){var t=Ct;if(t){var r=t;if(!Nh(e,t)){if(ku(e))throw Error(te(418));t=zr(r.nextSibling);var n=xt;t&&Nh(e,t)?Lg(n,r):(e.flags=e.flags&-4097|2,De=!1,xt=e)}}else{if(ku(e))throw Error(te(418));e.flags=e.flags&-4097|2,De=!1,xt=e}}}function zh(e){for(e=e.return;e!==null&&e.tag!==5&&e.tag!==3&&e.tag!==13;)e=e.return;xt=e}function Zo(e){if(e!==xt)return!1;if(!De)return zh(e),De=!0,!1;var t;if((t=e.tag!==3)&&!(t=e.tag!==5)&&(t=e.type,t=t!=="head"&&t!=="body"&&!bu(e.type,e.memoizedProps)),t&&(t=Ct)){if(ku(e))throw Ig(),Error(te(418));for(;t;)Lg(e,t),t=zr(t.nextSibling)}if(zh(e),e.tag===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(te(317));e:{for(e=e.nextSibling,t=0;e;){if(e.nodeType===8){var r=e.data;if(r==="/$"){if(t===0){Ct=zr(e.nextSibling);break e}t--}else r!=="$"&&r!=="$!"&&r!=="$?"||t++}e=e.nextSibling}Ct=null}}else Ct=xt?zr(e.stateNode.nextSibling):null;return!0}function Ig(){for(var e=Ct;e;)e=zr(e.nextSibling)}function oi(){Ct=xt=null,De=!1}function Ic(e){Ht===null?Ht=[e]:Ht.push(e)}var H_=_r.ReactCurrentBatchConfig;function Ut(e,t){if(e&&e.defaultProps){t=Ie({},t),e=e.defaultProps;for(var r in e)t[r]===void 0&&(t[r]=e[r]);return t}return t}var zs=Zr(null),Us=null,Vn=null,jc=null;function Bc(){jc=Vn=Us=null}function Nc(e){var t=zs.current;ke(zs),e._currentValue=t}function Du(e,t,r){for(;e!==null;){var n=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,n!==null&&(n.childLanes|=t)):n!==null&&(n.childLanes&t)!==t&&(n.childLanes|=t),e===r)break;e=e.return}}function Qn(e,t){Us=e,jc=Vn=null,e=e.dependencies,e!==null&&e.firstContext!==null&&(e.lanes&t&&(gt=!0),e.firstContext=null)}function It(e){var t=e._currentValue;if(jc!==e)if(e={context:e,memoizedValue:t,next:null},Vn===null){if(Us===null)throw Error(te(308));Vn=e,Us.dependencies={lanes:0,firstContext:e}}else Vn=Vn.next=e;return t}var dn=null;function zc(e){dn===null?dn=[e]:dn.push(e)}function jg(e,t,r,n){var p=t.interleaved;return p===null?(r.next=r,zc(t)):(r.next=p.next,p.next=r),t.interleaved=r,vr(e,n)}function vr(e,t){e.lanes|=t;var r=e.alternate;for(r!==null&&(r.lanes|=t),r=e,e=e.return;e!==null;)e.childLanes|=t,r=e.alternate,r!==null&&(r.childLanes|=t),r=e,e=e.return;return r.tag===3?r.stateNode:null}var kr=!1;function Uc(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Bg(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function pr(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function Ur(e,t,r){var n=e.updateQueue;if(n===null)return null;if(n=n.shared,we&2){var p=n.pending;return p===null?t.next=t:(t.next=p.next,p.next=t),n.pending=t,vr(e,r)}return p=n.interleaved,p===null?(t.next=t,zc(n)):(t.next=p.next,p.next=t),n.interleaved=t,vr(e,r)}function vs(e,t,r){if(t=t.updateQueue,t!==null&&(t=t.shared,(r&4194240)!==0)){var n=t.lanes;n&=e.pendingLanes,r|=n,t.lanes=r,Oc(e,r)}}function Uh(e,t){var r=e.updateQueue,n=e.alternate;if(n!==null&&(n=n.updateQueue,r===n)){var p=null,m=null;if(r=r.firstBaseUpdate,r!==null){do{var S={eventTime:r.eventTime,lane:r.lane,tag:r.tag,payload:r.payload,callback:r.callback,next:null};m===null?p=m=S:m=m.next=S,r=r.next}while(r!==null);m===null?p=m=t:m=m.next=t}else p=m=t;r={baseState:n.baseState,firstBaseUpdate:p,lastBaseUpdate:m,shared:n.shared,effects:n.effects},e.updateQueue=r;return}e=r.lastBaseUpdate,e===null?r.firstBaseUpdate=t:e.next=t,r.lastBaseUpdate=t}function Ws(e,t,r,n){var p=e.updateQueue;kr=!1;var m=p.firstBaseUpdate,S=p.lastBaseUpdate,h=p.shared.pending;if(h!==null){p.shared.pending=null;var i=h,u=i.next;i.next=null,S===null?m=u:S.next=u,S=i;var f=e.alternate;f!==null&&(f=f.updateQueue,h=f.lastBaseUpdate,h!==S&&(h===null?f.firstBaseUpdate=u:h.next=u,f.lastBaseUpdate=i))}if(m!==null){var o=p.baseState;S=0,f=u=i=null,h=m;do{var a=h.lane,s=h.eventTime;if((n&a)===a){f!==null&&(f=f.next={eventTime:s,lane:0,tag:h.tag,payload:h.payload,callback:h.callback,next:null});e:{var l=e,d=h;switch(a=t,s=r,d.tag){case 1:if(l=d.payload,typeof l=="function"){o=l.call(s,o,a);break e}o=l;break e;case 3:l.flags=l.flags&-65537|128;case 0:if(l=d.payload,a=typeof l=="function"?l.call(s,o,a):l,a==null)break e;o=Ie({},o,a);break e;case 2:kr=!0}}h.callback!==null&&h.lane!==0&&(e.flags|=64,a=p.effects,a===null?p.effects=[h]:a.push(h))}else s={eventTime:s,lane:a,tag:h.tag,payload:h.payload,callback:h.callback,next:null},f===null?(u=f=s,i=o):f=f.next=s,S|=a;if(h=h.next,h===null){if(h=p.shared.pending,h===null)break;a=h,h=a.next,a.next=null,p.lastBaseUpdate=a,p.shared.pending=null}}while(1);if(f===null&&(i=o),p.baseState=i,p.firstBaseUpdate=u,p.lastBaseUpdate=f,t=p.shared.interleaved,t!==null){p=t;do S|=p.lane,p=p.next;while(p!==t)}else m===null&&(p.shared.lanes=0);Cn|=S,e.lanes=S,e.memoizedState=o}}function Wh(e,t,r){if(e=t.effects,t.effects=null,e!==null)for(t=0;t<e.length;t++){var n=e[t],p=n.callback;if(p!==null){if(n.callback=null,n=r,typeof p!="function")throw Error(te(191,p));p.call(n)}}}var Ng=new jp.Component().refs;function Mu(e,t,r,n){t=e.memoizedState,r=r(n,t),r=r==null?t:Ie({},t,r),e.memoizedState=r,e.lanes===0&&(e.updateQueue.baseState=r)}var Sa={isMounted:function(e){return(e=e._reactInternals)?En(e)===e:!1},enqueueSetState:function(e,t,r){e=e._reactInternals;var n=ft(),p=Hr(e),m=pr(n,p);m.payload=t,r!=null&&(m.callback=r),t=Ur(e,m,p),t!==null&&(Yt(t,e,p,n),vs(t,e,p))},enqueueReplaceState:function(e,t,r){e=e._reactInternals;var n=ft(),p=Hr(e),m=pr(n,p);m.tag=1,m.payload=t,r!=null&&(m.callback=r),t=Ur(e,m,p),t!==null&&(Yt(t,e,p,n),vs(t,e,p))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var r=ft(),n=Hr(e),p=pr(r,n);p.tag=2,t!=null&&(p.callback=t),t=Ur(e,p,n),t!==null&&(Yt(t,e,n,r),vs(t,e,n))}};function Hh(e,t,r,n,p,m,S){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(n,m,S):t.prototype&&t.prototype.isPureReactComponent?!ho(r,n)||!ho(p,m):!0}function zg(e,t,r){var n=!1,p=Gr,m=t.contextType;return typeof m=="object"&&m!==null?m=It(m):(p=vt(t)?Sn:lt.current,n=t.contextTypes,m=(n=n!=null)?ii(e,p):Gr),t=new t(r,m),e.memoizedState=t.state!==null&&t.state!==void 0?t.state:null,t.updater=Sa,e.stateNode=t,t._reactInternals=e,n&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=p,e.__reactInternalMemoizedMaskedChildContext=m),t}function Vh(e,t,r,n){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(r,n),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(r,n),t.state!==e&&Sa.enqueueReplaceState(t,t.state,null)}function Fu(e,t,r,n){var p=e.stateNode;p.props=r,p.state=e.memoizedState,p.refs=Ng,Uc(e);var m=t.contextType;typeof m=="object"&&m!==null?p.context=It(m):(m=vt(t)?Sn:lt.current,p.context=ii(e,m)),p.state=e.memoizedState,m=t.getDerivedStateFromProps,typeof m=="function"&&(Mu(e,t,m,r),p.state=e.memoizedState),typeof t.getDerivedStateFromProps=="function"||typeof p.getSnapshotBeforeUpdate=="function"||typeof p.UNSAFE_componentWillMount!="function"&&typeof p.componentWillMount!="function"||(t=p.state,typeof p.componentWillMount=="function"&&p.componentWillMount(),typeof p.UNSAFE_componentWillMount=="function"&&p.UNSAFE_componentWillMount(),t!==p.state&&Sa.enqueueReplaceState(p,p.state,null),Ws(e,r,p,n),p.state=e.memoizedState),typeof p.componentDidMount=="function"&&(e.flags|=4194308)}function Fi(e,t,r){if(e=r.ref,e!==null&&typeof e!="function"&&typeof e!="object"){if(r._owner){if(r=r._owner,r){if(r.tag!==1)throw Error(te(309));var n=r.stateNode}if(!n)throw Error(te(147,e));var p=n,m=""+e;return t!==null&&t.ref!==null&&typeof t.ref=="function"&&t.ref._stringRef===m?t.ref:(t=function(S){var h=p.refs;h===Ng&&(h=p.refs={}),S===null?delete h[m]:h[m]=S},t._stringRef=m,t)}if(typeof e!="string")throw Error(te(284));if(!r._owner)throw Error(te(290,e))}return e}function es(e,t){throw e=Object.prototype.toString.call(t),Error(te(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function $h(e){var t=e._init;return t(e._payload)}function Ug(e){function t(g,v){if(e){var y=g.deletions;y===null?(g.deletions=[v],g.flags|=16):y.push(v)}}function r(g,v){if(!e)return null;for(;v!==null;)t(g,v),v=v.sibling;return null}function n(g,v){for(g=new Map;v!==null;)v.key!==null?g.set(v.key,v):g.set(v.index,v),v=v.sibling;return g}function p(g,v){return g=Vr(g,v),g.index=0,g.sibling=null,g}function m(g,v,y){return g.index=y,e?(y=g.alternate,y!==null?(y=y.index,y<v?(g.flags|=2,v):y):(g.flags|=2,v)):(g.flags|=1048576,v)}function S(g){return e&&g.alternate===null&&(g.flags|=2),g}function h(g,v,y,_){return v===null||v.tag!==6?(v=Dl(y,g.mode,_),v.return=g,v):(v=p(v,y),v.return=g,v)}function i(g,v,y,_){var w=y.type;return w===In?f(g,v,y.props.children,_,y.key):v!==null&&(v.elementType===w||typeof w=="object"&&w!==null&&w.$$typeof===Pr&&$h(w)===v.type)?(_=p(v,y.props),_.ref=Fi(g,v,y),_.return=g,_):(_=xs(y.type,y.key,y.props,null,g.mode,_),_.ref=Fi(g,v,y),_.return=g,_)}function u(g,v,y,_){return v===null||v.tag!==4||v.stateNode.containerInfo!==y.containerInfo||v.stateNode.implementation!==y.implementation?(v=Ml(y,g.mode,_),v.return=g,v):(v=p(v,y.children||[]),v.return=g,v)}function f(g,v,y,_,w){return v===null||v.tag!==7?(v=mn(y,g.mode,_,w),v.return=g,v):(v=p(v,y),v.return=g,v)}function o(g,v,y){if(typeof v=="string"&&v!==""||typeof v=="number")return v=Dl(""+v,g.mode,y),v.return=g,v;if(typeof v=="object"&&v!==null){switch(v.$$typeof){case Ho:return y=xs(v.type,v.key,v.props,null,g.mode,y),y.ref=Fi(g,null,v),y.return=g,y;case Ln:return v=Ml(v,g.mode,y),v.return=g,v;case Pr:var _=v._init;return o(g,_(v._payload),y)}if(Ui(v)||Pi(v))return v=mn(v,g.mode,y,null),v.return=g,v;es(g,v)}return null}function a(g,v,y,_){var w=v!==null?v.key:null;if(typeof y=="string"&&y!==""||typeof y=="number")return w!==null?null:h(g,v,""+y,_);if(typeof y=="object"&&y!==null){switch(y.$$typeof){case Ho:return y.key===w?i(g,v,y,_):null;case Ln:return y.key===w?u(g,v,y,_):null;case Pr:return w=y._init,a(g,v,w(y._payload),_)}if(Ui(y)||Pi(y))return w!==null?null:f(g,v,y,_,null);es(g,y)}return null}function s(g,v,y,_,w){if(typeof _=="string"&&_!==""||typeof _=="number")return g=g.get(y)||null,h(v,g,""+_,w);if(typeof _=="object"&&_!==null){switch(_.$$typeof){case Ho:return g=g.get(_.key===null?y:_.key)||null,i(v,g,_,w);case Ln:return g=g.get(_.key===null?y:_.key)||null,u(v,g,_,w);case Pr:var C=_._init;return s(g,v,y,C(_._payload),w)}if(Ui(_)||Pi(_))return g=g.get(y)||null,f(v,g,_,w,null);es(v,_)}return null}function l(g,v,y,_){for(var w=null,C=null,x=v,O=v=0,M=null;x!==null&&O<y.length;O++){x.index>O?(M=x,x=null):M=x.sibling;var F=a(g,x,y[O],_);if(F===null){x===null&&(x=M);break}e&&x&&F.alternate===null&&t(g,x),v=m(F,v,O),C===null?w=F:C.sibling=F,C=F,x=M}if(O===y.length)return r(g,x),De&&ln(g,O),w;if(x===null){for(;O<y.length;O++)x=o(g,y[O],_),x!==null&&(v=m(x,v,O),C===null?w=x:C.sibling=x,C=x);return De&&ln(g,O),w}for(x=n(g,x);O<y.length;O++)M=s(x,g,O,y[O],_),M!==null&&(e&&M.alternate!==null&&x.delete(M.key===null?O:M.key),v=m(M,v,O),C===null?w=M:C.sibling=M,C=M);return e&&x.forEach(function(V){return t(g,V)}),De&&ln(g,O),w}function d(g,v,y,_){var w=Pi(y);if(typeof w!="function")throw Error(te(150));if(y=w.call(y),y==null)throw Error(te(151));for(var C=w=null,x=v,O=v=0,M=null,F=y.next();x!==null&&!F.done;O++,F=y.next()){x.index>O?(M=x,x=null):M=x.sibling;var V=a(g,x,F.value,_);if(V===null){x===null&&(x=M);break}e&&x&&V.alternate===null&&t(g,x),v=m(V,v,O),C===null?w=V:C.sibling=V,C=V,x=M}if(F.done)return r(g,x),De&&ln(g,O),w;if(x===null){for(;!F.done;O++,F=y.next())F=o(g,F.value,_),F!==null&&(v=m(F,v,O),C===null?w=F:C.sibling=F,C=F);return De&&ln(g,O),w}for(x=n(g,x);!F.done;O++,F=y.next())F=s(x,g,O,F.value,_),F!==null&&(e&&F.alternate!==null&&x.delete(F.key===null?O:F.key),v=m(F,v,O),C===null?w=F:C.sibling=F,C=F);return e&&x.forEach(function($){return t(g,$)}),De&&ln(g,O),w}function c(g,v,y,_){if(typeof y=="object"&&y!==null&&y.type===In&&y.key===null&&(y=y.props.children),typeof y=="object"&&y!==null){switch(y.$$typeof){case Ho:e:{for(var w=y.key,C=v;C!==null;){if(C.key===w){if(w=y.type,w===In){if(C.tag===7){r(g,C.sibling),v=p(C,y.props.children),v.return=g,g=v;break e}}else if(C.elementType===w||typeof w=="object"&&w!==null&&w.$$typeof===Pr&&$h(w)===C.type){r(g,C.sibling),v=p(C,y.props),v.ref=Fi(g,C,y),v.return=g,g=v;break e}r(g,C);break}else t(g,C);C=C.sibling}y.type===In?(v=mn(y.props.children,g.mode,_,y.key),v.return=g,g=v):(_=xs(y.type,y.key,y.props,null,g.mode,_),_.ref=Fi(g,v,y),_.return=g,g=_)}return S(g);case Ln:e:{for(C=y.key;v!==null;){if(v.key===C)if(v.tag===4&&v.stateNode.containerInfo===y.containerInfo&&v.stateNode.implementation===y.implementation){r(g,v.sibling),v=p(v,y.children||[]),v.return=g,g=v;break e}else{r(g,v);break}else t(g,v);v=v.sibling}v=Ml(y,g.mode,_),v.return=g,g=v}return S(g);case Pr:return C=y._init,c(g,v,C(y._payload),_)}if(Ui(y))return l(g,v,y,_);if(Pi(y))return d(g,v,y,_);es(g,y)}return typeof y=="string"&&y!==""||typeof y=="number"?(y=""+y,v!==null&&v.tag===6?(r(g,v.sibling),v=p(v,y),v.return=g,g=v):(r(g,v),v=Dl(y,g.mode,_),v.return=g,g=v),S(g)):r(g,v)}return c}var si=Ug(!0),Wg=Ug(!1),Fo={},rr=Zr(Fo),vo=Zr(Fo),yo=Zr(Fo);function pn(e){if(e===Fo)throw Error(te(174));return e}function Wc(e,t){switch(Oe(yo,t),Oe(vo,e),Oe(rr,Fo),e=t.nodeType,e){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:fu(null,"");break;default:e=e===8?t.parentNode:t,t=e.namespaceURI||null,e=e.tagName,t=fu(t,e)}ke(rr),Oe(rr,t)}function ai(){ke(rr),ke(vo),ke(yo)}function Hg(e){pn(yo.current);var t=pn(rr.current),r=fu(t,e.type);t!==r&&(Oe(vo,e),Oe(rr,r))}function Hc(e){vo.current===e&&(ke(rr),ke(vo))}var Re=Zr(0);function Hs(e){for(var t=e;t!==null;){if(t.tag===13){var r=t.memoizedState;if(r!==null&&(r=r.dehydrated,r===null||r.data==="$?"||r.data==="$!"))return t}else if(t.tag===19&&t.memoizedProps.revealOrder!==void 0){if(t.flags&128)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var bl=[];function Vc(){for(var e=0;e<bl.length;e++)bl[e]._workInProgressVersionPrimary=null;bl.length=0}var ys=_r.ReactCurrentDispatcher,Ol=_r.ReactCurrentBatchConfig,wn=0,Le=null,He=null,qe=null,Vs=!1,Qi=!1,So=0,V_=0;function it(){throw Error(te(321))}function $c(e,t){if(t===null)return!1;for(var r=0;r<t.length&&r<e.length;r++)if(!Gt(e[r],t[r]))return!1;return!0}function Xc(e,t,r,n,p,m){if(wn=m,Le=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,ys.current=e===null||e.memoizedState===null?G_:q_,e=r(n,p),Qi){m=0;do{if(Qi=!1,So=0,25<=m)throw Error(te(301));m+=1,qe=He=null,t.updateQueue=null,ys.current=K_,e=r(n,p)}while(Qi)}if(ys.current=$s,t=He!==null&&He.next!==null,wn=0,qe=He=Le=null,Vs=!1,t)throw Error(te(300));return e}function Yc(){var e=So!==0;return So=0,e}function Qt(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return qe===null?Le.memoizedState=qe=e:qe=qe.next=e,qe}function jt(){if(He===null){var e=Le.alternate;e=e!==null?e.memoizedState:null}else e=He.next;var t=qe===null?Le.memoizedState:qe.next;if(t!==null)qe=t,He=e;else{if(e===null)throw Error(te(310));He=e,e={memoizedState:He.memoizedState,baseState:He.baseState,baseQueue:He.baseQueue,queue:He.queue,next:null},qe===null?Le.memoizedState=qe=e:qe=qe.next=e}return qe}function _o(e,t){return typeof t=="function"?t(e):t}function El(e){var t=jt(),r=t.queue;if(r===null)throw Error(te(311));r.lastRenderedReducer=e;var n=He,p=n.baseQueue,m=r.pending;if(m!==null){if(p!==null){var S=p.next;p.next=m.next,m.next=S}n.baseQueue=p=m,r.pending=null}if(p!==null){m=p.next,n=n.baseState;var h=S=null,i=null,u=m;do{var f=u.lane;if((wn&f)===f)i!==null&&(i=i.next={lane:0,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),n=u.hasEagerState?u.eagerState:e(n,u.action);else{var o={lane:f,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null};i===null?(h=i=o,S=n):i=i.next=o,Le.lanes|=f,Cn|=f}u=u.next}while(u!==null&&u!==m);i===null?S=n:i.next=h,Gt(n,t.memoizedState)||(gt=!0),t.memoizedState=n,t.baseState=S,t.baseQueue=i,r.lastRenderedState=n}if(e=r.interleaved,e!==null){p=e;do m=p.lane,Le.lanes|=m,Cn|=m,p=p.next;while(p!==e)}else p===null&&(r.lanes=0);return[t.memoizedState,r.dispatch]}function Pl(e){var t=jt(),r=t.queue;if(r===null)throw Error(te(311));r.lastRenderedReducer=e;var n=r.dispatch,p=r.pending,m=t.memoizedState;if(p!==null){r.pending=null;var S=p=p.next;do m=e(m,S.action),S=S.next;while(S!==p);Gt(m,t.memoizedState)||(gt=!0),t.memoizedState=m,t.baseQueue===null&&(t.baseState=m),r.lastRenderedState=m}return[m,n]}function Vg(){}function $g(e,t){var r=Le,n=jt(),p=t(),m=!Gt(n.memoizedState,p);if(m&&(n.memoizedState=p,gt=!0),n=n.queue,Gc(Gg.bind(null,r,n,e),[e]),n.getSnapshot!==t||m||qe!==null&&qe.memoizedState.tag&1){if(r.flags|=2048,wo(9,Yg.bind(null,r,n,p,t),void 0,null),Ke===null)throw Error(te(349));wn&30||Xg(r,t,p)}return p}function Xg(e,t,r){e.flags|=16384,e={getSnapshot:t,value:r},t=Le.updateQueue,t===null?(t={lastEffect:null,stores:null},Le.updateQueue=t,t.stores=[e]):(r=t.stores,r===null?t.stores=[e]:r.push(e))}function Yg(e,t,r,n){t.value=r,t.getSnapshot=n,qg(t)&&Kg(e)}function Gg(e,t,r){return r(function(){qg(t)&&Kg(e)})}function qg(e){var t=e.getSnapshot;e=e.value;try{var r=t();return!Gt(e,r)}catch{return!0}}function Kg(e){var t=vr(e,1);t!==null&&Yt(t,e,1,-1)}function Xh(e){var t=Qt();return typeof e=="function"&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:_o,lastRenderedState:e},t.queue=e,e=e.dispatch=Y_.bind(null,Le,e),[t.memoizedState,e]}function wo(e,t,r,n){return e={tag:e,create:t,destroy:r,deps:n,next:null},t=Le.updateQueue,t===null?(t={lastEffect:null,stores:null},Le.updateQueue=t,t.lastEffect=e.next=e):(r=t.lastEffect,r===null?t.lastEffect=e.next=e:(n=r.next,r.next=e,e.next=n,t.lastEffect=e)),e}function Qg(){return jt().memoizedState}function Ss(e,t,r,n){var p=Qt();Le.flags|=e,p.memoizedState=wo(1|t,r,void 0,n===void 0?null:n)}function _a(e,t,r,n){var p=jt();n=n===void 0?null:n;var m=void 0;if(He!==null){var S=He.memoizedState;if(m=S.destroy,n!==null&&$c(n,S.deps)){p.memoizedState=wo(t,r,m,n);return}}Le.flags|=e,p.memoizedState=wo(1|t,r,m,n)}function Yh(e,t){return Ss(8390656,8,e,t)}function Gc(e,t){return _a(2048,8,e,t)}function Jg(e,t){return _a(4,2,e,t)}function Zg(e,t){return _a(4,4,e,t)}function em(e,t){if(typeof t=="function")return e=e(),t(e),function(){t(null)};if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function tm(e,t,r){return r=r!=null?r.concat([e]):null,_a(4,4,em.bind(null,t,e),r)}function qc(){}function rm(e,t){var r=jt();t=t===void 0?null:t;var n=r.memoizedState;return n!==null&&t!==null&&$c(t,n[1])?n[0]:(r.memoizedState=[e,t],e)}function nm(e,t){var r=jt();t=t===void 0?null:t;var n=r.memoizedState;return n!==null&&t!==null&&$c(t,n[1])?n[0]:(e=e(),r.memoizedState=[e,t],e)}function im(e,t,r){return wn&21?(Gt(r,t)||(r=ag(),Le.lanes|=r,Cn|=r,e.baseState=!0),t):(e.baseState&&(e.baseState=!1,gt=!0),e.memoizedState=r)}function $_(e,t){var r=Ce;Ce=r!==0&&4>r?r:4,e(!0);var n=Ol.transition;Ol.transition={};try{e(!1),t()}finally{Ce=r,Ol.transition=n}}function om(){return jt().memoizedState}function X_(e,t,r){var n=Hr(e);if(r={lane:n,action:r,hasEagerState:!1,eagerState:null,next:null},sm(e))am(t,r);else if(r=jg(e,t,r,n),r!==null){var p=ft();Yt(r,e,n,p),lm(r,t,n)}}function Y_(e,t,r){var n=Hr(e),p={lane:n,action:r,hasEagerState:!1,eagerState:null,next:null};if(sm(e))am(t,p);else{var m=e.alternate;if(e.lanes===0&&(m===null||m.lanes===0)&&(m=t.lastRenderedReducer,m!==null))try{var S=t.lastRenderedState,h=m(S,r);if(p.hasEagerState=!0,p.eagerState=h,Gt(h,S)){var i=t.interleaved;i===null?(p.next=p,zc(t)):(p.next=i.next,i.next=p),t.interleaved=p;return}}catch{}finally{}r=jg(e,t,p,n),r!==null&&(p=ft(),Yt(r,e,n,p),lm(r,t,n))}}function sm(e){var t=e.alternate;return e===Le||t!==null&&t===Le}function am(e,t){Qi=Vs=!0;var r=e.pending;r===null?t.next=t:(t.next=r.next,r.next=t),e.pending=t}function lm(e,t,r){if(r&4194240){var n=t.lanes;n&=e.pendingLanes,r|=n,t.lanes=r,Oc(e,r)}}var $s={readContext:It,useCallback:it,useContext:it,useEffect:it,useImperativeHandle:it,useInsertionEffect:it,useLayoutEffect:it,useMemo:it,useReducer:it,useRef:it,useState:it,useDebugValue:it,useDeferredValue:it,useTransition:it,useMutableSource:it,useSyncExternalStore:it,useId:it,unstable_isNewReconciler:!1},G_={readContext:It,useCallback:function(e,t){return Qt().memoizedState=[e,t===void 0?null:t],e},useContext:It,useEffect:Yh,useImperativeHandle:function(e,t,r){return r=r!=null?r.concat([e]):null,Ss(4194308,4,em.bind(null,t,e),r)},useLayoutEffect:function(e,t){return Ss(4194308,4,e,t)},useInsertionEffect:function(e,t){return Ss(4,2,e,t)},useMemo:function(e,t){var r=Qt();return t=t===void 0?null:t,e=e(),r.memoizedState=[e,t],e},useReducer:function(e,t,r){var n=Qt();return t=r!==void 0?r(t):t,n.memoizedState=n.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},n.queue=e,e=e.dispatch=X_.bind(null,Le,e),[n.memoizedState,e]},useRef:function(e){var t=Qt();return e={current:e},t.memoizedState=e},useState:Xh,useDebugValue:qc,useDeferredValue:function(e){return Qt().memoizedState=e},useTransition:function(){var e=Xh(!1),t=e[0];return e=$_.bind(null,e[1]),Qt().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,r){var n=Le,p=Qt();if(De){if(r===void 0)throw Error(te(407));r=r()}else{if(r=t(),Ke===null)throw Error(te(349));wn&30||Xg(n,t,r)}p.memoizedState=r;var m={value:r,getSnapshot:t};return p.queue=m,Yh(Gg.bind(null,n,m,e),[e]),n.flags|=2048,wo(9,Yg.bind(null,n,m,r,t),void 0,null),r},useId:function(){var e=Qt(),t=Ke.identifierPrefix;if(De){var r=hr,n=fr;r=(n&~(1<<32-Xt(n)-1)).toString(32)+r,t=":"+t+"R"+r,r=So++,0<r&&(t+="H"+r.toString(32)),t+=":"}else r=V_++,t=":"+t+"r"+r.toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},q_={readContext:It,useCallback:rm,useContext:It,useEffect:Gc,useImperativeHandle:tm,useInsertionEffect:Jg,useLayoutEffect:Zg,useMemo:nm,useReducer:El,useRef:Qg,useState:function(){return El(_o)},useDebugValue:qc,useDeferredValue:function(e){var t=jt();return im(t,He.memoizedState,e)},useTransition:function(){var e=El(_o)[0],t=jt().memoizedState;return[e,t]},useMutableSource:Vg,useSyncExternalStore:$g,useId:om,unstable_isNewReconciler:!1},K_={readContext:It,useCallback:rm,useContext:It,useEffect:Gc,useImperativeHandle:tm,useInsertionEffect:Jg,useLayoutEffect:Zg,useMemo:nm,useReducer:Pl,useRef:Qg,useState:function(){return Pl(_o)},useDebugValue:qc,useDeferredValue:function(e){var t=jt();return He===null?t.memoizedState=e:im(t,He.memoizedState,e)},useTransition:function(){var e=Pl(_o)[0],t=jt().memoizedState;return[e,t]},useMutableSource:Vg,useSyncExternalStore:$g,useId:om,unstable_isNewReconciler:!1};function li(e,t){try{var r="",n=t;do r+=TS(n),n=n.return;while(n);var p=r}catch(m){p=`
Error generating stack: `+m.message+`
`+m.stack}return{value:e,source:t,stack:p,digest:null}}function kl(e,t,r){return{value:e,source:null,stack:r??null,digest:t??null}}function Ru(e,t){try{console.error(t.value)}catch(r){setTimeout(function(){throw r})}}var Q_=typeof WeakMap=="function"?WeakMap:Map;function um(e,t,r){r=pr(-1,r),r.tag=3,r.payload={element:null};var n=t.value;return r.callback=function(){Ys||(Ys=!0,Vu=n),Ru(e,t)},r}function cm(e,t,r){r=pr(-1,r),r.tag=3;var n=e.type.getDerivedStateFromError;if(typeof n=="function"){var p=t.value;r.payload=function(){return n(p)},r.callback=function(){Ru(e,t)}}var m=e.stateNode;return m!==null&&typeof m.componentDidCatch=="function"&&(r.callback=function(){Ru(e,t),typeof n!="function"&&(Wr===null?Wr=new Set([this]):Wr.add(this));var S=t.stack;this.componentDidCatch(t.value,{componentStack:S!==null?S:""})}),r}function Gh(e,t,r){var n=e.pingCache;if(n===null){n=e.pingCache=new Q_;var p=new Set;n.set(t,p)}else p=n.get(t),p===void 0&&(p=new Set,n.set(t,p));p.has(r)||(p.add(r),e=fw.bind(null,e,t,r),t.then(e,e))}function qh(e){do{var t;if((t=e.tag===13)&&(t=e.memoizedState,t=t!==null?t.dehydrated!==null:!0),t)return e;e=e.return}while(e!==null);return null}function Kh(e,t,r,n,p){return e.mode&1?(e.flags|=65536,e.lanes=p,e):(e===t?e.flags|=65536:(e.flags|=128,r.flags|=131072,r.flags&=-52805,r.tag===1&&(r.alternate===null?r.tag=17:(t=pr(-1,1),t.tag=2,Ur(r,t,1))),r.lanes|=1),e)}var J_=_r.ReactCurrentOwner,gt=!1;function ct(e,t,r,n){t.child=e===null?Wg(t,null,r,n):si(t,e.child,r,n)}function Qh(e,t,r,n,p){r=r.render;var m=t.ref;return Qn(t,p),n=Xc(e,t,r,n,m,p),r=Yc(),e!==null&&!gt?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~p,yr(e,t,p)):(De&&r&&Rc(t),t.flags|=1,ct(e,t,n,p),t.child)}function Jh(e,t,r,n,p){if(e===null){var m=r.type;return typeof m=="function"&&!nf(m)&&m.defaultProps===void 0&&r.compare===null&&r.defaultProps===void 0?(t.tag=15,t.type=m,fm(e,t,m,n,p)):(e=xs(r.type,null,n,t,t.mode,p),e.ref=t.ref,e.return=t,t.child=e)}if(m=e.child,!(e.lanes&p)){var S=m.memoizedProps;if(r=r.compare,r=r!==null?r:ho,r(S,n)&&e.ref===t.ref)return yr(e,t,p)}return t.flags|=1,e=Vr(m,n),e.ref=t.ref,e.return=t,t.child=e}function fm(e,t,r,n,p){if(e!==null){var m=e.memoizedProps;if(ho(m,n)&&e.ref===t.ref)if(gt=!1,t.pendingProps=n=m,(e.lanes&p)!==0)e.flags&131072&&(gt=!0);else return t.lanes=e.lanes,yr(e,t,p)}return Lu(e,t,r,n,p)}function hm(e,t,r){var n=t.pendingProps,p=n.children,m=e!==null?e.memoizedState:null;if(n.mode==="hidden")if(!(t.mode&1))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},Oe(Xn,wt),wt|=r;else{if(!(r&1073741824))return e=m!==null?m.baseLanes|r:r,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,Oe(Xn,wt),wt|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},n=m!==null?m.baseLanes:r,Oe(Xn,wt),wt|=n}else m!==null?(n=m.baseLanes|r,t.memoizedState=null):n=r,Oe(Xn,wt),wt|=n;return ct(e,t,p,r),t.child}function dm(e,t){var r=t.ref;(e===null&&r!==null||e!==null&&e.ref!==r)&&(t.flags|=512,t.flags|=2097152)}function Lu(e,t,r,n,p){var m=vt(r)?Sn:lt.current;return m=ii(t,m),Qn(t,p),r=Xc(e,t,r,n,m,p),n=Yc(),e!==null&&!gt?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~p,yr(e,t,p)):(De&&n&&Rc(t),t.flags|=1,ct(e,t,r,p),t.child)}function Zh(e,t,r,n,p){if(vt(r)){var m=!0;js(t)}else m=!1;if(Qn(t,p),t.stateNode===null)_s(e,t),zg(t,r,n),Fu(t,r,n,p),n=!0;else if(e===null){var S=t.stateNode,h=t.memoizedProps;S.props=h;var i=S.context,u=r.contextType;typeof u=="object"&&u!==null?u=It(u):(u=vt(r)?Sn:lt.current,u=ii(t,u));var f=r.getDerivedStateFromProps,o=typeof f=="function"||typeof S.getSnapshotBeforeUpdate=="function";o||typeof S.UNSAFE_componentWillReceiveProps!="function"&&typeof S.componentWillReceiveProps!="function"||(h!==n||i!==u)&&Vh(t,S,n,u),kr=!1;var a=t.memoizedState;S.state=a,Ws(t,n,S,p),i=t.memoizedState,h!==n||a!==i||mt.current||kr?(typeof f=="function"&&(Mu(t,r,f,n),i=t.memoizedState),(h=kr||Hh(t,r,h,n,a,i,u))?(o||typeof S.UNSAFE_componentWillMount!="function"&&typeof S.componentWillMount!="function"||(typeof S.componentWillMount=="function"&&S.componentWillMount(),typeof S.UNSAFE_componentWillMount=="function"&&S.UNSAFE_componentWillMount()),typeof S.componentDidMount=="function"&&(t.flags|=4194308)):(typeof S.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=n,t.memoizedState=i),S.props=n,S.state=i,S.context=u,n=h):(typeof S.componentDidMount=="function"&&(t.flags|=4194308),n=!1)}else{S=t.stateNode,Bg(e,t),h=t.memoizedProps,u=t.type===t.elementType?h:Ut(t.type,h),S.props=u,o=t.pendingProps,a=S.context,i=r.contextType,typeof i=="object"&&i!==null?i=It(i):(i=vt(r)?Sn:lt.current,i=ii(t,i));var s=r.getDerivedStateFromProps;(f=typeof s=="function"||typeof S.getSnapshotBeforeUpdate=="function")||typeof S.UNSAFE_componentWillReceiveProps!="function"&&typeof S.componentWillReceiveProps!="function"||(h!==o||a!==i)&&Vh(t,S,n,i),kr=!1,a=t.memoizedState,S.state=a,Ws(t,n,S,p);var l=t.memoizedState;h!==o||a!==l||mt.current||kr?(typeof s=="function"&&(Mu(t,r,s,n),l=t.memoizedState),(u=kr||Hh(t,r,u,n,a,l,i)||!1)?(f||typeof S.UNSAFE_componentWillUpdate!="function"&&typeof S.componentWillUpdate!="function"||(typeof S.componentWillUpdate=="function"&&S.componentWillUpdate(n,l,i),typeof S.UNSAFE_componentWillUpdate=="function"&&S.UNSAFE_componentWillUpdate(n,l,i)),typeof S.componentDidUpdate=="function"&&(t.flags|=4),typeof S.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof S.componentDidUpdate!="function"||h===e.memoizedProps&&a===e.memoizedState||(t.flags|=4),typeof S.getSnapshotBeforeUpdate!="function"||h===e.memoizedProps&&a===e.memoizedState||(t.flags|=1024),t.memoizedProps=n,t.memoizedState=l),S.props=n,S.state=l,S.context=i,n=u):(typeof S.componentDidUpdate!="function"||h===e.memoizedProps&&a===e.memoizedState||(t.flags|=4),typeof S.getSnapshotBeforeUpdate!="function"||h===e.memoizedProps&&a===e.memoizedState||(t.flags|=1024),n=!1)}return Iu(e,t,r,n,m,p)}function Iu(e,t,r,n,p,m){dm(e,t);var S=(t.flags&128)!==0;if(!n&&!S)return p&&Bh(t,r,!1),yr(e,t,m);n=t.stateNode,J_.current=t;var h=S&&typeof r.getDerivedStateFromError!="function"?null:n.render();return t.flags|=1,e!==null&&S?(t.child=si(t,e.child,null,m),t.child=si(t,null,h,m)):ct(e,t,h,m),t.memoizedState=n.state,p&&Bh(t,r,!0),t.child}function pm(e){var t=e.stateNode;t.pendingContext?jh(e,t.pendingContext,t.pendingContext!==t.context):t.context&&jh(e,t.context,!1),Wc(e,t.containerInfo)}function ed(e,t,r,n,p){return oi(),Ic(p),t.flags|=256,ct(e,t,r,n),t.child}var ju={dehydrated:null,treeContext:null,retryLane:0};function Bu(e){return{baseLanes:e,cachePool:null,transitions:null}}function gm(e,t,r){var n=t.pendingProps,p=Re.current,m=!1,S=(t.flags&128)!==0,h;if((h=S)||(h=e!==null&&e.memoizedState===null?!1:(p&2)!==0),h?(m=!0,t.flags&=-129):(e===null||e.memoizedState!==null)&&(p|=1),Oe(Re,p&1),e===null)return Au(t),e=t.memoizedState,e!==null&&(e=e.dehydrated,e!==null)?(t.mode&1?e.data==="$!"?t.lanes=8:t.lanes=1073741824:t.lanes=1,null):(S=n.children,e=n.fallback,m?(n=t.mode,m=t.child,S={mode:"hidden",children:S},!(n&1)&&m!==null?(m.childLanes=0,m.pendingProps=S):m=xa(S,n,0,null),e=mn(e,n,r,null),m.return=t,e.return=t,m.sibling=e,t.child=m,t.child.memoizedState=Bu(r),t.memoizedState=ju,e):Kc(t,S));if(p=e.memoizedState,p!==null&&(h=p.dehydrated,h!==null))return Z_(e,t,S,n,h,p,r);if(m){m=n.fallback,S=t.mode,p=e.child,h=p.sibling;var i={mode:"hidden",children:n.children};return!(S&1)&&t.child!==p?(n=t.child,n.childLanes=0,n.pendingProps=i,t.deletions=null):(n=Vr(p,i),n.subtreeFlags=p.subtreeFlags&14680064),h!==null?m=Vr(h,m):(m=mn(m,S,r,null),m.flags|=2),m.return=t,n.return=t,n.sibling=m,t.child=n,n=m,m=t.child,S=e.child.memoizedState,S=S===null?Bu(r):{baseLanes:S.baseLanes|r,cachePool:null,transitions:S.transitions},m.memoizedState=S,m.childLanes=e.childLanes&~r,t.memoizedState=ju,n}return m=e.child,e=m.sibling,n=Vr(m,{mode:"visible",children:n.children}),!(t.mode&1)&&(n.lanes=r),n.return=t,n.sibling=null,e!==null&&(r=t.deletions,r===null?(t.deletions=[e],t.flags|=16):r.push(e)),t.child=n,t.memoizedState=null,n}function Kc(e,t){return t=xa({mode:"visible",children:t},e.mode,0,null),t.return=e,e.child=t}function ts(e,t,r,n){return n!==null&&Ic(n),si(t,e.child,null,r),e=Kc(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function Z_(e,t,r,n,p,m,S){if(r)return t.flags&256?(t.flags&=-257,n=kl(Error(te(422))),ts(e,t,S,n)):t.memoizedState!==null?(t.child=e.child,t.flags|=128,null):(m=n.fallback,p=t.mode,n=xa({mode:"visible",children:n.children},p,0,null),m=mn(m,p,S,null),m.flags|=2,n.return=t,m.return=t,n.sibling=m,t.child=n,t.mode&1&&si(t,e.child,null,S),t.child.memoizedState=Bu(S),t.memoizedState=ju,m);if(!(t.mode&1))return ts(e,t,S,null);if(p.data==="$!"){if(n=p.nextSibling&&p.nextSibling.dataset,n)var h=n.dgst;return n=h,m=Error(te(419)),n=kl(m,n,void 0),ts(e,t,S,n)}if(h=(S&e.childLanes)!==0,gt||h){if(n=Ke,n!==null){switch(S&-S){case 4:p=2;break;case 16:p=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:p=32;break;case 536870912:p=268435456;break;default:p=0}p=p&(n.suspendedLanes|S)?0:p,p!==0&&p!==m.retryLane&&(m.retryLane=p,vr(e,p),Yt(n,e,p,-1))}return rf(),n=kl(Error(te(421))),ts(e,t,S,n)}return p.data==="$?"?(t.flags|=128,t.child=e.child,t=hw.bind(null,e),p._reactRetry=t,null):(e=m.treeContext,Ct=zr(p.nextSibling),xt=t,De=!0,Ht=null,e!==null&&(Dt[Mt++]=fr,Dt[Mt++]=hr,Dt[Mt++]=_n,fr=e.id,hr=e.overflow,_n=t),t=Kc(t,n.children),t.flags|=4096,t)}function td(e,t,r){e.lanes|=t;var n=e.alternate;n!==null&&(n.lanes|=t),Du(e.return,t,r)}function Al(e,t,r,n,p){var m=e.memoizedState;m===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:n,tail:r,tailMode:p}:(m.isBackwards=t,m.rendering=null,m.renderingStartTime=0,m.last=n,m.tail=r,m.tailMode=p)}function mm(e,t,r){var n=t.pendingProps,p=n.revealOrder,m=n.tail;if(ct(e,t,n.children,r),n=Re.current,n&2)n=n&1|2,t.flags|=128;else{if(e!==null&&e.flags&128)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&td(e,r,t);else if(e.tag===19)td(e,r,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}n&=1}if(Oe(Re,n),!(t.mode&1))t.memoizedState=null;else switch(p){case"forwards":for(r=t.child,p=null;r!==null;)e=r.alternate,e!==null&&Hs(e)===null&&(p=r),r=r.sibling;r=p,r===null?(p=t.child,t.child=null):(p=r.sibling,r.sibling=null),Al(t,!1,p,r,m);break;case"backwards":for(r=null,p=t.child,t.child=null;p!==null;){if(e=p.alternate,e!==null&&Hs(e)===null){t.child=p;break}e=p.sibling,p.sibling=r,r=p,p=e}Al(t,!0,r,null,m);break;case"together":Al(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function _s(e,t){!(t.mode&1)&&e!==null&&(e.alternate=null,t.alternate=null,t.flags|=2)}function yr(e,t,r){if(e!==null&&(t.dependencies=e.dependencies),Cn|=t.lanes,!(r&t.childLanes))return null;if(e!==null&&t.child!==e.child)throw Error(te(153));if(t.child!==null){for(e=t.child,r=Vr(e,e.pendingProps),t.child=r,r.return=t;e.sibling!==null;)e=e.sibling,r=r.sibling=Vr(e,e.pendingProps),r.return=t;r.sibling=null}return t.child}function ew(e,t,r){switch(t.tag){case 3:pm(t),oi();break;case 5:Hg(t);break;case 1:vt(t.type)&&js(t);break;case 4:Wc(t,t.stateNode.containerInfo);break;case 10:var n=t.type._context,p=t.memoizedProps.value;Oe(zs,n._currentValue),n._currentValue=p;break;case 13:if(n=t.memoizedState,n!==null)return n.dehydrated!==null?(Oe(Re,Re.current&1),t.flags|=128,null):r&t.child.childLanes?gm(e,t,r):(Oe(Re,Re.current&1),e=yr(e,t,r),e!==null?e.sibling:null);Oe(Re,Re.current&1);break;case 19:if(n=(r&t.childLanes)!==0,e.flags&128){if(n)return mm(e,t,r);t.flags|=128}if(p=t.memoizedState,p!==null&&(p.rendering=null,p.tail=null,p.lastEffect=null),Oe(Re,Re.current),n)break;return null;case 22:case 23:return t.lanes=0,hm(e,t,r)}return yr(e,t,r)}var vm,Nu,ym,Sm;vm=function(e,t){for(var r=t.child;r!==null;){if(r.tag===5||r.tag===6)e.appendChild(r.stateNode);else if(r.tag!==4&&r.child!==null){r.child.return=r,r=r.child;continue}if(r===t)break;for(;r.sibling===null;){if(r.return===null||r.return===t)return;r=r.return}r.sibling.return=r.return,r=r.sibling}};Nu=function(){};ym=function(e,t,r,n){var p=e.memoizedProps;if(p!==n){e=t.stateNode,pn(rr.current);var m=null;switch(r){case"input":p=au(e,p),n=au(e,n),m=[];break;case"select":p=Ie({},p,{value:void 0}),n=Ie({},n,{value:void 0}),m=[];break;case"textarea":p=cu(e,p),n=cu(e,n),m=[];break;default:typeof p.onClick!="function"&&typeof n.onClick=="function"&&(e.onclick=Ls)}hu(r,n);var S;r=null;for(u in p)if(!n.hasOwnProperty(u)&&p.hasOwnProperty(u)&&p[u]!=null)if(u==="style"){var h=p[u];for(S in h)h.hasOwnProperty(S)&&(r||(r={}),r[S]="")}else u!=="dangerouslySetInnerHTML"&&u!=="children"&&u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&u!=="autoFocus"&&(oo.hasOwnProperty(u)?m||(m=[]):(m=m||[]).push(u,null));for(u in n){var i=n[u];if(h=p!=null?p[u]:void 0,n.hasOwnProperty(u)&&i!==h&&(i!=null||h!=null))if(u==="style")if(h){for(S in h)!h.hasOwnProperty(S)||i&&i.hasOwnProperty(S)||(r||(r={}),r[S]="");for(S in i)i.hasOwnProperty(S)&&h[S]!==i[S]&&(r||(r={}),r[S]=i[S])}else r||(m||(m=[]),m.push(u,r)),r=i;else u==="dangerouslySetInnerHTML"?(i=i?i.__html:void 0,h=h?h.__html:void 0,i!=null&&h!==i&&(m=m||[]).push(u,i)):u==="children"?typeof i!="string"&&typeof i!="number"||(m=m||[]).push(u,""+i):u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&(oo.hasOwnProperty(u)?(i!=null&&u==="onScroll"&&Pe("scroll",e),m||h===i||(m=[])):(m=m||[]).push(u,i))}r&&(m=m||[]).push("style",r);var u=m;(t.updateQueue=u)&&(t.flags|=4)}};Sm=function(e,t,r,n){r!==n&&(t.flags|=4)};function Ri(e,t){if(!De)switch(e.tailMode){case"hidden":t=e.tail;for(var r=null;t!==null;)t.alternate!==null&&(r=t),t=t.sibling;r===null?e.tail=null:r.sibling=null;break;case"collapsed":r=e.tail;for(var n=null;r!==null;)r.alternate!==null&&(n=r),r=r.sibling;n===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:n.sibling=null}}function ot(e){var t=e.alternate!==null&&e.alternate.child===e.child,r=0,n=0;if(t)for(var p=e.child;p!==null;)r|=p.lanes|p.childLanes,n|=p.subtreeFlags&14680064,n|=p.flags&14680064,p.return=e,p=p.sibling;else for(p=e.child;p!==null;)r|=p.lanes|p.childLanes,n|=p.subtreeFlags,n|=p.flags,p.return=e,p=p.sibling;return e.subtreeFlags|=n,e.childLanes=r,t}function tw(e,t,r){var n=t.pendingProps;switch(Lc(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return ot(t),null;case 1:return vt(t.type)&&Is(),ot(t),null;case 3:return n=t.stateNode,ai(),ke(mt),ke(lt),Vc(),n.pendingContext&&(n.context=n.pendingContext,n.pendingContext=null),(e===null||e.child===null)&&(Zo(t)?t.flags|=4:e===null||e.memoizedState.isDehydrated&&!(t.flags&256)||(t.flags|=1024,Ht!==null&&(Yu(Ht),Ht=null))),Nu(e,t),ot(t),null;case 5:Hc(t);var p=pn(yo.current);if(r=t.type,e!==null&&t.stateNode!=null)ym(e,t,r,n,p),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!n){if(t.stateNode===null)throw Error(te(166));return ot(t),null}if(e=pn(rr.current),Zo(t)){n=t.stateNode,r=t.type;var m=t.memoizedProps;switch(n[Zt]=t,n[mo]=m,e=(t.mode&1)!==0,r){case"dialog":Pe("cancel",n),Pe("close",n);break;case"iframe":case"object":case"embed":Pe("load",n);break;case"video":case"audio":for(p=0;p<Hi.length;p++)Pe(Hi[p],n);break;case"source":Pe("error",n);break;case"img":case"image":case"link":Pe("error",n),Pe("load",n);break;case"details":Pe("toggle",n);break;case"input":ch(n,m),Pe("invalid",n);break;case"select":n._wrapperState={wasMultiple:!!m.multiple},Pe("invalid",n);break;case"textarea":hh(n,m),Pe("invalid",n)}hu(r,m),p=null;for(var S in m)if(m.hasOwnProperty(S)){var h=m[S];S==="children"?typeof h=="string"?n.textContent!==h&&(m.suppressHydrationWarning!==!0&&Jo(n.textContent,h,e),p=["children",h]):typeof h=="number"&&n.textContent!==""+h&&(m.suppressHydrationWarning!==!0&&Jo(n.textContent,h,e),p=["children",""+h]):oo.hasOwnProperty(S)&&h!=null&&S==="onScroll"&&Pe("scroll",n)}switch(r){case"input":Vo(n),fh(n,m,!0);break;case"textarea":Vo(n),dh(n);break;case"select":case"option":break;default:typeof m.onClick=="function"&&(n.onclick=Ls)}n=p,t.updateQueue=n,n!==null&&(t.flags|=4)}else{S=p.nodeType===9?p:p.ownerDocument,e==="http://www.w3.org/1999/xhtml"&&(e=Xp(r)),e==="http://www.w3.org/1999/xhtml"?r==="script"?(e=S.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):typeof n.is=="string"?e=S.createElement(r,{is:n.is}):(e=S.createElement(r),r==="select"&&(S=e,n.multiple?S.multiple=!0:n.size&&(S.size=n.size))):e=S.createElementNS(e,r),e[Zt]=t,e[mo]=n,vm(e,t,!1,!1),t.stateNode=e;e:{switch(S=du(r,n),r){case"dialog":Pe("cancel",e),Pe("close",e),p=n;break;case"iframe":case"object":case"embed":Pe("load",e),p=n;break;case"video":case"audio":for(p=0;p<Hi.length;p++)Pe(Hi[p],e);p=n;break;case"source":Pe("error",e),p=n;break;case"img":case"image":case"link":Pe("error",e),Pe("load",e),p=n;break;case"details":Pe("toggle",e),p=n;break;case"input":ch(e,n),p=au(e,n),Pe("invalid",e);break;case"option":p=n;break;case"select":e._wrapperState={wasMultiple:!!n.multiple},p=Ie({},n,{value:void 0}),Pe("invalid",e);break;case"textarea":hh(e,n),p=cu(e,n),Pe("invalid",e);break;default:p=n}hu(r,p),h=p;for(m in h)if(h.hasOwnProperty(m)){var i=h[m];m==="style"?qp(e,i):m==="dangerouslySetInnerHTML"?(i=i?i.__html:void 0,i!=null&&Yp(e,i)):m==="children"?typeof i=="string"?(r!=="textarea"||i!=="")&&so(e,i):typeof i=="number"&&so(e,""+i):m!=="suppressContentEditableWarning"&&m!=="suppressHydrationWarning"&&m!=="autoFocus"&&(oo.hasOwnProperty(m)?i!=null&&m==="onScroll"&&Pe("scroll",e):i!=null&&_c(e,m,i,S))}switch(r){case"input":Vo(e),fh(e,n,!1);break;case"textarea":Vo(e),dh(e);break;case"option":n.value!=null&&e.setAttribute("value",""+Yr(n.value));break;case"select":e.multiple=!!n.multiple,m=n.value,m!=null?Yn(e,!!n.multiple,m,!1):n.defaultValue!=null&&Yn(e,!!n.multiple,n.defaultValue,!0);break;default:typeof p.onClick=="function"&&(e.onclick=Ls)}switch(r){case"button":case"input":case"select":case"textarea":n=!!n.autoFocus;break e;case"img":n=!0;break e;default:n=!1}}n&&(t.flags|=4)}t.ref!==null&&(t.flags|=512,t.flags|=2097152)}return ot(t),null;case 6:if(e&&t.stateNode!=null)Sm(e,t,e.memoizedProps,n);else{if(typeof n!="string"&&t.stateNode===null)throw Error(te(166));if(r=pn(yo.current),pn(rr.current),Zo(t)){if(n=t.stateNode,r=t.memoizedProps,n[Zt]=t,(m=n.nodeValue!==r)&&(e=xt,e!==null))switch(e.tag){case 3:Jo(n.nodeValue,r,(e.mode&1)!==0);break;case 5:e.memoizedProps.suppressHydrationWarning!==!0&&Jo(n.nodeValue,r,(e.mode&1)!==0)}m&&(t.flags|=4)}else n=(r.nodeType===9?r:r.ownerDocument).createTextNode(n),n[Zt]=t,t.stateNode=n}return ot(t),null;case 13:if(ke(Re),n=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(De&&Ct!==null&&t.mode&1&&!(t.flags&128))Ig(),oi(),t.flags|=98560,m=!1;else if(m=Zo(t),n!==null&&n.dehydrated!==null){if(e===null){if(!m)throw Error(te(318));if(m=t.memoizedState,m=m!==null?m.dehydrated:null,!m)throw Error(te(317));m[Zt]=t}else oi(),!(t.flags&128)&&(t.memoizedState=null),t.flags|=4;ot(t),m=!1}else Ht!==null&&(Yu(Ht),Ht=null),m=!0;if(!m)return t.flags&65536?t:null}return t.flags&128?(t.lanes=r,t):(n=n!==null,n!==(e!==null&&e.memoizedState!==null)&&n&&(t.child.flags|=8192,t.mode&1&&(e===null||Re.current&1?Ve===0&&(Ve=3):rf())),t.updateQueue!==null&&(t.flags|=4),ot(t),null);case 4:return ai(),Nu(e,t),e===null&&po(t.stateNode.containerInfo),ot(t),null;case 10:return Nc(t.type._context),ot(t),null;case 17:return vt(t.type)&&Is(),ot(t),null;case 19:if(ke(Re),m=t.memoizedState,m===null)return ot(t),null;if(n=(t.flags&128)!==0,S=m.rendering,S===null)if(n)Ri(m,!1);else{if(Ve!==0||e!==null&&e.flags&128)for(e=t.child;e!==null;){if(S=Hs(e),S!==null){for(t.flags|=128,Ri(m,!1),n=S.updateQueue,n!==null&&(t.updateQueue=n,t.flags|=4),t.subtreeFlags=0,n=r,r=t.child;r!==null;)m=r,e=n,m.flags&=14680066,S=m.alternate,S===null?(m.childLanes=0,m.lanes=e,m.child=null,m.subtreeFlags=0,m.memoizedProps=null,m.memoizedState=null,m.updateQueue=null,m.dependencies=null,m.stateNode=null):(m.childLanes=S.childLanes,m.lanes=S.lanes,m.child=S.child,m.subtreeFlags=0,m.deletions=null,m.memoizedProps=S.memoizedProps,m.memoizedState=S.memoizedState,m.updateQueue=S.updateQueue,m.type=S.type,e=S.dependencies,m.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),r=r.sibling;return Oe(Re,Re.current&1|2),t.child}e=e.sibling}m.tail!==null&&Ne()>ui&&(t.flags|=128,n=!0,Ri(m,!1),t.lanes=4194304)}else{if(!n)if(e=Hs(S),e!==null){if(t.flags|=128,n=!0,r=e.updateQueue,r!==null&&(t.updateQueue=r,t.flags|=4),Ri(m,!0),m.tail===null&&m.tailMode==="hidden"&&!S.alternate&&!De)return ot(t),null}else 2*Ne()-m.renderingStartTime>ui&&r!==1073741824&&(t.flags|=128,n=!0,Ri(m,!1),t.lanes=4194304);m.isBackwards?(S.sibling=t.child,t.child=S):(r=m.last,r!==null?r.sibling=S:t.child=S,m.last=S)}return m.tail!==null?(t=m.tail,m.rendering=t,m.tail=t.sibling,m.renderingStartTime=Ne(),t.sibling=null,r=Re.current,Oe(Re,n?r&1|2:r&1),t):(ot(t),null);case 22:case 23:return tf(),n=t.memoizedState!==null,e!==null&&e.memoizedState!==null!==n&&(t.flags|=8192),n&&t.mode&1?wt&1073741824&&(ot(t),t.subtreeFlags&6&&(t.flags|=8192)):ot(t),null;case 24:return null;case 25:return null}throw Error(te(156,t.tag))}function rw(e,t){switch(Lc(t),t.tag){case 1:return vt(t.type)&&Is(),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return ai(),ke(mt),ke(lt),Vc(),e=t.flags,e&65536&&!(e&128)?(t.flags=e&-65537|128,t):null;case 5:return Hc(t),null;case 13:if(ke(Re),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(te(340));oi()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return ke(Re),null;case 4:return ai(),null;case 10:return Nc(t.type._context),null;case 22:case 23:return tf(),null;case 24:return null;default:return null}}var rs=!1,at=!1,nw=typeof WeakSet=="function"?WeakSet:Set,le=null;function $n(e,t){var r=e.ref;if(r!==null)if(typeof r=="function")try{r(null)}catch(n){Be(e,t,n)}else r.current=null}function zu(e,t,r){try{r()}catch(n){Be(e,t,n)}}var rd=!1;function iw(e,t){if(xu=Ms,e=xg(),Fc(e)){if("selectionStart"in e)var r={start:e.selectionStart,end:e.selectionEnd};else e:{r=(r=e.ownerDocument)&&r.defaultView||window;var n=r.getSelection&&r.getSelection();if(n&&n.rangeCount!==0){r=n.anchorNode;var p=n.anchorOffset,m=n.focusNode;n=n.focusOffset;try{r.nodeType,m.nodeType}catch{r=null;break e}var S=0,h=-1,i=-1,u=0,f=0,o=e,a=null;t:for(;;){for(var s;o!==r||p!==0&&o.nodeType!==3||(h=S+p),o!==m||n!==0&&o.nodeType!==3||(i=S+n),o.nodeType===3&&(S+=o.nodeValue.length),(s=o.firstChild)!==null;)a=o,o=s;for(;;){if(o===e)break t;if(a===r&&++u===p&&(h=S),a===m&&++f===n&&(i=S),(s=o.nextSibling)!==null)break;o=a,a=o.parentNode}o=s}r=h===-1||i===-1?null:{start:h,end:i}}else r=null}r=r||{start:0,end:0}}else r=null;for(Tu={focusedElem:e,selectionRange:r},Ms=!1,le=t;le!==null;)if(t=le,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,le=e;else for(;le!==null;){t=le;try{var l=t.alternate;if(t.flags&1024)switch(t.tag){case 0:case 11:case 15:break;case 1:if(l!==null){var d=l.memoizedProps,c=l.memoizedState,g=t.stateNode,v=g.getSnapshotBeforeUpdate(t.elementType===t.type?d:Ut(t.type,d),c);g.__reactInternalSnapshotBeforeUpdate=v}break;case 3:var y=t.stateNode.containerInfo;y.nodeType===1?y.textContent="":y.nodeType===9&&y.documentElement&&y.removeChild(y.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(te(163))}}catch(_){Be(t,t.return,_)}if(e=t.sibling,e!==null){e.return=t.return,le=e;break}le=t.return}return l=rd,rd=!1,l}function Ji(e,t,r){var n=t.updateQueue;if(n=n!==null?n.lastEffect:null,n!==null){var p=n=n.next;do{if((p.tag&e)===e){var m=p.destroy;p.destroy=void 0,m!==void 0&&zu(t,r,m)}p=p.next}while(p!==n)}}function wa(e,t){if(t=t.updateQueue,t=t!==null?t.lastEffect:null,t!==null){var r=t=t.next;do{if((r.tag&e)===e){var n=r.create;r.destroy=n()}r=r.next}while(r!==t)}}function Uu(e){var t=e.ref;if(t!==null){var r=e.stateNode;switch(e.tag){case 5:e=r;break;default:e=r}typeof t=="function"?t(e):t.current=e}}function _m(e){var t=e.alternate;t!==null&&(e.alternate=null,_m(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&(delete t[Zt],delete t[mo],delete t[Eu],delete t[z_],delete t[U_])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function wm(e){return e.tag===5||e.tag===3||e.tag===4}function nd(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||wm(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function Wu(e,t,r){var n=e.tag;if(n===5||n===6)e=e.stateNode,t?r.nodeType===8?r.parentNode.insertBefore(e,t):r.insertBefore(e,t):(r.nodeType===8?(t=r.parentNode,t.insertBefore(e,r)):(t=r,t.appendChild(e)),r=r._reactRootContainer,r!=null||t.onclick!==null||(t.onclick=Ls));else if(n!==4&&(e=e.child,e!==null))for(Wu(e,t,r),e=e.sibling;e!==null;)Wu(e,t,r),e=e.sibling}function Hu(e,t,r){var n=e.tag;if(n===5||n===6)e=e.stateNode,t?r.insertBefore(e,t):r.appendChild(e);else if(n!==4&&(e=e.child,e!==null))for(Hu(e,t,r),e=e.sibling;e!==null;)Hu(e,t,r),e=e.sibling}var Ze=null,Wt=!1;function Er(e,t,r){for(r=r.child;r!==null;)Cm(e,t,r),r=r.sibling}function Cm(e,t,r){if(tr&&typeof tr.onCommitFiberUnmount=="function")try{tr.onCommitFiberUnmount(da,r)}catch{}switch(r.tag){case 5:at||$n(r,t);case 6:var n=Ze,p=Wt;Ze=null,Er(e,t,r),Ze=n,Wt=p,Ze!==null&&(Wt?(e=Ze,r=r.stateNode,e.nodeType===8?e.parentNode.removeChild(r):e.removeChild(r)):Ze.removeChild(r.stateNode));break;case 18:Ze!==null&&(Wt?(e=Ze,r=r.stateNode,e.nodeType===8?xl(e.parentNode,r):e.nodeType===1&&xl(e,r),co(e)):xl(Ze,r.stateNode));break;case 4:n=Ze,p=Wt,Ze=r.stateNode.containerInfo,Wt=!0,Er(e,t,r),Ze=n,Wt=p;break;case 0:case 11:case 14:case 15:if(!at&&(n=r.updateQueue,n!==null&&(n=n.lastEffect,n!==null))){p=n=n.next;do{var m=p,S=m.destroy;m=m.tag,S!==void 0&&(m&2||m&4)&&zu(r,t,S),p=p.next}while(p!==n)}Er(e,t,r);break;case 1:if(!at&&($n(r,t),n=r.stateNode,typeof n.componentWillUnmount=="function"))try{n.props=r.memoizedProps,n.state=r.memoizedState,n.componentWillUnmount()}catch(h){Be(r,t,h)}Er(e,t,r);break;case 21:Er(e,t,r);break;case 22:r.mode&1?(at=(n=at)||r.memoizedState!==null,Er(e,t,r),at=n):Er(e,t,r);break;default:Er(e,t,r)}}function id(e){var t=e.updateQueue;if(t!==null){e.updateQueue=null;var r=e.stateNode;r===null&&(r=e.stateNode=new nw),t.forEach(function(n){var p=dw.bind(null,e,n);r.has(n)||(r.add(n),n.then(p,p))})}}function zt(e,t){var r=t.deletions;if(r!==null)for(var n=0;n<r.length;n++){var p=r[n];try{var m=e,S=t,h=S;e:for(;h!==null;){switch(h.tag){case 5:Ze=h.stateNode,Wt=!1;break e;case 3:Ze=h.stateNode.containerInfo,Wt=!0;break e;case 4:Ze=h.stateNode.containerInfo,Wt=!0;break e}h=h.return}if(Ze===null)throw Error(te(160));Cm(m,S,p),Ze=null,Wt=!1;var i=p.alternate;i!==null&&(i.return=null),p.return=null}catch(u){Be(p,t,u)}}if(t.subtreeFlags&12854)for(t=t.child;t!==null;)xm(t,e),t=t.sibling}function xm(e,t){var r=e.alternate,n=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(zt(t,e),qt(e),n&4){try{Ji(3,e,e.return),wa(3,e)}catch(d){Be(e,e.return,d)}try{Ji(5,e,e.return)}catch(d){Be(e,e.return,d)}}break;case 1:zt(t,e),qt(e),n&512&&r!==null&&$n(r,r.return);break;case 5:if(zt(t,e),qt(e),n&512&&r!==null&&$n(r,r.return),e.flags&32){var p=e.stateNode;try{so(p,"")}catch(d){Be(e,e.return,d)}}if(n&4&&(p=e.stateNode,p!=null)){var m=e.memoizedProps,S=r!==null?r.memoizedProps:m,h=e.type,i=e.updateQueue;if(e.updateQueue=null,i!==null)try{h==="input"&&m.type==="radio"&&m.name!=null&&Vp(p,m),du(h,S);var u=du(h,m);for(S=0;S<i.length;S+=2){var f=i[S],o=i[S+1];f==="style"?qp(p,o):f==="dangerouslySetInnerHTML"?Yp(p,o):f==="children"?so(p,o):_c(p,f,o,u)}switch(h){case"input":lu(p,m);break;case"textarea":$p(p,m);break;case"select":var a=p._wrapperState.wasMultiple;p._wrapperState.wasMultiple=!!m.multiple;var s=m.value;s!=null?Yn(p,!!m.multiple,s,!1):a!==!!m.multiple&&(m.defaultValue!=null?Yn(p,!!m.multiple,m.defaultValue,!0):Yn(p,!!m.multiple,m.multiple?[]:"",!1))}p[mo]=m}catch(d){Be(e,e.return,d)}}break;case 6:if(zt(t,e),qt(e),n&4){if(e.stateNode===null)throw Error(te(162));p=e.stateNode,m=e.memoizedProps;try{p.nodeValue=m}catch(d){Be(e,e.return,d)}}break;case 3:if(zt(t,e),qt(e),n&4&&r!==null&&r.memoizedState.isDehydrated)try{co(t.containerInfo)}catch(d){Be(e,e.return,d)}break;case 4:zt(t,e),qt(e);break;case 13:zt(t,e),qt(e),p=e.child,p.flags&8192&&(m=p.memoizedState!==null,p.stateNode.isHidden=m,!m||p.alternate!==null&&p.alternate.memoizedState!==null||(Zc=Ne())),n&4&&id(e);break;case 22:if(f=r!==null&&r.memoizedState!==null,e.mode&1?(at=(u=at)||f,zt(t,e),at=u):zt(t,e),qt(e),n&8192){if(u=e.memoizedState!==null,(e.stateNode.isHidden=u)&&!f&&e.mode&1)for(le=e,f=e.child;f!==null;){for(o=le=f;le!==null;){switch(a=le,s=a.child,a.tag){case 0:case 11:case 14:case 15:Ji(4,a,a.return);break;case 1:$n(a,a.return);var l=a.stateNode;if(typeof l.componentWillUnmount=="function"){n=a,r=a.return;try{t=n,l.props=t.memoizedProps,l.state=t.memoizedState,l.componentWillUnmount()}catch(d){Be(n,r,d)}}break;case 5:$n(a,a.return);break;case 22:if(a.memoizedState!==null){sd(o);continue}}s!==null?(s.return=a,le=s):sd(o)}f=f.sibling}e:for(f=null,o=e;;){if(o.tag===5){if(f===null){f=o;try{p=o.stateNode,u?(m=p.style,typeof m.setProperty=="function"?m.setProperty("display","none","important"):m.display="none"):(h=o.stateNode,i=o.memoizedProps.style,S=i!=null&&i.hasOwnProperty("display")?i.display:null,h.style.display=Gp("display",S))}catch(d){Be(e,e.return,d)}}}else if(o.tag===6){if(f===null)try{o.stateNode.nodeValue=u?"":o.memoizedProps}catch(d){Be(e,e.return,d)}}else if((o.tag!==22&&o.tag!==23||o.memoizedState===null||o===e)&&o.child!==null){o.child.return=o,o=o.child;continue}if(o===e)break e;for(;o.sibling===null;){if(o.return===null||o.return===e)break e;f===o&&(f=null),o=o.return}f===o&&(f=null),o.sibling.return=o.return,o=o.sibling}}break;case 19:zt(t,e),qt(e),n&4&&id(e);break;case 21:break;default:zt(t,e),qt(e)}}function qt(e){var t=e.flags;if(t&2){try{e:{for(var r=e.return;r!==null;){if(wm(r)){var n=r;break e}r=r.return}throw Error(te(160))}switch(n.tag){case 5:var p=n.stateNode;n.flags&32&&(so(p,""),n.flags&=-33);var m=nd(e);Hu(e,m,p);break;case 3:case 4:var S=n.stateNode.containerInfo,h=nd(e);Wu(e,h,S);break;default:throw Error(te(161))}}catch(i){Be(e,e.return,i)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function ow(e,t,r){le=e,Tm(e)}function Tm(e,t,r){for(var n=(e.mode&1)!==0;le!==null;){var p=le,m=p.child;if(p.tag===22&&n){var S=p.memoizedState!==null||rs;if(!S){var h=p.alternate,i=h!==null&&h.memoizedState!==null||at;h=rs;var u=at;if(rs=S,(at=i)&&!u)for(le=p;le!==null;)S=le,i=S.child,S.tag===22&&S.memoizedState!==null?ad(p):i!==null?(i.return=S,le=i):ad(p);for(;m!==null;)le=m,Tm(m),m=m.sibling;le=p,rs=h,at=u}od(e)}else p.subtreeFlags&8772&&m!==null?(m.return=p,le=m):od(e)}}function od(e){for(;le!==null;){var t=le;if(t.flags&8772){var r=t.alternate;try{if(t.flags&8772)switch(t.tag){case 0:case 11:case 15:at||wa(5,t);break;case 1:var n=t.stateNode;if(t.flags&4&&!at)if(r===null)n.componentDidMount();else{var p=t.elementType===t.type?r.memoizedProps:Ut(t.type,r.memoizedProps);n.componentDidUpdate(p,r.memoizedState,n.__reactInternalSnapshotBeforeUpdate)}var m=t.updateQueue;m!==null&&Wh(t,m,n);break;case 3:var S=t.updateQueue;if(S!==null){if(r=null,t.child!==null)switch(t.child.tag){case 5:r=t.child.stateNode;break;case 1:r=t.child.stateNode}Wh(t,S,r)}break;case 5:var h=t.stateNode;if(r===null&&t.flags&4){r=h;var i=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":i.autoFocus&&r.focus();break;case"img":i.src&&(r.src=i.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(t.memoizedState===null){var u=t.alternate;if(u!==null){var f=u.memoizedState;if(f!==null){var o=f.dehydrated;o!==null&&co(o)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(te(163))}at||t.flags&512&&Uu(t)}catch(a){Be(t,t.return,a)}}if(t===e){le=null;break}if(r=t.sibling,r!==null){r.return=t.return,le=r;break}le=t.return}}function sd(e){for(;le!==null;){var t=le;if(t===e){le=null;break}var r=t.sibling;if(r!==null){r.return=t.return,le=r;break}le=t.return}}function ad(e){for(;le!==null;){var t=le;try{switch(t.tag){case 0:case 11:case 15:var r=t.return;try{wa(4,t)}catch(i){Be(t,r,i)}break;case 1:var n=t.stateNode;if(typeof n.componentDidMount=="function"){var p=t.return;try{n.componentDidMount()}catch(i){Be(t,p,i)}}var m=t.return;try{Uu(t)}catch(i){Be(t,m,i)}break;case 5:var S=t.return;try{Uu(t)}catch(i){Be(t,S,i)}}}catch(i){Be(t,t.return,i)}if(t===e){le=null;break}var h=t.sibling;if(h!==null){h.return=t.return,le=h;break}le=t.return}}var sw=Math.ceil,Xs=_r.ReactCurrentDispatcher,Qc=_r.ReactCurrentOwner,Lt=_r.ReactCurrentBatchConfig,we=0,Ke=null,ze=null,tt=0,wt=0,Xn=Zr(0),Ve=0,Co=null,Cn=0,Ca=0,Jc=0,Zi=null,pt=null,Zc=0,ui=1/0,lr=null,Ys=!1,Vu=null,Wr=null,ns=!1,Lr=null,Gs=0,eo=0,$u=null,ws=-1,Cs=0;function ft(){return we&6?Ne():ws!==-1?ws:ws=Ne()}function Hr(e){return e.mode&1?we&2&&tt!==0?tt&-tt:H_.transition!==null?(Cs===0&&(Cs=ag()),Cs):(e=Ce,e!==0||(e=window.event,e=e===void 0?16:pg(e.type)),e):1}function Yt(e,t,r,n){if(50<eo)throw eo=0,$u=null,Error(te(185));Ao(e,r,n),(!(we&2)||e!==Ke)&&(e===Ke&&(!(we&2)&&(Ca|=r),Ve===4&&Mr(e,tt)),yt(e,n),r===1&&we===0&&!(t.mode&1)&&(ui=Ne()+500,ya&&en()))}function yt(e,t){var r=e.callbackNode;HS(e,t);var n=Ds(e,e===Ke?tt:0);if(n===0)r!==null&&mh(r),e.callbackNode=null,e.callbackPriority=0;else if(t=n&-n,e.callbackPriority!==t){if(r!=null&&mh(r),t===1)e.tag===0?W_(ld.bind(null,e)):Fg(ld.bind(null,e)),B_(function(){!(we&6)&&en()}),r=null;else{switch(lg(n)){case 1:r=bc;break;case 4:r=og;break;case 16:r=As;break;case 536870912:r=sg;break;default:r=As}r=Mm(r,bm.bind(null,e))}e.callbackPriority=t,e.callbackNode=r}}function bm(e,t){if(ws=-1,Cs=0,we&6)throw Error(te(327));var r=e.callbackNode;if(Jn()&&e.callbackNode!==r)return null;var n=Ds(e,e===Ke?tt:0);if(n===0)return null;if(n&30||n&e.expiredLanes||t)t=qs(e,n);else{t=n;var p=we;we|=2;var m=Em();(Ke!==e||tt!==t)&&(lr=null,ui=Ne()+500,gn(e,t));do try{uw();break}catch(h){Om(e,h)}while(1);Bc(),Xs.current=m,we=p,ze!==null?t=0:(Ke=null,tt=0,t=Ve)}if(t!==0){if(t===2&&(p=yu(e),p!==0&&(n=p,t=Xu(e,p))),t===1)throw r=Co,gn(e,0),Mr(e,n),yt(e,Ne()),r;if(t===6)Mr(e,n);else{if(p=e.current.alternate,!(n&30)&&!aw(p)&&(t=qs(e,n),t===2&&(m=yu(e),m!==0&&(n=m,t=Xu(e,m))),t===1))throw r=Co,gn(e,0),Mr(e,n),yt(e,Ne()),r;switch(e.finishedWork=p,e.finishedLanes=n,t){case 0:case 1:throw Error(te(345));case 2:un(e,pt,lr);break;case 3:if(Mr(e,n),(n&130023424)===n&&(t=Zc+500-Ne(),10<t)){if(Ds(e,0)!==0)break;if(p=e.suspendedLanes,(p&n)!==n){ft(),e.pingedLanes|=e.suspendedLanes&p;break}e.timeoutHandle=Ou(un.bind(null,e,pt,lr),t);break}un(e,pt,lr);break;case 4:if(Mr(e,n),(n&4194240)===n)break;for(t=e.eventTimes,p=-1;0<n;){var S=31-Xt(n);m=1<<S,S=t[S],S>p&&(p=S),n&=~m}if(n=p,n=Ne()-n,n=(120>n?120:480>n?480:1080>n?1080:1920>n?1920:3e3>n?3e3:4320>n?4320:1960*sw(n/1960))-n,10<n){e.timeoutHandle=Ou(un.bind(null,e,pt,lr),n);break}un(e,pt,lr);break;case 5:un(e,pt,lr);break;default:throw Error(te(329))}}}return yt(e,Ne()),e.callbackNode===r?bm.bind(null,e):null}function Xu(e,t){var r=Zi;return e.current.memoizedState.isDehydrated&&(gn(e,t).flags|=256),e=qs(e,t),e!==2&&(t=pt,pt=r,t!==null&&Yu(t)),e}function Yu(e){pt===null?pt=e:pt.push.apply(pt,e)}function aw(e){for(var t=e;;){if(t.flags&16384){var r=t.updateQueue;if(r!==null&&(r=r.stores,r!==null))for(var n=0;n<r.length;n++){var p=r[n],m=p.getSnapshot;p=p.value;try{if(!Gt(m(),p))return!1}catch{return!1}}}if(r=t.child,t.subtreeFlags&16384&&r!==null)r.return=t,t=r;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function Mr(e,t){for(t&=~Jc,t&=~Ca,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var r=31-Xt(t),n=1<<r;e[r]=-1,t&=~n}}function ld(e){if(we&6)throw Error(te(327));Jn();var t=Ds(e,0);if(!(t&1))return yt(e,Ne()),null;var r=qs(e,t);if(e.tag!==0&&r===2){var n=yu(e);n!==0&&(t=n,r=Xu(e,n))}if(r===1)throw r=Co,gn(e,0),Mr(e,t),yt(e,Ne()),r;if(r===6)throw Error(te(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,un(e,pt,lr),yt(e,Ne()),null}function ef(e,t){var r=we;we|=1;try{return e(t)}finally{we=r,we===0&&(ui=Ne()+500,ya&&en())}}function xn(e){Lr!==null&&Lr.tag===0&&!(we&6)&&Jn();var t=we;we|=1;var r=Lt.transition,n=Ce;try{if(Lt.transition=null,Ce=1,e)return e()}finally{Ce=n,Lt.transition=r,we=t,!(we&6)&&en()}}function tf(){wt=Xn.current,ke(Xn)}function gn(e,t){e.finishedWork=null,e.finishedLanes=0;var r=e.timeoutHandle;if(r!==-1&&(e.timeoutHandle=-1,j_(r)),ze!==null)for(r=ze.return;r!==null;){var n=r;switch(Lc(n),n.tag){case 1:n=n.type.childContextTypes,n!=null&&Is();break;case 3:ai(),ke(mt),ke(lt),Vc();break;case 5:Hc(n);break;case 4:ai();break;case 13:ke(Re);break;case 19:ke(Re);break;case 10:Nc(n.type._context);break;case 22:case 23:tf()}r=r.return}if(Ke=e,ze=e=Vr(e.current,null),tt=wt=t,Ve=0,Co=null,Jc=Ca=Cn=0,pt=Zi=null,dn!==null){for(t=0;t<dn.length;t++)if(r=dn[t],n=r.interleaved,n!==null){r.interleaved=null;var p=n.next,m=r.pending;if(m!==null){var S=m.next;m.next=p,n.next=S}r.pending=n}dn=null}return e}function Om(e,t){do{var r=ze;try{if(Bc(),ys.current=$s,Vs){for(var n=Le.memoizedState;n!==null;){var p=n.queue;p!==null&&(p.pending=null),n=n.next}Vs=!1}if(wn=0,qe=He=Le=null,Qi=!1,So=0,Qc.current=null,r===null||r.return===null){Ve=1,Co=t,ze=null;break}e:{var m=e,S=r.return,h=r,i=t;if(t=tt,h.flags|=32768,i!==null&&typeof i=="object"&&typeof i.then=="function"){var u=i,f=h,o=f.tag;if(!(f.mode&1)&&(o===0||o===11||o===15)){var a=f.alternate;a?(f.updateQueue=a.updateQueue,f.memoizedState=a.memoizedState,f.lanes=a.lanes):(f.updateQueue=null,f.memoizedState=null)}var s=qh(S);if(s!==null){s.flags&=-257,Kh(s,S,h,m,t),s.mode&1&&Gh(m,u,t),t=s,i=u;var l=t.updateQueue;if(l===null){var d=new Set;d.add(i),t.updateQueue=d}else l.add(i);break e}else{if(!(t&1)){Gh(m,u,t),rf();break e}i=Error(te(426))}}else if(De&&h.mode&1){var c=qh(S);if(c!==null){!(c.flags&65536)&&(c.flags|=256),Kh(c,S,h,m,t),Ic(li(i,h));break e}}m=i=li(i,h),Ve!==4&&(Ve=2),Zi===null?Zi=[m]:Zi.push(m),m=S;do{switch(m.tag){case 3:m.flags|=65536,t&=-t,m.lanes|=t;var g=um(m,i,t);Uh(m,g);break e;case 1:h=i;var v=m.type,y=m.stateNode;if(!(m.flags&128)&&(typeof v.getDerivedStateFromError=="function"||y!==null&&typeof y.componentDidCatch=="function"&&(Wr===null||!Wr.has(y)))){m.flags|=65536,t&=-t,m.lanes|=t;var _=cm(m,h,t);Uh(m,_);break e}}m=m.return}while(m!==null)}km(r)}catch(w){t=w,ze===r&&r!==null&&(ze=r=r.return);continue}break}while(1)}function Em(){var e=Xs.current;return Xs.current=$s,e===null?$s:e}function rf(){(Ve===0||Ve===3||Ve===2)&&(Ve=4),Ke===null||!(Cn&268435455)&&!(Ca&268435455)||Mr(Ke,tt)}function qs(e,t){var r=we;we|=2;var n=Em();(Ke!==e||tt!==t)&&(lr=null,gn(e,t));do try{lw();break}catch(p){Om(e,p)}while(1);if(Bc(),we=r,Xs.current=n,ze!==null)throw Error(te(261));return Ke=null,tt=0,Ve}function lw(){for(;ze!==null;)Pm(ze)}function uw(){for(;ze!==null&&!RS();)Pm(ze)}function Pm(e){var t=Dm(e.alternate,e,wt);e.memoizedProps=e.pendingProps,t===null?km(e):ze=t,Qc.current=null}function km(e){var t=e;do{var r=t.alternate;if(e=t.return,t.flags&32768){if(r=rw(r,t),r!==null){r.flags&=32767,ze=r;return}if(e!==null)e.flags|=32768,e.subtreeFlags=0,e.deletions=null;else{Ve=6,ze=null;return}}else if(r=tw(r,t,wt),r!==null){ze=r;return}if(t=t.sibling,t!==null){ze=t;return}ze=t=e}while(t!==null);Ve===0&&(Ve=5)}function un(e,t,r){var n=Ce,p=Lt.transition;try{Lt.transition=null,Ce=1,cw(e,t,r,n)}finally{Lt.transition=p,Ce=n}return null}function cw(e,t,r,n){do Jn();while(Lr!==null);if(we&6)throw Error(te(327));r=e.finishedWork;var p=e.finishedLanes;if(r===null)return null;if(e.finishedWork=null,e.finishedLanes=0,r===e.current)throw Error(te(177));e.callbackNode=null,e.callbackPriority=0;var m=r.lanes|r.childLanes;if(VS(e,m),e===Ke&&(ze=Ke=null,tt=0),!(r.subtreeFlags&2064)&&!(r.flags&2064)||ns||(ns=!0,Mm(As,function(){return Jn(),null})),m=(r.flags&15990)!==0,r.subtreeFlags&15990||m){m=Lt.transition,Lt.transition=null;var S=Ce;Ce=1;var h=we;we|=4,Qc.current=null,iw(e,r),xm(r,e),A_(Tu),Ms=!!xu,Tu=xu=null,e.current=r,ow(r),LS(),we=h,Ce=S,Lt.transition=m}else e.current=r;if(ns&&(ns=!1,Lr=e,Gs=p),m=e.pendingLanes,m===0&&(Wr=null),BS(r.stateNode),yt(e,Ne()),t!==null)for(n=e.onRecoverableError,r=0;r<t.length;r++)p=t[r],n(p.value,{componentStack:p.stack,digest:p.digest});if(Ys)throw Ys=!1,e=Vu,Vu=null,e;return Gs&1&&e.tag!==0&&Jn(),m=e.pendingLanes,m&1?e===$u?eo++:(eo=0,$u=e):eo=0,en(),null}function Jn(){if(Lr!==null){var e=lg(Gs),t=Lt.transition,r=Ce;try{if(Lt.transition=null,Ce=16>e?16:e,Lr===null)var n=!1;else{if(e=Lr,Lr=null,Gs=0,we&6)throw Error(te(331));var p=we;for(we|=4,le=e.current;le!==null;){var m=le,S=m.child;if(le.flags&16){var h=m.deletions;if(h!==null){for(var i=0;i<h.length;i++){var u=h[i];for(le=u;le!==null;){var f=le;switch(f.tag){case 0:case 11:case 15:Ji(8,f,m)}var o=f.child;if(o!==null)o.return=f,le=o;else for(;le!==null;){f=le;var a=f.sibling,s=f.return;if(_m(f),f===u){le=null;break}if(a!==null){a.return=s,le=a;break}le=s}}}var l=m.alternate;if(l!==null){var d=l.child;if(d!==null){l.child=null;do{var c=d.sibling;d.sibling=null,d=c}while(d!==null)}}le=m}}if(m.subtreeFlags&2064&&S!==null)S.return=m,le=S;else e:for(;le!==null;){if(m=le,m.flags&2048)switch(m.tag){case 0:case 11:case 15:Ji(9,m,m.return)}var g=m.sibling;if(g!==null){g.return=m.return,le=g;break e}le=m.return}}var v=e.current;for(le=v;le!==null;){S=le;var y=S.child;if(S.subtreeFlags&2064&&y!==null)y.return=S,le=y;else e:for(S=v;le!==null;){if(h=le,h.flags&2048)try{switch(h.tag){case 0:case 11:case 15:wa(9,h)}}catch(w){Be(h,h.return,w)}if(h===S){le=null;break e}var _=h.sibling;if(_!==null){_.return=h.return,le=_;break e}le=h.return}}if(we=p,en(),tr&&typeof tr.onPostCommitFiberRoot=="function")try{tr.onPostCommitFiberRoot(da,e)}catch{}n=!0}return n}finally{Ce=r,Lt.transition=t}}return!1}function ud(e,t,r){t=li(r,t),t=um(e,t,1),e=Ur(e,t,1),t=ft(),e!==null&&(Ao(e,1,t),yt(e,t))}function Be(e,t,r){if(e.tag===3)ud(e,e,r);else for(;t!==null;){if(t.tag===3){ud(t,e,r);break}else if(t.tag===1){var n=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof n.componentDidCatch=="function"&&(Wr===null||!Wr.has(n))){e=li(r,e),e=cm(t,e,1),t=Ur(t,e,1),e=ft(),t!==null&&(Ao(t,1,e),yt(t,e));break}}t=t.return}}function fw(e,t,r){var n=e.pingCache;n!==null&&n.delete(t),t=ft(),e.pingedLanes|=e.suspendedLanes&r,Ke===e&&(tt&r)===r&&(Ve===4||Ve===3&&(tt&130023424)===tt&&500>Ne()-Zc?gn(e,0):Jc|=r),yt(e,t)}function Am(e,t){t===0&&(e.mode&1?(t=Yo,Yo<<=1,!(Yo&130023424)&&(Yo=4194304)):t=1);var r=ft();e=vr(e,t),e!==null&&(Ao(e,t,r),yt(e,r))}function hw(e){var t=e.memoizedState,r=0;t!==null&&(r=t.retryLane),Am(e,r)}function dw(e,t){var r=0;switch(e.tag){case 13:var n=e.stateNode,p=e.memoizedState;p!==null&&(r=p.retryLane);break;case 19:n=e.stateNode;break;default:throw Error(te(314))}n!==null&&n.delete(t),Am(e,r)}var Dm;Dm=function(e,t,r){if(e!==null)if(e.memoizedProps!==t.pendingProps||mt.current)gt=!0;else{if(!(e.lanes&r)&&!(t.flags&128))return gt=!1,ew(e,t,r);gt=!!(e.flags&131072)}else gt=!1,De&&t.flags&1048576&&Rg(t,Ns,t.index);switch(t.lanes=0,t.tag){case 2:var n=t.type;_s(e,t),e=t.pendingProps;var p=ii(t,lt.current);Qn(t,r),p=Xc(null,t,n,e,p,r);var m=Yc();return t.flags|=1,typeof p=="object"&&p!==null&&typeof p.render=="function"&&p.$$typeof===void 0?(t.tag=1,t.memoizedState=null,t.updateQueue=null,vt(n)?(m=!0,js(t)):m=!1,t.memoizedState=p.state!==null&&p.state!==void 0?p.state:null,Uc(t),p.updater=Sa,t.stateNode=p,p._reactInternals=t,Fu(t,n,e,r),t=Iu(null,t,n,!0,m,r)):(t.tag=0,De&&m&&Rc(t),ct(null,t,p,r),t=t.child),t;case 16:n=t.elementType;e:{switch(_s(e,t),e=t.pendingProps,p=n._init,n=p(n._payload),t.type=n,p=t.tag=gw(n),e=Ut(n,e),p){case 0:t=Lu(null,t,n,e,r);break e;case 1:t=Zh(null,t,n,e,r);break e;case 11:t=Qh(null,t,n,e,r);break e;case 14:t=Jh(null,t,n,Ut(n.type,e),r);break e}throw Error(te(306,n,""))}return t;case 0:return n=t.type,p=t.pendingProps,p=t.elementType===n?p:Ut(n,p),Lu(e,t,n,p,r);case 1:return n=t.type,p=t.pendingProps,p=t.elementType===n?p:Ut(n,p),Zh(e,t,n,p,r);case 3:e:{if(pm(t),e===null)throw Error(te(387));n=t.pendingProps,m=t.memoizedState,p=m.element,Bg(e,t),Ws(t,n,null,r);var S=t.memoizedState;if(n=S.element,m.isDehydrated)if(m={element:n,isDehydrated:!1,cache:S.cache,pendingSuspenseBoundaries:S.pendingSuspenseBoundaries,transitions:S.transitions},t.updateQueue.baseState=m,t.memoizedState=m,t.flags&256){p=li(Error(te(423)),t),t=ed(e,t,n,r,p);break e}else if(n!==p){p=li(Error(te(424)),t),t=ed(e,t,n,r,p);break e}else for(Ct=zr(t.stateNode.containerInfo.firstChild),xt=t,De=!0,Ht=null,r=Wg(t,null,n,r),t.child=r;r;)r.flags=r.flags&-3|4096,r=r.sibling;else{if(oi(),n===p){t=yr(e,t,r);break e}ct(e,t,n,r)}t=t.child}return t;case 5:return Hg(t),e===null&&Au(t),n=t.type,p=t.pendingProps,m=e!==null?e.memoizedProps:null,S=p.children,bu(n,p)?S=null:m!==null&&bu(n,m)&&(t.flags|=32),dm(e,t),ct(e,t,S,r),t.child;case 6:return e===null&&Au(t),null;case 13:return gm(e,t,r);case 4:return Wc(t,t.stateNode.containerInfo),n=t.pendingProps,e===null?t.child=si(t,null,n,r):ct(e,t,n,r),t.child;case 11:return n=t.type,p=t.pendingProps,p=t.elementType===n?p:Ut(n,p),Qh(e,t,n,p,r);case 7:return ct(e,t,t.pendingProps,r),t.child;case 8:return ct(e,t,t.pendingProps.children,r),t.child;case 12:return ct(e,t,t.pendingProps.children,r),t.child;case 10:e:{if(n=t.type._context,p=t.pendingProps,m=t.memoizedProps,S=p.value,Oe(zs,n._currentValue),n._currentValue=S,m!==null)if(Gt(m.value,S)){if(m.children===p.children&&!mt.current){t=yr(e,t,r);break e}}else for(m=t.child,m!==null&&(m.return=t);m!==null;){var h=m.dependencies;if(h!==null){S=m.child;for(var i=h.firstContext;i!==null;){if(i.context===n){if(m.tag===1){i=pr(-1,r&-r),i.tag=2;var u=m.updateQueue;if(u!==null){u=u.shared;var f=u.pending;f===null?i.next=i:(i.next=f.next,f.next=i),u.pending=i}}m.lanes|=r,i=m.alternate,i!==null&&(i.lanes|=r),Du(m.return,r,t),h.lanes|=r;break}i=i.next}}else if(m.tag===10)S=m.type===t.type?null:m.child;else if(m.tag===18){if(S=m.return,S===null)throw Error(te(341));S.lanes|=r,h=S.alternate,h!==null&&(h.lanes|=r),Du(S,r,t),S=m.sibling}else S=m.child;if(S!==null)S.return=m;else for(S=m;S!==null;){if(S===t){S=null;break}if(m=S.sibling,m!==null){m.return=S.return,S=m;break}S=S.return}m=S}ct(e,t,p.children,r),t=t.child}return t;case 9:return p=t.type,n=t.pendingProps.children,Qn(t,r),p=It(p),n=n(p),t.flags|=1,ct(e,t,n,r),t.child;case 14:return n=t.type,p=Ut(n,t.pendingProps),p=Ut(n.type,p),Jh(e,t,n,p,r);case 15:return fm(e,t,t.type,t.pendingProps,r);case 17:return n=t.type,p=t.pendingProps,p=t.elementType===n?p:Ut(n,p),_s(e,t),t.tag=1,vt(n)?(e=!0,js(t)):e=!1,Qn(t,r),zg(t,n,p),Fu(t,n,p,r),Iu(null,t,n,!0,e,r);case 19:return mm(e,t,r);case 22:return hm(e,t,r)}throw Error(te(156,t.tag))};function Mm(e,t){return ig(e,t)}function pw(e,t,r,n){this.tag=e,this.key=r,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=n,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Ft(e,t,r,n){return new pw(e,t,r,n)}function nf(e){return e=e.prototype,!(!e||!e.isReactComponent)}function gw(e){if(typeof e=="function")return nf(e)?1:0;if(e!=null){if(e=e.$$typeof,e===Cc)return 11;if(e===xc)return 14}return 2}function Vr(e,t){var r=e.alternate;return r===null?(r=Ft(e.tag,t,e.key,e.mode),r.elementType=e.elementType,r.type=e.type,r.stateNode=e.stateNode,r.alternate=e,e.alternate=r):(r.pendingProps=t,r.type=e.type,r.flags=0,r.subtreeFlags=0,r.deletions=null),r.flags=e.flags&14680064,r.childLanes=e.childLanes,r.lanes=e.lanes,r.child=e.child,r.memoizedProps=e.memoizedProps,r.memoizedState=e.memoizedState,r.updateQueue=e.updateQueue,t=e.dependencies,r.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},r.sibling=e.sibling,r.index=e.index,r.ref=e.ref,r}function xs(e,t,r,n,p,m){var S=2;if(n=e,typeof e=="function")nf(e)&&(S=1);else if(typeof e=="string")S=5;else e:switch(e){case In:return mn(r.children,p,m,t);case wc:S=8,p|=8;break;case nu:return e=Ft(12,r,t,p|2),e.elementType=nu,e.lanes=m,e;case iu:return e=Ft(13,r,t,p),e.elementType=iu,e.lanes=m,e;case ou:return e=Ft(19,r,t,p),e.elementType=ou,e.lanes=m,e;case Up:return xa(r,p,m,t);default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case Np:S=10;break e;case zp:S=9;break e;case Cc:S=11;break e;case xc:S=14;break e;case Pr:S=16,n=null;break e}throw Error(te(130,e==null?e:typeof e,""))}return t=Ft(S,r,t,p),t.elementType=e,t.type=n,t.lanes=m,t}function mn(e,t,r,n){return e=Ft(7,e,n,t),e.lanes=r,e}function xa(e,t,r,n){return e=Ft(22,e,n,t),e.elementType=Up,e.lanes=r,e.stateNode={isHidden:!1},e}function Dl(e,t,r){return e=Ft(6,e,null,t),e.lanes=r,e}function Ml(e,t,r){return t=Ft(4,e.children!==null?e.children:[],e.key,t),t.lanes=r,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function mw(e,t,r,n,p){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=hl(0),this.expirationTimes=hl(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=hl(0),this.identifierPrefix=n,this.onRecoverableError=p,this.mutableSourceEagerHydrationData=null}function of(e,t,r,n,p,m,S,h,i){return e=new mw(e,t,r,h,i),t===1?(t=1,m===!0&&(t|=8)):t=0,m=Ft(3,null,null,t),e.current=m,m.stateNode=e,m.memoizedState={element:n,isDehydrated:r,cache:null,transitions:null,pendingSuspenseBoundaries:null},Uc(m),e}function vw(e,t,r){var n=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:Ln,key:n==null?null:""+n,children:e,containerInfo:t,implementation:r}}function Fm(e){if(!e)return Gr;e=e._reactInternals;e:{if(En(e)!==e||e.tag!==1)throw Error(te(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(vt(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(t!==null);throw Error(te(171))}if(e.tag===1){var r=e.type;if(vt(r))return Mg(e,r,t)}return t}function Rm(e,t,r,n,p,m,S,h,i){return e=of(r,n,!0,e,p,m,S,h,i),e.context=Fm(null),r=e.current,n=ft(),p=Hr(r),m=pr(n,p),m.callback=t??null,Ur(r,m,p),e.current.lanes=p,Ao(e,p,n),yt(e,n),e}function Ta(e,t,r,n){var p=t.current,m=ft(),S=Hr(p);return r=Fm(r),t.context===null?t.context=r:t.pendingContext=r,t=pr(m,S),t.payload={element:e},n=n===void 0?null:n,n!==null&&(t.callback=n),e=Ur(p,t,S),e!==null&&(Yt(e,p,S,m),vs(e,p,S)),S}function Ks(e){if(e=e.current,!e.child)return null;switch(e.child.tag){case 5:return e.child.stateNode;default:return e.child.stateNode}}function cd(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var r=e.retryLane;e.retryLane=r!==0&&r<t?r:t}}function sf(e,t){cd(e,t),(e=e.alternate)&&cd(e,t)}function yw(){return null}var Lm=typeof reportError=="function"?reportError:function(e){console.error(e)};function af(e){this._internalRoot=e}ba.prototype.render=af.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(te(409));Ta(e,t,null,null)};ba.prototype.unmount=af.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;xn(function(){Ta(null,e,null,null)}),t[mr]=null}};function ba(e){this._internalRoot=e}ba.prototype.unstable_scheduleHydration=function(e){if(e){var t=fg();e={blockedOn:null,target:e,priority:t};for(var r=0;r<Dr.length&&t!==0&&t<Dr[r].priority;r++);Dr.splice(r,0,e),r===0&&dg(e)}};function lf(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function Oa(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11&&(e.nodeType!==8||e.nodeValue!==" react-mount-point-unstable "))}function fd(){}function Sw(e,t,r,n,p){if(p){if(typeof n=="function"){var m=n;n=function(){var u=Ks(S);m.call(u)}}var S=Rm(t,n,e,0,null,!1,!1,"",fd);return e._reactRootContainer=S,e[mr]=S.current,po(e.nodeType===8?e.parentNode:e),xn(),S}for(;p=e.lastChild;)e.removeChild(p);if(typeof n=="function"){var h=n;n=function(){var u=Ks(i);h.call(u)}}var i=of(e,0,!1,null,null,!1,!1,"",fd);return e._reactRootContainer=i,e[mr]=i.current,po(e.nodeType===8?e.parentNode:e),xn(function(){Ta(t,i,r,n)}),i}function Ea(e,t,r,n,p){var m=r._reactRootContainer;if(m){var S=m;if(typeof p=="function"){var h=p;p=function(){var i=Ks(S);h.call(i)}}Ta(t,S,e,p)}else S=Sw(r,t,e,p,n);return Ks(S)}ug=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var r=Wi(t.pendingLanes);r!==0&&(Oc(t,r|1),yt(t,Ne()),!(we&6)&&(ui=Ne()+500,en()))}break;case 13:xn(function(){var n=vr(e,1);if(n!==null){var p=ft();Yt(n,e,1,p)}}),sf(e,1)}};Ec=function(e){if(e.tag===13){var t=vr(e,134217728);if(t!==null){var r=ft();Yt(t,e,134217728,r)}sf(e,134217728)}};cg=function(e){if(e.tag===13){var t=Hr(e),r=vr(e,t);if(r!==null){var n=ft();Yt(r,e,t,n)}sf(e,t)}};fg=function(){return Ce};hg=function(e,t){var r=Ce;try{return Ce=e,t()}finally{Ce=r}};gu=function(e,t,r){switch(t){case"input":if(lu(e,r),t=r.name,r.type==="radio"&&t!=null){for(r=e;r.parentNode;)r=r.parentNode;for(r=r.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<r.length;t++){var n=r[t];if(n!==e&&n.form===e.form){var p=va(n);if(!p)throw Error(te(90));Hp(n),lu(n,p)}}}break;case"textarea":$p(e,r);break;case"select":t=r.value,t!=null&&Yn(e,!!r.multiple,t,!1)}};Jp=ef;Zp=xn;var _w={usingClientEntryPoint:!1,Events:[Mo,zn,va,Kp,Qp,ef]},Li={findFiberByHostInstance:hn,bundleType:0,version:"18.2.0",rendererPackageName:"react-dom"},ww={bundleType:Li.bundleType,version:Li.version,rendererPackageName:Li.rendererPackageName,rendererConfig:Li.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:_r.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return e=rg(e),e===null?null:e.stateNode},findFiberByHostInstance:Li.findFiberByHostInstance||yw,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.2.0-next-9e3b772b8-20220608"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var is=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!is.isDisabled&&is.supportsFiber)try{da=is.inject(ww),tr=is}catch{}}Ot.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=_w;Ot.createPortal=function(e,t){var r=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!lf(t))throw Error(te(200));return vw(e,t,null,r)};Ot.createRoot=function(e,t){if(!lf(e))throw Error(te(299));var r=!1,n="",p=Lm;return t!=null&&(t.unstable_strictMode===!0&&(r=!0),t.identifierPrefix!==void 0&&(n=t.identifierPrefix),t.onRecoverableError!==void 0&&(p=t.onRecoverableError)),t=of(e,1,!1,null,null,r,!1,n,p),e[mr]=t.current,po(e.nodeType===8?e.parentNode:e),new af(t)};Ot.findDOMNode=function(e){if(e==null)return null;if(e.nodeType===1)return e;var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(te(188)):(e=Object.keys(e).join(","),Error(te(268,e)));return e=rg(t),e=e===null?null:e.stateNode,e};Ot.flushSync=function(e){return xn(e)};Ot.hydrate=function(e,t,r){if(!Oa(t))throw Error(te(200));return Ea(null,e,t,!0,r)};Ot.hydrateRoot=function(e,t,r){if(!lf(e))throw Error(te(405));var n=r!=null&&r.hydratedSources||null,p=!1,m="",S=Lm;if(r!=null&&(r.unstable_strictMode===!0&&(p=!0),r.identifierPrefix!==void 0&&(m=r.identifierPrefix),r.onRecoverableError!==void 0&&(S=r.onRecoverableError)),t=Rm(t,null,e,1,r??null,p,!1,m,S),e[mr]=t.current,po(e),n)for(e=0;e<n.length;e++)r=n[e],p=r._getVersion,p=p(r._source),t.mutableSourceEagerHydrationData==null?t.mutableSourceEagerHydrationData=[r,p]:t.mutableSourceEagerHydrationData.push(r,p);return new ba(t)};Ot.render=function(e,t,r){if(!Oa(t))throw Error(te(200));return Ea(null,e,t,!1,r)};Ot.unmountComponentAtNode=function(e){if(!Oa(e))throw Error(te(40));return e._reactRootContainer?(xn(function(){Ea(null,null,e,!1,function(){e._reactRootContainer=null,e[mr]=null})}),!0):!1};Ot.unstable_batchedUpdates=ef;Ot.unstable_renderSubtreeIntoContainer=function(e,t,r,n){if(!Oa(r))throw Error(te(200));if(e==null||e._reactInternals===void 0)throw Error(te(38));return Ea(e,t,r,!1,n)};Ot.version="18.2.0-next-9e3b772b8-20220608";function Im(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(Im)}catch(e){console.error(e)}}Im(),Rp.exports=Ot;var uf=Rp.exports;const qT=bn(uf);var jm,hd=uf;jm=hd.createRoot,hd.hydrateRoot;var Cw=function(t){return xw(t)&&!Tw(t)};function xw(e){return!!e&&typeof e=="object"}function Tw(e){var t=Object.prototype.toString.call(e);return t==="[object RegExp]"||t==="[object Date]"||Ew(e)}var bw=typeof Symbol=="function"&&Symbol.for,Ow=bw?Symbol.for("react.element"):60103;function Ew(e){return e.$$typeof===Ow}function Pw(e){return Array.isArray(e)?[]:{}}function xo(e,t){return t.clone!==!1&&t.isMergeableObject(e)?ci(Pw(e),e,t):e}function kw(e,t,r){return e.concat(t).map(function(n){return xo(n,r)})}function Aw(e,t){if(!t.customMerge)return ci;var r=t.customMerge(e);return typeof r=="function"?r:ci}function Dw(e){return Object.getOwnPropertySymbols?Object.getOwnPropertySymbols(e).filter(function(t){return Object.propertyIsEnumerable.call(e,t)}):[]}function dd(e){return Object.keys(e).concat(Dw(e))}function Bm(e,t){try{return t in e}catch{return!1}}function Mw(e,t){return Bm(e,t)&&!(Object.hasOwnProperty.call(e,t)&&Object.propertyIsEnumerable.call(e,t))}function Fw(e,t,r){var n={};return r.isMergeableObject(e)&&dd(e).forEach(function(p){n[p]=xo(e[p],r)}),dd(t).forEach(function(p){Mw(e,p)||(Bm(e,p)&&r.isMergeableObject(t[p])?n[p]=Aw(p,r)(e[p],t[p],r):n[p]=xo(t[p],r))}),n}function ci(e,t,r){r=r||{},r.arrayMerge=r.arrayMerge||kw,r.isMergeableObject=r.isMergeableObject||Cw,r.cloneUnlessOtherwiseSpecified=xo;var n=Array.isArray(t),p=Array.isArray(e),m=n===p;return m?n?r.arrayMerge(e,t,r):Fw(e,t,r):xo(t,r)}ci.all=function(t,r){if(!Array.isArray(t))throw new Error("first argument should be an array");return t.reduce(function(n,p){return ci(n,p,r)},{})};var Rw=ci,Lw=Rw;const Iw=bn(Lw);var jw=function(){if(typeof Symbol!="function"||typeof Object.getOwnPropertySymbols!="function")return!1;if(typeof Symbol.iterator=="symbol")return!0;var t={},r=Symbol("test"),n=Object(r);if(typeof r=="string"||Object.prototype.toString.call(r)!=="[object Symbol]"||Object.prototype.toString.call(n)!=="[object Symbol]")return!1;var p=42;t[r]=p;for(r in t)return!1;if(typeof Object.keys=="function"&&Object.keys(t).length!==0||typeof Object.getOwnPropertyNames=="function"&&Object.getOwnPropertyNames(t).length!==0)return!1;var m=Object.getOwnPropertySymbols(t);if(m.length!==1||m[0]!==r||!Object.prototype.propertyIsEnumerable.call(t,r))return!1;if(typeof Object.getOwnPropertyDescriptor=="function"){var S=Object.getOwnPropertyDescriptor(t,r);if(S.value!==p||S.enumerable!==!0)return!1}return!0},pd=typeof Symbol<"u"&&Symbol,Bw=jw,Nw=function(){return typeof pd!="function"||typeof Symbol!="function"||typeof pd("foo")!="symbol"||typeof Symbol("bar")!="symbol"?!1:Bw()},gd={foo:{}},zw=Object,Uw=function(){return{__proto__:gd}.foo===gd.foo&&!({__proto__:null}instanceof zw)},Ww="Function.prototype.bind called on incompatible ",Fl=Array.prototype.slice,Hw=Object.prototype.toString,Vw="[object Function]",$w=function(t){var r=this;if(typeof r!="function"||Hw.call(r)!==Vw)throw new TypeError(Ww+r);for(var n=Fl.call(arguments,1),p,m=function(){if(this instanceof p){var f=r.apply(this,n.concat(Fl.call(arguments)));return Object(f)===f?f:this}else return r.apply(t,n.concat(Fl.call(arguments)))},S=Math.max(0,r.length-n.length),h=[],i=0;i<S;i++)h.push("$"+i);if(p=Function("binder","return function ("+h.join(",")+"){ return binder.apply(this,arguments); }")(m),r.prototype){var u=function(){};u.prototype=r.prototype,p.prototype=new u,u.prototype=null}return p},Xw=$w,cf=Function.prototype.bind||Xw,Yw=cf,Gw=Yw.call(Function.call,Object.prototype.hasOwnProperty),ve,fi=SyntaxError,Nm=Function,Zn=TypeError,Rl=function(e){try{return Nm('"use strict"; return ('+e+").constructor;")()}catch{}},vn=Object.getOwnPropertyDescriptor;if(vn)try{vn({},"")}catch{vn=null}var Ll=function(){throw new Zn},qw=vn?function(){try{return arguments.callee,Ll}catch{try{return vn(arguments,"callee").get}catch{return Ll}}}():Ll,Mn=Nw(),Kw=Uw(),Ge=Object.getPrototypeOf||(Kw?function(e){return e.__proto__}:null),Rn={},Qw=typeof Uint8Array>"u"||!Ge?ve:Ge(Uint8Array),yn={"%AggregateError%":typeof AggregateError>"u"?ve:AggregateError,"%Array%":Array,"%ArrayBuffer%":typeof ArrayBuffer>"u"?ve:ArrayBuffer,"%ArrayIteratorPrototype%":Mn&&Ge?Ge([][Symbol.iterator]()):ve,"%AsyncFromSyncIteratorPrototype%":ve,"%AsyncFunction%":Rn,"%AsyncGenerator%":Rn,"%AsyncGeneratorFunction%":Rn,"%AsyncIteratorPrototype%":Rn,"%Atomics%":typeof Atomics>"u"?ve:Atomics,"%BigInt%":typeof BigInt>"u"?ve:BigInt,"%BigInt64Array%":typeof BigInt64Array>"u"?ve:BigInt64Array,"%BigUint64Array%":typeof BigUint64Array>"u"?ve:BigUint64Array,"%Boolean%":Boolean,"%DataView%":typeof DataView>"u"?ve:DataView,"%Date%":Date,"%decodeURI%":decodeURI,"%decodeURIComponent%":decodeURIComponent,"%encodeURI%":encodeURI,"%encodeURIComponent%":encodeURIComponent,"%Error%":Error,"%eval%":eval,"%EvalError%":EvalError,"%Float32Array%":typeof Float32Array>"u"?ve:Float32Array,"%Float64Array%":typeof Float64Array>"u"?ve:Float64Array,"%FinalizationRegistry%":typeof FinalizationRegistry>"u"?ve:FinalizationRegistry,"%Function%":Nm,"%GeneratorFunction%":Rn,"%Int8Array%":typeof Int8Array>"u"?ve:Int8Array,"%Int16Array%":typeof Int16Array>"u"?ve:Int16Array,"%Int32Array%":typeof Int32Array>"u"?ve:Int32Array,"%isFinite%":isFinite,"%isNaN%":isNaN,"%IteratorPrototype%":Mn&&Ge?Ge(Ge([][Symbol.iterator]())):ve,"%JSON%":typeof JSON=="object"?JSON:ve,"%Map%":typeof Map>"u"?ve:Map,"%MapIteratorPrototype%":typeof Map>"u"||!Mn||!Ge?ve:Ge(new Map()[Symbol.iterator]()),"%Math%":Math,"%Number%":Number,"%Object%":Object,"%parseFloat%":parseFloat,"%parseInt%":parseInt,"%Promise%":typeof Promise>"u"?ve:Promise,"%Proxy%":typeof Proxy>"u"?ve:Proxy,"%RangeError%":RangeError,"%ReferenceError%":ReferenceError,"%Reflect%":typeof Reflect>"u"?ve:Reflect,"%RegExp%":RegExp,"%Set%":typeof Set>"u"?ve:Set,"%SetIteratorPrototype%":typeof Set>"u"||!Mn||!Ge?ve:Ge(new Set()[Symbol.iterator]()),"%SharedArrayBuffer%":typeof SharedArrayBuffer>"u"?ve:SharedArrayBuffer,"%String%":String,"%StringIteratorPrototype%":Mn&&Ge?Ge(""[Symbol.iterator]()):ve,"%Symbol%":Mn?Symbol:ve,"%SyntaxError%":fi,"%ThrowTypeError%":qw,"%TypedArray%":Qw,"%TypeError%":Zn,"%Uint8Array%":typeof Uint8Array>"u"?ve:Uint8Array,"%Uint8ClampedArray%":typeof Uint8ClampedArray>"u"?ve:Uint8ClampedArray,"%Uint16Array%":typeof Uint16Array>"u"?ve:Uint16Array,"%Uint32Array%":typeof Uint32Array>"u"?ve:Uint32Array,"%URIError%":URIError,"%WeakMap%":typeof WeakMap>"u"?ve:WeakMap,"%WeakRef%":typeof WeakRef>"u"?ve:WeakRef,"%WeakSet%":typeof WeakSet>"u"?ve:WeakSet};if(Ge)try{null.error}catch(e){var Jw=Ge(Ge(e));yn["%Error.prototype%"]=Jw}var Zw=function e(t){var r;if(t==="%AsyncFunction%")r=Rl("async function () {}");else if(t==="%GeneratorFunction%")r=Rl("function* () {}");else if(t==="%AsyncGeneratorFunction%")r=Rl("async function* () {}");else if(t==="%AsyncGenerator%"){var n=e("%AsyncGeneratorFunction%");n&&(r=n.prototype)}else if(t==="%AsyncIteratorPrototype%"){var p=e("%AsyncGenerator%");p&&Ge&&(r=Ge(p.prototype))}return yn[t]=r,r},md={"%ArrayBufferPrototype%":["ArrayBuffer","prototype"],"%ArrayPrototype%":["Array","prototype"],"%ArrayProto_entries%":["Array","prototype","entries"],"%ArrayProto_forEach%":["Array","prototype","forEach"],"%ArrayProto_keys%":["Array","prototype","keys"],"%ArrayProto_values%":["Array","prototype","values"],"%AsyncFunctionPrototype%":["AsyncFunction","prototype"],"%AsyncGenerator%":["AsyncGeneratorFunction","prototype"],"%AsyncGeneratorPrototype%":["AsyncGeneratorFunction","prototype","prototype"],"%BooleanPrototype%":["Boolean","prototype"],"%DataViewPrototype%":["DataView","prototype"],"%DatePrototype%":["Date","prototype"],"%ErrorPrototype%":["Error","prototype"],"%EvalErrorPrototype%":["EvalError","prototype"],"%Float32ArrayPrototype%":["Float32Array","prototype"],"%Float64ArrayPrototype%":["Float64Array","prototype"],"%FunctionPrototype%":["Function","prototype"],"%Generator%":["GeneratorFunction","prototype"],"%GeneratorPrototype%":["GeneratorFunction","prototype","prototype"],"%Int8ArrayPrototype%":["Int8Array","prototype"],"%Int16ArrayPrototype%":["Int16Array","prototype"],"%Int32ArrayPrototype%":["Int32Array","prototype"],"%JSONParse%":["JSON","parse"],"%JSONStringify%":["JSON","stringify"],"%MapPrototype%":["Map","prototype"],"%NumberPrototype%":["Number","prototype"],"%ObjectPrototype%":["Object","prototype"],"%ObjProto_toString%":["Object","prototype","toString"],"%ObjProto_valueOf%":["Object","prototype","valueOf"],"%PromisePrototype%":["Promise","prototype"],"%PromiseProto_then%":["Promise","prototype","then"],"%Promise_all%":["Promise","all"],"%Promise_reject%":["Promise","reject"],"%Promise_resolve%":["Promise","resolve"],"%RangeErrorPrototype%":["RangeError","prototype"],"%ReferenceErrorPrototype%":["ReferenceError","prototype"],"%RegExpPrototype%":["RegExp","prototype"],"%SetPrototype%":["Set","prototype"],"%SharedArrayBufferPrototype%":["SharedArrayBuffer","prototype"],"%StringPrototype%":["String","prototype"],"%SymbolPrototype%":["Symbol","prototype"],"%SyntaxErrorPrototype%":["SyntaxError","prototype"],"%TypedArrayPrototype%":["TypedArray","prototype"],"%TypeErrorPrototype%":["TypeError","prototype"],"%Uint8ArrayPrototype%":["Uint8Array","prototype"],"%Uint8ClampedArrayPrototype%":["Uint8ClampedArray","prototype"],"%Uint16ArrayPrototype%":["Uint16Array","prototype"],"%Uint32ArrayPrototype%":["Uint32Array","prototype"],"%URIErrorPrototype%":["URIError","prototype"],"%WeakMapPrototype%":["WeakMap","prototype"],"%WeakSetPrototype%":["WeakSet","prototype"]},Ro=cf,Qs=Gw,e1=Ro.call(Function.call,Array.prototype.concat),t1=Ro.call(Function.apply,Array.prototype.splice),vd=Ro.call(Function.call,String.prototype.replace),Js=Ro.call(Function.call,String.prototype.slice),r1=Ro.call(Function.call,RegExp.prototype.exec),n1=/[^%.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|%$))/g,i1=/\\(\\)?/g,o1=function(t){var r=Js(t,0,1),n=Js(t,-1);if(r==="%"&&n!=="%")throw new fi("invalid intrinsic syntax, expected closing `%`");if(n==="%"&&r!=="%")throw new fi("invalid intrinsic syntax, expected opening `%`");var p=[];return vd(t,n1,function(m,S,h,i){p[p.length]=h?vd(i,i1,"$1"):S||m}),p},s1=function(t,r){var n=t,p;if(Qs(md,n)&&(p=md[n],n="%"+p[0]+"%"),Qs(yn,n)){var m=yn[n];if(m===Rn&&(m=Zw(n)),typeof m>"u"&&!r)throw new Zn("intrinsic "+t+" exists, but is not available. Please file an issue!");return{alias:p,name:n,value:m}}throw new fi("intrinsic "+t+" does not exist!")},ff=function(t,r){if(typeof t!="string"||t.length===0)throw new Zn("intrinsic name must be a non-empty string");if(arguments.length>1&&typeof r!="boolean")throw new Zn('"allowMissing" argument must be a boolean');if(r1(/^%?[^%]*%?$/,t)===null)throw new fi("`%` may not be present anywhere but at the beginning and end of the intrinsic name");var n=o1(t),p=n.length>0?n[0]:"",m=s1("%"+p+"%",r),S=m.name,h=m.value,i=!1,u=m.alias;u&&(p=u[0],t1(n,e1([0,1],u)));for(var f=1,o=!0;f<n.length;f+=1){var a=n[f],s=Js(a,0,1),l=Js(a,-1);if((s==='"'||s==="'"||s==="`"||l==='"'||l==="'"||l==="`")&&s!==l)throw new fi("property names with quotes must have matching quotes");if((a==="constructor"||!o)&&(i=!0),p+="."+a,S="%"+p+"%",Qs(yn,S))h=yn[S];else if(h!=null){if(!(a in h)){if(!r)throw new Zn("base intrinsic for "+t+" exists, but the property is not available.");return}if(vn&&f+1>=n.length){var d=vn(h,a);o=!!d,o&&"get"in d&&!("originalValue"in d.get)?h=d.get:h=h[a]}else o=Qs(h,a),h=h[a];o&&!i&&(yn[S]=h)}}return h},zm={exports:{}};(function(e){var t=cf,r=ff,n=r("%Function.prototype.apply%"),p=r("%Function.prototype.call%"),m=r("%Reflect.apply%",!0)||t.call(p,n),S=r("%Object.getOwnPropertyDescriptor%",!0),h=r("%Object.defineProperty%",!0),i=r("%Math.max%");if(h)try{h({},"a",{value:1})}catch{h=null}e.exports=function(o){var a=m(t,p,arguments);if(S&&h){var s=S(a,"length");s.configurable&&h(a,"length",{value:1+i(0,o.length-(arguments.length-1))})}return a};var u=function(){return m(t,n,arguments)};h?h(e.exports,"apply",{value:u}):e.exports.apply=u})(zm);var a1=zm.exports,Um=ff,Wm=a1,l1=Wm(Um("String.prototype.indexOf")),u1=function(t,r){var n=Um(t,!!r);return typeof n=="function"&&l1(t,".prototype.")>-1?Wm(n):n};const c1={},f1=Object.freeze(Object.defineProperty({__proto__:null,default:c1},Symbol.toStringTag,{value:"Module"})),Ts=jy(f1);var hf=typeof Map=="function"&&Map.prototype,Il=Object.getOwnPropertyDescriptor&&hf?Object.getOwnPropertyDescriptor(Map.prototype,"size"):null,Zs=hf&&Il&&typeof Il.get=="function"?Il.get:null,yd=hf&&Map.prototype.forEach,df=typeof Set=="function"&&Set.prototype,jl=Object.getOwnPropertyDescriptor&&df?Object.getOwnPropertyDescriptor(Set.prototype,"size"):null,ea=df&&jl&&typeof jl.get=="function"?jl.get:null,Sd=df&&Set.prototype.forEach,h1=typeof WeakMap=="function"&&WeakMap.prototype,to=h1?WeakMap.prototype.has:null,d1=typeof WeakSet=="function"&&WeakSet.prototype,ro=d1?WeakSet.prototype.has:null,p1=typeof WeakRef=="function"&&WeakRef.prototype,_d=p1?WeakRef.prototype.deref:null,g1=Boolean.prototype.valueOf,m1=Object.prototype.toString,v1=Function.prototype.toString,y1=String.prototype.match,pf=String.prototype.slice,Ir=String.prototype.replace,S1=String.prototype.toUpperCase,wd=String.prototype.toLowerCase,Hm=RegExp.prototype.test,Cd=Array.prototype.concat,Jt=Array.prototype.join,_1=Array.prototype.slice,xd=Math.floor,Gu=typeof BigInt=="function"?BigInt.prototype.valueOf:null,Bl=Object.getOwnPropertySymbols,qu=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?Symbol.prototype.toString:null,hi=typeof Symbol=="function"&&typeof Symbol.iterator=="object",ut=typeof Symbol=="function"&&Symbol.toStringTag&&(typeof Symbol.toStringTag===hi||"symbol")?Symbol.toStringTag:null,Vm=Object.prototype.propertyIsEnumerable,Td=(typeof Reflect=="function"?Reflect.getPrototypeOf:Object.getPrototypeOf)||([].__proto__===Array.prototype?function(e){return e.__proto__}:null);function bd(e,t){if(e===1/0||e===-1/0||e!==e||e&&e>-1e3&&e<1e3||Hm.call(/e/,t))return t;var r=/[0-9](?=(?:[0-9]{3})+(?![0-9]))/g;if(typeof e=="number"){var n=e<0?-xd(-e):xd(e);if(n!==e){var p=String(n),m=pf.call(t,p.length+1);return Ir.call(p,r,"$&_")+"."+Ir.call(Ir.call(m,/([0-9]{3})/g,"$&_"),/_$/,"")}}return Ir.call(t,r,"$&_")}var Ku=Ts,Od=Ku.custom,Ed=Xm(Od)?Od:null,w1=function e(t,r,n,p){var m=r||{};if(Ar(m,"quoteStyle")&&m.quoteStyle!=="single"&&m.quoteStyle!=="double")throw new TypeError('option "quoteStyle" must be "single" or "double"');if(Ar(m,"maxStringLength")&&(typeof m.maxStringLength=="number"?m.maxStringLength<0&&m.maxStringLength!==1/0:m.maxStringLength!==null))throw new TypeError('option "maxStringLength", if provided, must be a positive integer, Infinity, or `null`');var S=Ar(m,"customInspect")?m.customInspect:!0;if(typeof S!="boolean"&&S!=="symbol")throw new TypeError("option \"customInspect\", if provided, must be `true`, `false`, or `'symbol'`");if(Ar(m,"indent")&&m.indent!==null&&m.indent!=="	"&&!(parseInt(m.indent,10)===m.indent&&m.indent>0))throw new TypeError('option "indent" must be "\\t", an integer > 0, or `null`');if(Ar(m,"numericSeparator")&&typeof m.numericSeparator!="boolean")throw new TypeError('option "numericSeparator", if provided, must be `true` or `false`');var h=m.numericSeparator;if(typeof t>"u")return"undefined";if(t===null)return"null";if(typeof t=="boolean")return t?"true":"false";if(typeof t=="string")return Gm(t,m);if(typeof t=="number"){if(t===0)return 1/0/t>0?"0":"-0";var i=String(t);return h?bd(t,i):i}if(typeof t=="bigint"){var u=String(t)+"n";return h?bd(t,u):u}var f=typeof m.depth>"u"?5:m.depth;if(typeof n>"u"&&(n=0),n>=f&&f>0&&typeof t=="object")return Qu(t)?"[Array]":"[Object]";var o=N1(m,n);if(typeof p>"u")p=[];else if(Ym(p,t)>=0)return"[Circular]";function a(ne,ee,re){if(ee&&(p=_1.call(p),p.push(ee)),re){var se={depth:m.depth};return Ar(m,"quoteStyle")&&(se.quoteStyle=m.quoteStyle),e(ne,se,n+1,p)}return e(ne,m,n+1,p)}if(typeof t=="function"&&!Pd(t)){var s=A1(t),l=os(t,a);return"[Function"+(s?": "+s:" (anonymous)")+"]"+(l.length>0?" { "+Jt.call(l,", ")+" }":"")}if(Xm(t)){var d=hi?Ir.call(String(t),/^(Symbol\(.*\))_[^)]*$/,"$1"):qu.call(t);return typeof t=="object"&&!hi?Ii(d):d}if(I1(t)){for(var c="<"+wd.call(String(t.nodeName)),g=t.attributes||[],v=0;v<g.length;v++)c+=" "+g[v].name+"="+$m(C1(g[v].value),"double",m);return c+=">",t.childNodes&&t.childNodes.length&&(c+="..."),c+="</"+wd.call(String(t.nodeName))+">",c}if(Qu(t)){if(t.length===0)return"[]";var y=os(t,a);return o&&!B1(y)?"["+Ju(y,o)+"]":"[ "+Jt.call(y,", ")+" ]"}if(T1(t)){var _=os(t,a);return!("cause"in Error.prototype)&&"cause"in t&&!Vm.call(t,"cause")?"{ ["+String(t)+"] "+Jt.call(Cd.call("[cause]: "+a(t.cause),_),", ")+" }":_.length===0?"["+String(t)+"]":"{ ["+String(t)+"] "+Jt.call(_,", ")+" }"}if(typeof t=="object"&&S){if(Ed&&typeof t[Ed]=="function"&&Ku)return Ku(t,{depth:f-n});if(S!=="symbol"&&typeof t.inspect=="function")return t.inspect()}if(D1(t)){var w=[];return yd&&yd.call(t,function(ne,ee){w.push(a(ee,t,!0)+" => "+a(ne,t))}),kd("Map",Zs.call(t),w,o)}if(R1(t)){var C=[];return Sd&&Sd.call(t,function(ne){C.push(a(ne,t))}),kd("Set",ea.call(t),C,o)}if(M1(t))return Nl("WeakMap");if(L1(t))return Nl("WeakSet");if(F1(t))return Nl("WeakRef");if(O1(t))return Ii(a(Number(t)));if(P1(t))return Ii(a(Gu.call(t)));if(E1(t))return Ii(g1.call(t));if(b1(t))return Ii(a(String(t)));if(!x1(t)&&!Pd(t)){var x=os(t,a),O=Td?Td(t)===Object.prototype:t instanceof Object||t.constructor===Object,M=t instanceof Object?"":"null prototype",F=!O&&ut&&Object(t)===t&&ut in t?pf.call(tn(t),8,-1):M?"Object":"",V=O||typeof t.constructor!="function"?"":t.constructor.name?t.constructor.name+" ":"",$=V+(F||M?"["+Jt.call(Cd.call([],F||[],M||[]),": ")+"] ":"");return x.length===0?$+"{}":o?$+"{"+Ju(x,o)+"}":$+"{ "+Jt.call(x,", ")+" }"}return String(t)};function $m(e,t,r){var n=(r.quoteStyle||t)==="double"?'"':"'";return n+e+n}function C1(e){return Ir.call(String(e),/"/g,"&quot;")}function Qu(e){return tn(e)==="[object Array]"&&(!ut||!(typeof e=="object"&&ut in e))}function x1(e){return tn(e)==="[object Date]"&&(!ut||!(typeof e=="object"&&ut in e))}function Pd(e){return tn(e)==="[object RegExp]"&&(!ut||!(typeof e=="object"&&ut in e))}function T1(e){return tn(e)==="[object Error]"&&(!ut||!(typeof e=="object"&&ut in e))}function b1(e){return tn(e)==="[object String]"&&(!ut||!(typeof e=="object"&&ut in e))}function O1(e){return tn(e)==="[object Number]"&&(!ut||!(typeof e=="object"&&ut in e))}function E1(e){return tn(e)==="[object Boolean]"&&(!ut||!(typeof e=="object"&&ut in e))}function Xm(e){if(hi)return e&&typeof e=="object"&&e instanceof Symbol;if(typeof e=="symbol")return!0;if(!e||typeof e!="object"||!qu)return!1;try{return qu.call(e),!0}catch{}return!1}function P1(e){if(!e||typeof e!="object"||!Gu)return!1;try{return Gu.call(e),!0}catch{}return!1}var k1=Object.prototype.hasOwnProperty||function(e){return e in this};function Ar(e,t){return k1.call(e,t)}function tn(e){return m1.call(e)}function A1(e){if(e.name)return e.name;var t=y1.call(v1.call(e),/^function\s*([\w$]+)/);return t?t[1]:null}function Ym(e,t){if(e.indexOf)return e.indexOf(t);for(var r=0,n=e.length;r<n;r++)if(e[r]===t)return r;return-1}function D1(e){if(!Zs||!e||typeof e!="object")return!1;try{Zs.call(e);try{ea.call(e)}catch{return!0}return e instanceof Map}catch{}return!1}function M1(e){if(!to||!e||typeof e!="object")return!1;try{to.call(e,to);try{ro.call(e,ro)}catch{return!0}return e instanceof WeakMap}catch{}return!1}function F1(e){if(!_d||!e||typeof e!="object")return!1;try{return _d.call(e),!0}catch{}return!1}function R1(e){if(!ea||!e||typeof e!="object")return!1;try{ea.call(e);try{Zs.call(e)}catch{return!0}return e instanceof Set}catch{}return!1}function L1(e){if(!ro||!e||typeof e!="object")return!1;try{ro.call(e,ro);try{to.call(e,to)}catch{return!0}return e instanceof WeakSet}catch{}return!1}function I1(e){return!e||typeof e!="object"?!1:typeof HTMLElement<"u"&&e instanceof HTMLElement?!0:typeof e.nodeName=="string"&&typeof e.getAttribute=="function"}function Gm(e,t){if(e.length>t.maxStringLength){var r=e.length-t.maxStringLength,n="... "+r+" more character"+(r>1?"s":"");return Gm(pf.call(e,0,t.maxStringLength),t)+n}var p=Ir.call(Ir.call(e,/(['\\])/g,"\\$1"),/[\x00-\x1f]/g,j1);return $m(p,"single",t)}function j1(e){var t=e.charCodeAt(0),r={8:"b",9:"t",10:"n",12:"f",13:"r"}[t];return r?"\\"+r:"\\x"+(t<16?"0":"")+S1.call(t.toString(16))}function Ii(e){return"Object("+e+")"}function Nl(e){return e+" { ? }"}function kd(e,t,r,n){var p=n?Ju(r,n):Jt.call(r,", ");return e+" ("+t+") {"+p+"}"}function B1(e){for(var t=0;t<e.length;t++)if(Ym(e[t],`
`)>=0)return!1;return!0}function N1(e,t){var r;if(e.indent==="	")r="	";else if(typeof e.indent=="number"&&e.indent>0)r=Jt.call(Array(e.indent+1)," ");else return null;return{base:r,prev:Jt.call(Array(t+1),r)}}function Ju(e,t){if(e.length===0)return"";var r=`
`+t.prev+t.base;return r+Jt.call(e,","+r)+`
`+t.prev}function os(e,t){var r=Qu(e),n=[];if(r){n.length=e.length;for(var p=0;p<e.length;p++)n[p]=Ar(e,p)?t(e[p],e):""}var m=typeof Bl=="function"?Bl(e):[],S;if(hi){S={};for(var h=0;h<m.length;h++)S["$"+m[h]]=m[h]}for(var i in e)Ar(e,i)&&(r&&String(Number(i))===i&&i<e.length||hi&&S["$"+i]instanceof Symbol||(Hm.call(/[^\w$]/,i)?n.push(t(i,e)+": "+t(e[i],e)):n.push(i+": "+t(e[i],e))));if(typeof Bl=="function")for(var u=0;u<m.length;u++)Vm.call(e,m[u])&&n.push("["+t(m[u])+"]: "+t(e[m[u]],e));return n}var gf=ff,_i=u1,z1=w1,U1=gf("%TypeError%"),ss=gf("%WeakMap%",!0),as=gf("%Map%",!0),W1=_i("WeakMap.prototype.get",!0),H1=_i("WeakMap.prototype.set",!0),V1=_i("WeakMap.prototype.has",!0),$1=_i("Map.prototype.get",!0),X1=_i("Map.prototype.set",!0),Y1=_i("Map.prototype.has",!0),mf=function(e,t){for(var r=e,n;(n=r.next)!==null;r=n)if(n.key===t)return r.next=n.next,n.next=e.next,e.next=n,n},G1=function(e,t){var r=mf(e,t);return r&&r.value},q1=function(e,t,r){var n=mf(e,t);n?n.value=r:e.next={key:t,next:e.next,value:r}},K1=function(e,t){return!!mf(e,t)},Q1=function(){var t,r,n,p={assert:function(m){if(!p.has(m))throw new U1("Side channel does not contain "+z1(m))},get:function(m){if(ss&&m&&(typeof m=="object"||typeof m=="function")){if(t)return W1(t,m)}else if(as){if(r)return $1(r,m)}else if(n)return G1(n,m)},has:function(m){if(ss&&m&&(typeof m=="object"||typeof m=="function")){if(t)return V1(t,m)}else if(as){if(r)return Y1(r,m)}else if(n)return K1(n,m);return!1},set:function(m,S){ss&&m&&(typeof m=="object"||typeof m=="function")?(t||(t=new ss),H1(t,m,S)):as?(r||(r=new as),X1(r,m,S)):(n||(n={key:{},next:null}),q1(n,m,S))}};return p},J1=String.prototype.replace,Z1=/%20/g,zl={RFC1738:"RFC1738",RFC3986:"RFC3986"},vf={default:zl.RFC3986,formatters:{RFC1738:function(e){return J1.call(e,Z1,"+")},RFC3986:function(e){return String(e)}},RFC1738:zl.RFC1738,RFC3986:zl.RFC3986},eC=vf,Ul=Object.prototype.hasOwnProperty,fn=Array.isArray,Kt=function(){for(var e=[],t=0;t<256;++t)e.push("%"+((t<16?"0":"")+t.toString(16)).toUpperCase());return e}(),tC=function(t){for(;t.length>1;){var r=t.pop(),n=r.obj[r.prop];if(fn(n)){for(var p=[],m=0;m<n.length;++m)typeof n[m]<"u"&&p.push(n[m]);r.obj[r.prop]=p}}},qm=function(t,r){for(var n=r&&r.plainObjects?Object.create(null):{},p=0;p<t.length;++p)typeof t[p]<"u"&&(n[p]=t[p]);return n},rC=function e(t,r,n){if(!r)return t;if(typeof r!="object"){if(fn(t))t.push(r);else if(t&&typeof t=="object")(n&&(n.plainObjects||n.allowPrototypes)||!Ul.call(Object.prototype,r))&&(t[r]=!0);else return[t,r];return t}if(!t||typeof t!="object")return[t].concat(r);var p=t;return fn(t)&&!fn(r)&&(p=qm(t,n)),fn(t)&&fn(r)?(r.forEach(function(m,S){if(Ul.call(t,S)){var h=t[S];h&&typeof h=="object"&&m&&typeof m=="object"?t[S]=e(h,m,n):t.push(m)}else t[S]=m}),t):Object.keys(r).reduce(function(m,S){var h=r[S];return Ul.call(m,S)?m[S]=e(m[S],h,n):m[S]=h,m},p)},nC=function(t,r){return Object.keys(r).reduce(function(n,p){return n[p]=r[p],n},t)},iC=function(e,t,r){var n=e.replace(/\+/g," ");if(r==="iso-8859-1")return n.replace(/%[0-9a-f]{2}/gi,unescape);try{return decodeURIComponent(n)}catch{return n}},oC=function(t,r,n,p,m){if(t.length===0)return t;var S=t;if(typeof t=="symbol"?S=Symbol.prototype.toString.call(t):typeof t!="string"&&(S=String(t)),n==="iso-8859-1")return escape(S).replace(/%u[0-9a-f]{4}/gi,function(f){return"%26%23"+parseInt(f.slice(2),16)+"%3B"});for(var h="",i=0;i<S.length;++i){var u=S.charCodeAt(i);if(u===45||u===46||u===95||u===126||u>=48&&u<=57||u>=65&&u<=90||u>=97&&u<=122||m===eC.RFC1738&&(u===40||u===41)){h+=S.charAt(i);continue}if(u<128){h=h+Kt[u];continue}if(u<2048){h=h+(Kt[192|u>>6]+Kt[128|u&63]);continue}if(u<55296||u>=57344){h=h+(Kt[224|u>>12]+Kt[128|u>>6&63]+Kt[128|u&63]);continue}i+=1,u=65536+((u&1023)<<10|S.charCodeAt(i)&1023),h+=Kt[240|u>>18]+Kt[128|u>>12&63]+Kt[128|u>>6&63]+Kt[128|u&63]}return h},sC=function(t){for(var r=[{obj:{o:t},prop:"o"}],n=[],p=0;p<r.length;++p)for(var m=r[p],S=m.obj[m.prop],h=Object.keys(S),i=0;i<h.length;++i){var u=h[i],f=S[u];typeof f=="object"&&f!==null&&n.indexOf(f)===-1&&(r.push({obj:S,prop:u}),n.push(f))}return tC(r),t},aC=function(t){return Object.prototype.toString.call(t)==="[object RegExp]"},lC=function(t){return!t||typeof t!="object"?!1:!!(t.constructor&&t.constructor.isBuffer&&t.constructor.isBuffer(t))},uC=function(t,r){return[].concat(t,r)},cC=function(t,r){if(fn(t)){for(var n=[],p=0;p<t.length;p+=1)n.push(r(t[p]));return n}return r(t)},Km={arrayToObject:qm,assign:nC,combine:uC,compact:sC,decode:iC,encode:oC,isBuffer:lC,isRegExp:aC,maybeMap:cC,merge:rC},Qm=Q1,bs=Km,no=vf,fC=Object.prototype.hasOwnProperty,Ad={brackets:function(t){return t+"[]"},comma:"comma",indices:function(t,r){return t+"["+r+"]"},repeat:function(t){return t}},cr=Array.isArray,hC=Array.prototype.push,Jm=function(e,t){hC.apply(e,cr(t)?t:[t])},dC=Date.prototype.toISOString,Dd=no.default,st={addQueryPrefix:!1,allowDots:!1,charset:"utf-8",charsetSentinel:!1,delimiter:"&",encode:!0,encoder:bs.encode,encodeValuesOnly:!1,format:Dd,formatter:no.formatters[Dd],indices:!1,serializeDate:function(t){return dC.call(t)},skipNulls:!1,strictNullHandling:!1},pC=function(t){return typeof t=="string"||typeof t=="number"||typeof t=="boolean"||typeof t=="symbol"||typeof t=="bigint"},Wl={},gC=function e(t,r,n,p,m,S,h,i,u,f,o,a,s,l,d,c){for(var g=t,v=c,y=0,_=!1;(v=v.get(Wl))!==void 0&&!_;){var w=v.get(t);if(y+=1,typeof w<"u"){if(w===y)throw new RangeError("Cyclic object value");_=!0}typeof v.get(Wl)>"u"&&(y=0)}if(typeof i=="function"?g=i(r,g):g instanceof Date?g=o(g):n==="comma"&&cr(g)&&(g=bs.maybeMap(g,function(se){return se instanceof Date?o(se):se})),g===null){if(m)return h&&!l?h(r,st.encoder,d,"key",a):r;g=""}if(pC(g)||bs.isBuffer(g)){if(h){var C=l?r:h(r,st.encoder,d,"key",a);return[s(C)+"="+s(h(g,st.encoder,d,"value",a))]}return[s(r)+"="+s(String(g))]}var x=[];if(typeof g>"u")return x;var O;if(n==="comma"&&cr(g))l&&h&&(g=bs.maybeMap(g,h)),O=[{value:g.length>0?g.join(",")||null:void 0}];else if(cr(i))O=i;else{var M=Object.keys(g);O=u?M.sort(u):M}for(var F=p&&cr(g)&&g.length===1?r+"[]":r,V=0;V<O.length;++V){var $=O[V],ne=typeof $=="object"&&typeof $.value<"u"?$.value:g[$];if(!(S&&ne===null)){var ee=cr(g)?typeof n=="function"?n(F,$):F:F+(f?"."+$:"["+$+"]");c.set(t,y);var re=Qm();re.set(Wl,c),Jm(x,e(ne,ee,n,p,m,S,n==="comma"&&l&&cr(g)?null:h,i,u,f,o,a,s,l,d,re))}}return x},mC=function(t){if(!t)return st;if(t.encoder!==null&&typeof t.encoder<"u"&&typeof t.encoder!="function")throw new TypeError("Encoder has to be a function.");var r=t.charset||st.charset;if(typeof t.charset<"u"&&t.charset!=="utf-8"&&t.charset!=="iso-8859-1")throw new TypeError("The charset option must be either utf-8, iso-8859-1, or undefined");var n=no.default;if(typeof t.format<"u"){if(!fC.call(no.formatters,t.format))throw new TypeError("Unknown format option provided.");n=t.format}var p=no.formatters[n],m=st.filter;return(typeof t.filter=="function"||cr(t.filter))&&(m=t.filter),{addQueryPrefix:typeof t.addQueryPrefix=="boolean"?t.addQueryPrefix:st.addQueryPrefix,allowDots:typeof t.allowDots>"u"?st.allowDots:!!t.allowDots,charset:r,charsetSentinel:typeof t.charsetSentinel=="boolean"?t.charsetSentinel:st.charsetSentinel,delimiter:typeof t.delimiter>"u"?st.delimiter:t.delimiter,encode:typeof t.encode=="boolean"?t.encode:st.encode,encoder:typeof t.encoder=="function"?t.encoder:st.encoder,encodeValuesOnly:typeof t.encodeValuesOnly=="boolean"?t.encodeValuesOnly:st.encodeValuesOnly,filter:m,format:n,formatter:p,serializeDate:typeof t.serializeDate=="function"?t.serializeDate:st.serializeDate,skipNulls:typeof t.skipNulls=="boolean"?t.skipNulls:st.skipNulls,sort:typeof t.sort=="function"?t.sort:null,strictNullHandling:typeof t.strictNullHandling=="boolean"?t.strictNullHandling:st.strictNullHandling}},vC=function(e,t){var r=e,n=mC(t),p,m;typeof n.filter=="function"?(m=n.filter,r=m("",r)):cr(n.filter)&&(m=n.filter,p=m);var S=[];if(typeof r!="object"||r===null)return"";var h;t&&t.arrayFormat in Ad?h=t.arrayFormat:t&&"indices"in t?h=t.indices?"indices":"repeat":h="indices";var i=Ad[h];if(t&&"commaRoundTrip"in t&&typeof t.commaRoundTrip!="boolean")throw new TypeError("`commaRoundTrip` must be a boolean, or absent");var u=i==="comma"&&t&&t.commaRoundTrip;p||(p=Object.keys(r)),n.sort&&p.sort(n.sort);for(var f=Qm(),o=0;o<p.length;++o){var a=p[o];n.skipNulls&&r[a]===null||Jm(S,gC(r[a],a,i,u,n.strictNullHandling,n.skipNulls,n.encode?n.encoder:null,n.filter,n.sort,n.allowDots,n.serializeDate,n.format,n.formatter,n.encodeValuesOnly,n.charset,f))}var s=S.join(n.delimiter),l=n.addQueryPrefix===!0?"?":"";return n.charsetSentinel&&(n.charset==="iso-8859-1"?l+="utf8=%26%2310003%3B&":l+="utf8=%E2%9C%93&"),s.length>0?l+s:""},di=Km,Zu=Object.prototype.hasOwnProperty,yC=Array.isArray,Ye={allowDots:!1,allowPrototypes:!1,allowSparse:!1,arrayLimit:20,charset:"utf-8",charsetSentinel:!1,comma:!1,decoder:di.decode,delimiter:"&",depth:5,ignoreQueryPrefix:!1,interpretNumericEntities:!1,parameterLimit:1e3,parseArrays:!0,plainObjects:!1,strictNullHandling:!1},SC=function(e){return e.replace(/&#(\d+);/g,function(t,r){return String.fromCharCode(parseInt(r,10))})},Zm=function(e,t){return e&&typeof e=="string"&&t.comma&&e.indexOf(",")>-1?e.split(","):e},_C="utf8=%26%2310003%3B",wC="utf8=%E2%9C%93",CC=function(t,r){var n={__proto__:null},p=r.ignoreQueryPrefix?t.replace(/^\?/,""):t,m=r.parameterLimit===1/0?void 0:r.parameterLimit,S=p.split(r.delimiter,m),h=-1,i,u=r.charset;if(r.charsetSentinel)for(i=0;i<S.length;++i)S[i].indexOf("utf8=")===0&&(S[i]===wC?u="utf-8":S[i]===_C&&(u="iso-8859-1"),h=i,i=S.length);for(i=0;i<S.length;++i)if(i!==h){var f=S[i],o=f.indexOf("]="),a=o===-1?f.indexOf("="):o+1,s,l;a===-1?(s=r.decoder(f,Ye.decoder,u,"key"),l=r.strictNullHandling?null:""):(s=r.decoder(f.slice(0,a),Ye.decoder,u,"key"),l=di.maybeMap(Zm(f.slice(a+1),r),function(d){return r.decoder(d,Ye.decoder,u,"value")})),l&&r.interpretNumericEntities&&u==="iso-8859-1"&&(l=SC(l)),f.indexOf("[]=")>-1&&(l=yC(l)?[l]:l),Zu.call(n,s)?n[s]=di.combine(n[s],l):n[s]=l}return n},xC=function(e,t,r,n){for(var p=n?t:Zm(t,r),m=e.length-1;m>=0;--m){var S,h=e[m];if(h==="[]"&&r.parseArrays)S=[].concat(p);else{S=r.plainObjects?Object.create(null):{};var i=h.charAt(0)==="["&&h.charAt(h.length-1)==="]"?h.slice(1,-1):h,u=parseInt(i,10);!r.parseArrays&&i===""?S={0:p}:!isNaN(u)&&h!==i&&String(u)===i&&u>=0&&r.parseArrays&&u<=r.arrayLimit?(S=[],S[u]=p):i!=="__proto__"&&(S[i]=p)}p=S}return p},TC=function(t,r,n,p){if(t){var m=n.allowDots?t.replace(/\.([^.[]+)/g,"[$1]"):t,S=/(\[[^[\]]*])/,h=/(\[[^[\]]*])/g,i=n.depth>0&&S.exec(m),u=i?m.slice(0,i.index):m,f=[];if(u){if(!n.plainObjects&&Zu.call(Object.prototype,u)&&!n.allowPrototypes)return;f.push(u)}for(var o=0;n.depth>0&&(i=h.exec(m))!==null&&o<n.depth;){if(o+=1,!n.plainObjects&&Zu.call(Object.prototype,i[1].slice(1,-1))&&!n.allowPrototypes)return;f.push(i[1])}return i&&f.push("["+m.slice(i.index)+"]"),xC(f,r,n,p)}},bC=function(t){if(!t)return Ye;if(t.decoder!==null&&t.decoder!==void 0&&typeof t.decoder!="function")throw new TypeError("Decoder has to be a function.");if(typeof t.charset<"u"&&t.charset!=="utf-8"&&t.charset!=="iso-8859-1")throw new TypeError("The charset option must be either utf-8, iso-8859-1, or undefined");var r=typeof t.charset>"u"?Ye.charset:t.charset;return{allowDots:typeof t.allowDots>"u"?Ye.allowDots:!!t.allowDots,allowPrototypes:typeof t.allowPrototypes=="boolean"?t.allowPrototypes:Ye.allowPrototypes,allowSparse:typeof t.allowSparse=="boolean"?t.allowSparse:Ye.allowSparse,arrayLimit:typeof t.arrayLimit=="number"?t.arrayLimit:Ye.arrayLimit,charset:r,charsetSentinel:typeof t.charsetSentinel=="boolean"?t.charsetSentinel:Ye.charsetSentinel,comma:typeof t.comma=="boolean"?t.comma:Ye.comma,decoder:typeof t.decoder=="function"?t.decoder:Ye.decoder,delimiter:typeof t.delimiter=="string"||di.isRegExp(t.delimiter)?t.delimiter:Ye.delimiter,depth:typeof t.depth=="number"||t.depth===!1?+t.depth:Ye.depth,ignoreQueryPrefix:t.ignoreQueryPrefix===!0,interpretNumericEntities:typeof t.interpretNumericEntities=="boolean"?t.interpretNumericEntities:Ye.interpretNumericEntities,parameterLimit:typeof t.parameterLimit=="number"?t.parameterLimit:Ye.parameterLimit,parseArrays:t.parseArrays!==!1,plainObjects:typeof t.plainObjects=="boolean"?t.plainObjects:Ye.plainObjects,strictNullHandling:typeof t.strictNullHandling=="boolean"?t.strictNullHandling:Ye.strictNullHandling}},OC=function(e,t){var r=bC(t);if(e===""||e===null||typeof e>"u")return r.plainObjects?Object.create(null):{};for(var n=typeof e=="string"?CC(e,r):e,p=r.plainObjects?Object.create(null):{},m=Object.keys(n),S=0;S<m.length;++S){var h=m[S],i=TC(h,n[h],r,typeof e=="string");p=di.merge(p,i,r)}return r.allowSparse===!0?p:di.compact(p)},EC=vC,PC=OC,kC=vf,Md={formats:kC,parse:PC,stringify:EC},ev={exports:{}};/* NProgress, (c) 2013, 2014 Rico Sta. Cruz - http://ricostacruz.com/nprogress
 * @license MIT */(function(e,t){(function(r,n){e.exports=n()})(Ni,function(){var r={};r.version="0.2.0";var n=r.settings={minimum:.08,easing:"ease",positionUsing:"",speed:200,trickle:!0,trickleRate:.02,trickleSpeed:800,showSpinner:!0,barSelector:'[role="bar"]',spinnerSelector:'[role="spinner"]',parent:"body",template:'<div class="bar" role="bar"><div class="peg"></div></div><div class="spinner" role="spinner"><div class="spinner-icon"></div></div>'};r.configure=function(l){var d,c;for(d in l)c=l[d],c!==void 0&&l.hasOwnProperty(d)&&(n[d]=c);return this},r.status=null,r.set=function(l){var d=r.isStarted();l=p(l,n.minimum,1),r.status=l===1?null:l;var c=r.render(!d),g=c.querySelector(n.barSelector),v=n.speed,y=n.easing;return c.offsetWidth,h(function(_){n.positionUsing===""&&(n.positionUsing=r.getPositioningCSS()),i(g,S(l,v,y)),l===1?(i(c,{transition:"none",opacity:1}),c.offsetWidth,setTimeout(function(){i(c,{transition:"all "+v+"ms linear",opacity:0}),setTimeout(function(){r.remove(),_()},v)},v)):setTimeout(_,v)}),this},r.isStarted=function(){return typeof r.status=="number"},r.start=function(){r.status||r.set(0);var l=function(){setTimeout(function(){r.status&&(r.trickle(),l())},n.trickleSpeed)};return n.trickle&&l(),this},r.done=function(l){return!l&&!r.status?this:r.inc(.3+.5*Math.random()).set(1)},r.inc=function(l){var d=r.status;return d?(typeof l!="number"&&(l=(1-d)*p(Math.random()*d,.1,.95)),d=p(d+l,0,.994),r.set(d)):r.start()},r.trickle=function(){return r.inc(Math.random()*n.trickleRate)},function(){var l=0,d=0;r.promise=function(c){return!c||c.state()==="resolved"?this:(d===0&&r.start(),l++,d++,c.always(function(){d--,d===0?(l=0,r.done()):r.set((l-d)/l)}),this)}}(),r.render=function(l){if(r.isRendered())return document.getElementById("nprogress");f(document.documentElement,"nprogress-busy");var d=document.createElement("div");d.id="nprogress",d.innerHTML=n.template;var c=d.querySelector(n.barSelector),g=l?"-100":m(r.status||0),v=document.querySelector(n.parent),y;return i(c,{transition:"all 0 linear",transform:"translate3d("+g+"%,0,0)"}),n.showSpinner||(y=d.querySelector(n.spinnerSelector),y&&s(y)),v!=document.body&&f(v,"nprogress-custom-parent"),v.appendChild(d),d},r.remove=function(){o(document.documentElement,"nprogress-busy"),o(document.querySelector(n.parent),"nprogress-custom-parent");var l=document.getElementById("nprogress");l&&s(l)},r.isRendered=function(){return!!document.getElementById("nprogress")},r.getPositioningCSS=function(){var l=document.body.style,d="WebkitTransform"in l?"Webkit":"MozTransform"in l?"Moz":"msTransform"in l?"ms":"OTransform"in l?"O":"";return d+"Perspective"in l?"translate3d":d+"Transform"in l?"translate":"margin"};function p(l,d,c){return l<d?d:l>c?c:l}function m(l){return(-1+l)*100}function S(l,d,c){var g;return n.positionUsing==="translate3d"?g={transform:"translate3d("+m(l)+"%,0,0)"}:n.positionUsing==="translate"?g={transform:"translate("+m(l)+"%,0)"}:g={"margin-left":m(l)+"%"},g.transition="all "+d+"ms "+c,g}var h=function(){var l=[];function d(){var c=l.shift();c&&c(d)}return function(c){l.push(c),l.length==1&&d()}}(),i=function(){var l=["Webkit","O","Moz","ms"],d={};function c(_){return _.replace(/^-ms-/,"ms-").replace(/-([\da-z])/gi,function(w,C){return C.toUpperCase()})}function g(_){var w=document.body.style;if(_ in w)return _;for(var C=l.length,x=_.charAt(0).toUpperCase()+_.slice(1),O;C--;)if(O=l[C]+x,O in w)return O;return _}function v(_){return _=c(_),d[_]||(d[_]=g(_))}function y(_,w,C){w=v(w),_.style[w]=C}return function(_,w){var C=arguments,x,O;if(C.length==2)for(x in w)O=w[x],O!==void 0&&w.hasOwnProperty(x)&&y(_,x,O);else y(_,C[1],C[2])}}();function u(l,d){var c=typeof l=="string"?l:a(l);return c.indexOf(" "+d+" ")>=0}function f(l,d){var c=a(l),g=c+d;u(c,d)||(l.className=g.substring(1))}function o(l,d){var c=a(l),g;u(l,d)&&(g=c.replace(" "+d+" "," "),l.className=g.substring(1,g.length-1))}function a(l){return(" "+(l.className||"")+" ").replace(/\s+/gi," ")}function s(l){l&&l.parentNode&&l.parentNode.removeChild(l)}return r})})(ev);var AC=ev.exports;const er=bn(AC);function tv(e,t){let r;return function(...n){clearTimeout(r),r=setTimeout(()=>e.apply(this,n),t)}}function wr(e,t){return document.dispatchEvent(new CustomEvent(`inertia:${e}`,t))}var DC=e=>wr("before",{cancelable:!0,detail:{visit:e}}),MC=e=>wr("error",{detail:{errors:e}}),FC=e=>wr("exception",{cancelable:!0,detail:{exception:e}}),Fd=e=>wr("finish",{detail:{visit:e}}),RC=e=>wr("invalid",{cancelable:!0,detail:{response:e}}),ji=e=>wr("navigate",{detail:{page:e}}),LC=e=>wr("progress",{detail:{progress:e}}),IC=e=>wr("start",{detail:{visit:e}}),jC=e=>wr("success",{detail:{page:e}});function ec(e){return e instanceof File||e instanceof Blob||e instanceof FileList&&e.length>0||e instanceof FormData&&Array.from(e.values()).some(t=>ec(t))||typeof e=="object"&&e!==null&&Object.values(e).some(t=>ec(t))}function rv(e,t=new FormData,r=null){e=e||{};for(let n in e)Object.prototype.hasOwnProperty.call(e,n)&&iv(t,nv(r,n),e[n]);return t}function nv(e,t){return e?e+"["+t+"]":t}function iv(e,t,r){if(Array.isArray(r))return Array.from(r.keys()).forEach(n=>iv(e,nv(t,n.toString()),r[n]));if(r instanceof Date)return e.append(t,r.toISOString());if(r instanceof File)return e.append(t,r,r.name);if(r instanceof Blob)return e.append(t,r);if(typeof r=="boolean")return e.append(t,r?"1":"0");if(typeof r=="string")return e.append(t,r);if(typeof r=="number")return e.append(t,`${r}`);if(r==null)return e.append(t,"");rv(r,e,t)}var BC={modal:null,listener:null,show(e){typeof e=="object"&&(e=`All Inertia requests must receive a valid Inertia response, however a plain JSON response was received.<hr>${JSON.stringify(e)}`);let t=document.createElement("html");t.innerHTML=e,t.querySelectorAll("a").forEach(n=>n.setAttribute("target","_top")),this.modal=document.createElement("div"),this.modal.style.position="fixed",this.modal.style.width="100vw",this.modal.style.height="100vh",this.modal.style.padding="50px",this.modal.style.boxSizing="border-box",this.modal.style.backgroundColor="rgba(0, 0, 0, .6)",this.modal.style.zIndex=2e5,this.modal.addEventListener("click",()=>this.hide());let r=document.createElement("iframe");if(r.style.backgroundColor="white",r.style.borderRadius="5px",r.style.width="100%",r.style.height="100%",this.modal.appendChild(r),document.body.prepend(this.modal),document.body.style.overflow="hidden",!r.contentWindow)throw new Error("iframe not yet ready.");r.contentWindow.document.open(),r.contentWindow.document.write(t.outerHTML),r.contentWindow.document.close(),this.listener=this.hideOnEscape.bind(this),document.addEventListener("keydown",this.listener)},hide(){this.modal.outerHTML="",this.modal=null,document.body.style.overflow="visible",document.removeEventListener("keydown",this.listener)},hideOnEscape(e){e.keyCode===27&&this.hide()}};function Fn(e){return new URL(e.toString(),window.location.toString())}function ov(e,t,r,n="brackets"){let p=/^https?:\/\//.test(t.toString()),m=p||t.toString().startsWith("/"),S=!m&&!t.toString().startsWith("#")&&!t.toString().startsWith("?"),h=t.toString().includes("?")||e==="get"&&Object.keys(r).length,i=t.toString().includes("#"),u=new URL(t.toString(),"http://localhost");return e==="get"&&Object.keys(r).length&&(u.search=Md.stringify(Iw(Md.parse(u.search,{ignoreQueryPrefix:!0}),r),{encodeValuesOnly:!0,arrayFormat:n}),r={}),[[p?`${u.protocol}//${u.host}`:"",m?u.pathname:"",S?u.pathname.substring(1):"",h?u.search:"",i?u.hash:""].join(""),r]}function Bi(e){return e=new URL(e.href),e.hash="",e}var Rd=typeof window>"u",NC=class{constructor(){this.visitId=null}init({initialPage:e,resolveComponent:t,swapComponent:r}){this.page=e,this.resolveComponent=t,this.swapComponent=r,this.setNavigationType(),this.clearRememberedStateOnReload(),this.isBackForwardVisit()?this.handleBackForwardVisit(this.page):this.isLocationVisit()?this.handleLocationVisit(this.page):this.handleInitialPageVisit(this.page),this.setupEventListeners()}setNavigationType(){this.navigationType=window.performance&&window.performance.getEntriesByType("navigation").length>0?window.performance.getEntriesByType("navigation")[0].type:"navigate"}clearRememberedStateOnReload(){var e;this.navigationType==="reload"&&((e=window.history.state)!=null&&e.rememberedState)&&delete window.history.state.rememberedState}handleInitialPageVisit(e){this.page.url+=window.location.hash,this.setPage(e,{preserveState:!0}).then(()=>ji(e))}setupEventListeners(){window.addEventListener("popstate",this.handlePopstateEvent.bind(this)),document.addEventListener("scroll",tv(this.handleScrollEvent.bind(this),100),!0)}scrollRegions(){return document.querySelectorAll("[scroll-region]")}handleScrollEvent(e){typeof e.target.hasAttribute=="function"&&e.target.hasAttribute("scroll-region")&&this.saveScrollPositions()}saveScrollPositions(){this.replaceState({...this.page,scrollRegions:Array.from(this.scrollRegions()).map(e=>({top:e.scrollTop,left:e.scrollLeft}))})}resetScrollPositions(){window.scrollTo(0,0),this.scrollRegions().forEach(e=>{typeof e.scrollTo=="function"?e.scrollTo(0,0):(e.scrollTop=0,e.scrollLeft=0)}),this.saveScrollPositions(),window.location.hash&&setTimeout(()=>{var e;return(e=document.getElementById(window.location.hash.slice(1)))==null?void 0:e.scrollIntoView()})}restoreScrollPositions(){this.page.scrollRegions&&this.scrollRegions().forEach((e,t)=>{let r=this.page.scrollRegions[t];if(r)typeof e.scrollTo=="function"?e.scrollTo(r.left,r.top):(e.scrollTop=r.top,e.scrollLeft=r.left);else return})}isBackForwardVisit(){return window.history.state&&this.navigationType==="back_forward"}handleBackForwardVisit(e){window.history.state.version=e.version,this.setPage(window.history.state,{preserveScroll:!0,preserveState:!0}).then(()=>{this.restoreScrollPositions(),ji(e)})}locationVisit(e,t){try{let r={preserveScroll:t};window.sessionStorage.setItem("inertiaLocationVisit",JSON.stringify(r)),window.location.href=e.href,Bi(window.location).href===Bi(e).href&&window.location.reload()}catch{return!1}}isLocationVisit(){try{return window.sessionStorage.getItem("inertiaLocationVisit")!==null}catch{return!1}}handleLocationVisit(e){var r,n;let t=JSON.parse(window.sessionStorage.getItem("inertiaLocationVisit")||"");window.sessionStorage.removeItem("inertiaLocationVisit"),e.url+=window.location.hash,e.rememberedState=((r=window.history.state)==null?void 0:r.rememberedState)??{},e.scrollRegions=((n=window.history.state)==null?void 0:n.scrollRegions)??[],this.setPage(e,{preserveScroll:t.preserveScroll,preserveState:!0}).then(()=>{t.preserveScroll&&this.restoreScrollPositions(),ji(e)})}isLocationVisitResponse(e){return!!(e&&e.status===409&&e.headers["x-inertia-location"])}isInertiaResponse(e){return!!(e!=null&&e.headers["x-inertia"])}createVisitId(){return this.visitId={},this.visitId}cancelVisit(e,{cancelled:t=!1,interrupted:r=!1}){e&&!e.completed&&!e.cancelled&&!e.interrupted&&(e.cancelToken.abort(),e.onCancel(),e.completed=!1,e.cancelled=t,e.interrupted=r,Fd(e),e.onFinish(e))}finishVisit(e){!e.cancelled&&!e.interrupted&&(e.completed=!0,e.cancelled=!1,e.interrupted=!1,Fd(e),e.onFinish(e))}resolvePreserveOption(e,t){return typeof e=="function"?e(t):e==="errors"?Object.keys(t.props.errors||{}).length>0:e}cancel(){this.activeVisit&&this.cancelVisit(this.activeVisit,{cancelled:!0})}visit(e,{method:t="get",data:r={},replace:n=!1,preserveScroll:p=!1,preserveState:m=!1,only:S=[],headers:h={},errorBag:i="",forceFormData:u=!1,onCancelToken:f=()=>{},onBefore:o=()=>{},onStart:a=()=>{},onProgress:s=()=>{},onFinish:l=()=>{},onCancel:d=()=>{},onSuccess:c=()=>{},onError:g=()=>{},queryStringArrayFormat:v="brackets"}={}){let y=typeof e=="string"?Fn(e):e;if((ec(r)||u)&&!(r instanceof FormData)&&(r=rv(r)),!(r instanceof FormData)){let[C,x]=ov(t,y,r,v);y=Fn(C),r=x}let _={url:y,method:t,data:r,replace:n,preserveScroll:p,preserveState:m,only:S,headers:h,errorBag:i,forceFormData:u,queryStringArrayFormat:v,cancelled:!1,completed:!1,interrupted:!1};if(o(_)===!1||!DC(_))return;this.activeVisit&&this.cancelVisit(this.activeVisit,{interrupted:!0}),this.saveScrollPositions();let w=this.createVisitId();this.activeVisit={..._,onCancelToken:f,onBefore:o,onStart:a,onProgress:s,onFinish:l,onCancel:d,onSuccess:c,onError:g,queryStringArrayFormat:v,cancelToken:new AbortController},f({cancel:()=>{this.activeVisit&&this.cancelVisit(this.activeVisit,{cancelled:!0})}}),IC(_),a(_),tu({method:t,url:Bi(y).href,data:t==="get"?{}:r,params:t==="get"?r:{},signal:this.activeVisit.cancelToken.signal,headers:{...h,Accept:"text/html, application/xhtml+xml","X-Requested-With":"XMLHttpRequest","X-Inertia":!0,...S.length?{"X-Inertia-Partial-Component":this.page.component,"X-Inertia-Partial-Data":S.join(",")}:{},...i&&i.length?{"X-Inertia-Error-Bag":i}:{},...this.page.version?{"X-Inertia-Version":this.page.version}:{}},onUploadProgress:C=>{r instanceof FormData&&(C.percentage=C.progress?Math.round(C.progress*100):0,LC(C),s(C))}}).then(C=>{var F;if(!this.isInertiaResponse(C))return Promise.reject({response:C});let x=C.data;S.length&&x.component===this.page.component&&(x.props={...this.page.props,...x.props}),p=this.resolvePreserveOption(p,x),m=this.resolvePreserveOption(m,x),m&&((F=window.history.state)!=null&&F.rememberedState)&&x.component===this.page.component&&(x.rememberedState=window.history.state.rememberedState);let O=y,M=Fn(x.url);return O.hash&&!M.hash&&Bi(O).href===M.href&&(M.hash=O.hash,x.url=M.href),this.setPage(x,{visitId:w,replace:n,preserveScroll:p,preserveState:m})}).then(()=>{let C=this.page.props.errors||{};if(Object.keys(C).length>0){let x=i?C[i]?C[i]:{}:C;return MC(x),g(x)}return jC(this.page),c(this.page)}).catch(C=>{if(this.isInertiaResponse(C.response))return this.setPage(C.response.data,{visitId:w});if(this.isLocationVisitResponse(C.response)){let x=Fn(C.response.headers["x-inertia-location"]),O=y;O.hash&&!x.hash&&Bi(O).href===x.href&&(x.hash=O.hash),this.locationVisit(x,p===!0)}else if(C.response)RC(C.response)&&BC.show(C.response.data);else return Promise.reject(C)}).then(()=>{this.activeVisit&&this.finishVisit(this.activeVisit)}).catch(C=>{if(!tu.isCancel(C)){let x=FC(C);if(this.activeVisit&&this.finishVisit(this.activeVisit),x)return Promise.reject(C)}})}setPage(e,{visitId:t=this.createVisitId(),replace:r=!1,preserveScroll:n=!1,preserveState:p=!1}={}){return Promise.resolve(this.resolveComponent(e.component)).then(m=>{t===this.visitId&&(e.scrollRegions=e.scrollRegions||[],e.rememberedState=e.rememberedState||{},r=r||Fn(e.url).href===window.location.href,r?this.replaceState(e):this.pushState(e),this.swapComponent({component:m,page:e,preserveState:p}).then(()=>{n||this.resetScrollPositions(),r||ji(e)}))})}pushState(e){this.page=e,window.history.pushState(e,"",e.url)}replaceState(e){this.page=e,window.history.replaceState(e,"",e.url)}handlePopstateEvent(e){if(e.state!==null){let t=e.state,r=this.createVisitId();Promise.resolve(this.resolveComponent(t.component)).then(n=>{r===this.visitId&&(this.page=t,this.swapComponent({component:n,page:t,preserveState:!1}).then(()=>{this.restoreScrollPositions(),ji(t)}))})}else{let t=Fn(this.page.url);t.hash=window.location.hash,this.replaceState({...this.page,url:t.href}),this.resetScrollPositions()}}get(e,t={},r={}){return this.visit(e,{...r,method:"get",data:t})}reload(e={}){return this.visit(window.location.href,{...e,preserveScroll:!0,preserveState:!0})}replace(e,t={}){return console.warn(`Inertia.replace() has been deprecated and will be removed in a future release. Please use Inertia.${t.method??"get"}() instead.`),this.visit(e,{preserveState:!0,...t,replace:!0})}post(e,t={},r={}){return this.visit(e,{preserveState:!0,...r,method:"post",data:t})}put(e,t={},r={}){return this.visit(e,{preserveState:!0,...r,method:"put",data:t})}patch(e,t={},r={}){return this.visit(e,{preserveState:!0,...r,method:"patch",data:t})}delete(e,t={}){return this.visit(e,{preserveState:!0,...t,method:"delete"})}remember(e,t="default"){var r;Rd||this.replaceState({...this.page,rememberedState:{...(r=this.page)==null?void 0:r.rememberedState,[t]:e}})}restore(e="default"){var t,r;if(!Rd)return(r=(t=window.history.state)==null?void 0:t.rememberedState)==null?void 0:r[e]}on(e,t){let r=n=>{let p=t(n);n.cancelable&&!n.defaultPrevented&&p===!1&&n.preventDefault()};return document.addEventListener(`inertia:${e}`,r),()=>document.removeEventListener(`inertia:${e}`,r)}},zC={buildDOMElement(e){let t=document.createElement("template");t.innerHTML=e;let r=t.content.firstChild;if(!e.startsWith("<script "))return r;let n=document.createElement("script");return n.innerHTML=r.innerHTML,r.getAttributeNames().forEach(p=>{n.setAttribute(p,r.getAttribute(p)||"")}),n},isInertiaManagedElement(e){return e.nodeType===Node.ELEMENT_NODE&&e.getAttribute("inertia")!==null},findMatchingElementIndex(e,t){let r=e.getAttribute("inertia");return r!==null?t.findIndex(n=>n.getAttribute("inertia")===r):-1},update:tv(function(e){let t=e.map(r=>this.buildDOMElement(r));Array.from(document.head.childNodes).filter(r=>this.isInertiaManagedElement(r)).forEach(r=>{var m,S;let n=this.findMatchingElementIndex(r,t);if(n===-1){(m=r==null?void 0:r.parentNode)==null||m.removeChild(r);return}let p=t.splice(n,1)[0];p&&!r.isEqualNode(p)&&((S=r==null?void 0:r.parentNode)==null||S.replaceChild(p,r))}),t.forEach(r=>document.head.appendChild(r))},1)};function UC(e,t,r){let n={},p=0;function m(){let f=p+=1;return n[f]=[],f.toString()}function S(f){f===null||Object.keys(n).indexOf(f)===-1||(delete n[f],u())}function h(f,o=[]){f!==null&&Object.keys(n).indexOf(f)>-1&&(n[f]=o),u()}function i(){let f=t(""),o={...f?{title:`<title inertia="">${f}</title>`}:{}},a=Object.values(n).reduce((s,l)=>s.concat(l),[]).reduce((s,l)=>{if(l.indexOf("<")===-1)return s;if(l.indexOf("<title ")===0){let c=l.match(/(<title [^>]+>)(.*?)(<\/title>)/);return s.title=c?`${c[1]}${t(c[2])}${c[3]}`:l,s}let d=l.match(/ inertia="[^"]+"/);return d?s[d[0]]=l:s[Object.keys(s).length]=l,s},o);return Object.values(a)}function u(){e?r(i()):zC.update(i())}return u(),{forceUpdate:u,createProvider:function(){let f=m();return{update:o=>h(f,o),disconnect:()=>S(f)}}}}var sv=null;function WC(e){document.addEventListener("inertia:start",HC.bind(null,e)),document.addEventListener("inertia:progress",VC),document.addEventListener("inertia:finish",$C)}function HC(e){sv=setTimeout(()=>er.start(),e)}function VC(e){var t;er.isStarted()&&((t=e.detail.progress)!=null&&t.percentage)&&er.set(Math.max(er.status,e.detail.progress.percentage/100*.9))}function $C(e){if(clearTimeout(sv),er.isStarted())e.detail.visit.completed?er.done():e.detail.visit.interrupted?er.set(0):e.detail.visit.cancelled&&(er.done(),er.remove());else return}function XC(e){let t=document.createElement("style");t.type="text/css",t.textContent=`
    #nprogress {
      pointer-events: none;
    }

    #nprogress .bar {
      background: ${e};

      position: fixed;
      z-index: 1031;
      top: 0;
      left: 0;

      width: 100%;
      height: 2px;
    }

    #nprogress .peg {
      display: block;
      position: absolute;
      right: 0px;
      width: 100px;
      height: 100%;
      box-shadow: 0 0 10px ${e}, 0 0 5px ${e};
      opacity: 1.0;

      -webkit-transform: rotate(3deg) translate(0px, -4px);
          -ms-transform: rotate(3deg) translate(0px, -4px);
              transform: rotate(3deg) translate(0px, -4px);
    }

    #nprogress .spinner {
      display: block;
      position: fixed;
      z-index: 1031;
      top: 15px;
      right: 15px;
    }

    #nprogress .spinner-icon {
      width: 18px;
      height: 18px;
      box-sizing: border-box;

      border: solid 2px transparent;
      border-top-color: ${e};
      border-left-color: ${e};
      border-radius: 50%;

      -webkit-animation: nprogress-spinner 400ms linear infinite;
              animation: nprogress-spinner 400ms linear infinite;
    }

    .nprogress-custom-parent {
      overflow: hidden;
      position: relative;
    }

    .nprogress-custom-parent #nprogress .spinner,
    .nprogress-custom-parent #nprogress .bar {
      position: absolute;
    }

    @-webkit-keyframes nprogress-spinner {
      0%   { -webkit-transform: rotate(0deg); }
      100% { -webkit-transform: rotate(360deg); }
    }
    @keyframes nprogress-spinner {
      0%   { transform: rotate(0deg); }
      100% { transform: rotate(360deg); }
    }
  `,document.head.appendChild(t)}function YC({delay:e=250,color:t="#29d",includeCSS:r=!0,showSpinner:n=!1}={}){WC(e),er.configure({showSpinner:n}),r&&XC(t)}function GC(e){let t=e.currentTarget.tagName.toLowerCase()==="a";return!(e.target&&(e==null?void 0:e.target).isContentEditable||e.defaultPrevented||t&&e.which>1||t&&e.altKey||t&&e.ctrlKey||t&&e.metaKey||t&&e.shiftKey)}var qr=new NC,ta={exports:{}};ta.exports;(function(e,t){var r=200,n="__lodash_hash_undefined__",p=1,m=2,S=9007199254740991,h="[object Arguments]",i="[object Array]",u="[object AsyncFunction]",f="[object Boolean]",o="[object Date]",a="[object Error]",s="[object Function]",l="[object GeneratorFunction]",d="[object Map]",c="[object Number]",g="[object Null]",v="[object Object]",y="[object Promise]",_="[object Proxy]",w="[object RegExp]",C="[object Set]",x="[object String]",O="[object Symbol]",M="[object Undefined]",F="[object WeakMap]",V="[object ArrayBuffer]",$="[object DataView]",ne="[object Float32Array]",ee="[object Float64Array]",re="[object Int8Array]",se="[object Int16Array]",ue="[object Int32Array]",H="[object Uint8Array]",T="[object Uint8ClampedArray]",P="[object Uint16Array]",A="[object Uint32Array]",D=/[\\^$.*+?()[\]{}|]/g,B=/^\[object .+?Constructor\]$/,k=/^(?:0|[1-9]\d*)$/,b={};b[ne]=b[ee]=b[re]=b[se]=b[ue]=b[H]=b[T]=b[P]=b[A]=!0,b[h]=b[i]=b[V]=b[f]=b[$]=b[o]=b[a]=b[s]=b[d]=b[c]=b[v]=b[w]=b[C]=b[x]=b[F]=!1;var R=typeof Ni=="object"&&Ni&&Ni.Object===Object&&Ni,I=typeof self=="object"&&self&&self.Object===Object&&self,W=R||I||Function("return this")(),N=t&&!t.nodeType&&t,K=N&&!0&&e&&!e.nodeType&&e,Z=K&&K.exports===N,ie=Z&&R.process,z=function(){try{return ie&&ie.binding&&ie.binding("util")}catch{}}(),j=z&&z.isTypedArray;function Y(E,L){for(var J=-1,ae=E==null?0:E.length,Ee=0,ge=[];++J<ae;){var je=E[J];L(je,J,E)&&(ge[Ee++]=je)}return ge}function G(E,L){for(var J=-1,ae=L.length,Ee=E.length;++J<ae;)E[Ee+J]=L[J];return E}function U(E,L){for(var J=-1,ae=E==null?0:E.length;++J<ae;)if(L(E[J],J,E))return!0;return!1}function Q(E,L){for(var J=-1,ae=Array(E);++J<E;)ae[J]=L(J);return ae}function oe(E){return function(L){return E(L)}}function de(E,L){return E.has(L)}function ce(E,L){return E==null?void 0:E[L]}function X(E){var L=-1,J=Array(E.size);return E.forEach(function(ae,Ee){J[++L]=[Ee,ae]}),J}function fe(E,L){return function(J){return E(L(J))}}function pe(E){var L=-1,J=Array(E.size);return E.forEach(function(ae){J[++L]=ae}),J}var me=Array.prototype,be=Function.prototype,Se=Object.prototype,We=W["__core-js_shared__"],Me=be.toString,$e=Se.hasOwnProperty,Cr=function(){var E=/[^.]+$/.exec(We&&We.keys&&We.keys.IE_PROTO||"");return E?"Symbol(src)_1."+E:""}(),St=Se.toString,Ka=RegExp("^"+Me.call($e).replace(D,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),Ci=Z?W.Buffer:void 0,Pn=W.Symbol,Lo=W.Uint8Array,Ff=Se.propertyIsEnumerable,jv=me.splice,rn=Pn?Pn.toStringTag:void 0,Rf=Object.getOwnPropertySymbols,Bv=Ci?Ci.isBuffer:void 0,Nv=fe(Object.keys,Object),Qa=kn(W,"DataView"),xi=kn(W,"Map"),Ja=kn(W,"Promise"),Za=kn(W,"Set"),el=kn(W,"WeakMap"),Ti=kn(Object,"create"),zv=sn(Qa),Uv=sn(xi),Wv=sn(Ja),Hv=sn(Za),Vv=sn(el),Lf=Pn?Pn.prototype:void 0,tl=Lf?Lf.valueOf:void 0;function nn(E){var L=-1,J=E==null?0:E.length;for(this.clear();++L<J;){var ae=E[L];this.set(ae[0],ae[1])}}function $v(){this.__data__=Ti?Ti(null):{},this.size=0}function Xv(E){var L=this.has(E)&&delete this.__data__[E];return this.size-=L?1:0,L}function Yv(E){var L=this.__data__;if(Ti){var J=L[E];return J===n?void 0:J}return $e.call(L,E)?L[E]:void 0}function Gv(E){var L=this.__data__;return Ti?L[E]!==void 0:$e.call(L,E)}function qv(E,L){var J=this.__data__;return this.size+=this.has(E)?0:1,J[E]=Ti&&L===void 0?n:L,this}nn.prototype.clear=$v,nn.prototype.delete=Xv,nn.prototype.get=Yv,nn.prototype.has=Gv,nn.prototype.set=qv;function or(E){var L=-1,J=E==null?0:E.length;for(this.clear();++L<J;){var ae=E[L];this.set(ae[0],ae[1])}}function Kv(){this.__data__=[],this.size=0}function Qv(E){var L=this.__data__,J=jo(L,E);if(J<0)return!1;var ae=L.length-1;return J==ae?L.pop():jv.call(L,J,1),--this.size,!0}function Jv(E){var L=this.__data__,J=jo(L,E);return J<0?void 0:L[J][1]}function Zv(E){return jo(this.__data__,E)>-1}function ey(E,L){var J=this.__data__,ae=jo(J,E);return ae<0?(++this.size,J.push([E,L])):J[ae][1]=L,this}or.prototype.clear=Kv,or.prototype.delete=Qv,or.prototype.get=Jv,or.prototype.has=Zv,or.prototype.set=ey;function on(E){var L=-1,J=E==null?0:E.length;for(this.clear();++L<J;){var ae=E[L];this.set(ae[0],ae[1])}}function ty(){this.size=0,this.__data__={hash:new nn,map:new(xi||or),string:new nn}}function ry(E){var L=Bo(this,E).delete(E);return this.size-=L?1:0,L}function ny(E){return Bo(this,E).get(E)}function iy(E){return Bo(this,E).has(E)}function oy(E,L){var J=Bo(this,E),ae=J.size;return J.set(E,L),this.size+=J.size==ae?0:1,this}on.prototype.clear=ty,on.prototype.delete=ry,on.prototype.get=ny,on.prototype.has=iy,on.prototype.set=oy;function Io(E){var L=-1,J=E==null?0:E.length;for(this.__data__=new on;++L<J;)this.add(E[L])}function sy(E){return this.__data__.set(E,n),this}function ay(E){return this.__data__.has(E)}Io.prototype.add=Io.prototype.push=sy,Io.prototype.has=ay;function xr(E){var L=this.__data__=new or(E);this.size=L.size}function ly(){this.__data__=new or,this.size=0}function uy(E){var L=this.__data__,J=L.delete(E);return this.size=L.size,J}function cy(E){return this.__data__.get(E)}function fy(E){return this.__data__.has(E)}function hy(E,L){var J=this.__data__;if(J instanceof or){var ae=J.__data__;if(!xi||ae.length<r-1)return ae.push([E,L]),this.size=++J.size,this;J=this.__data__=new on(ae)}return J.set(E,L),this.size=J.size,this}xr.prototype.clear=ly,xr.prototype.delete=uy,xr.prototype.get=cy,xr.prototype.has=fy,xr.prototype.set=hy;function dy(E,L){var J=No(E),ae=!J&&Py(E),Ee=!J&&!ae&&rl(E),ge=!J&&!ae&&!Ee&&Vf(E),je=J||ae||Ee||ge,Xe=je?Q(E.length,String):[],Je=Xe.length;for(var Fe in E)(L||$e.call(E,Fe))&&!(je&&(Fe=="length"||Ee&&(Fe=="offset"||Fe=="parent")||ge&&(Fe=="buffer"||Fe=="byteLength"||Fe=="byteOffset")||xy(Fe,Je)))&&Xe.push(Fe);return Xe}function jo(E,L){for(var J=E.length;J--;)if(zf(E[J][0],L))return J;return-1}function py(E,L,J){var ae=L(E);return No(E)?ae:G(ae,J(E))}function bi(E){return E==null?E===void 0?M:g:rn&&rn in Object(E)?wy(E):Ey(E)}function If(E){return Oi(E)&&bi(E)==h}function jf(E,L,J,ae,Ee){return E===L?!0:E==null||L==null||!Oi(E)&&!Oi(L)?E!==E&&L!==L:gy(E,L,J,ae,jf,Ee)}function gy(E,L,J,ae,Ee,ge){var je=No(E),Xe=No(L),Je=je?i:Tr(E),Fe=Xe?i:Tr(L);Je=Je==h?v:Je,Fe=Fe==h?v:Fe;var _t=Je==v,Nt=Fe==v,nt=Je==Fe;if(nt&&rl(E)){if(!rl(L))return!1;je=!0,_t=!1}if(nt&&!_t)return ge||(ge=new xr),je||Vf(E)?Bf(E,L,J,ae,Ee,ge):Sy(E,L,Je,J,ae,Ee,ge);if(!(J&p)){var kt=_t&&$e.call(E,"__wrapped__"),At=Nt&&$e.call(L,"__wrapped__");if(kt||At){var br=kt?E.value():E,sr=At?L.value():L;return ge||(ge=new xr),Ee(br,sr,J,ae,ge)}}return nt?(ge||(ge=new xr),_y(E,L,J,ae,Ee,ge)):!1}function my(E){if(!Hf(E)||by(E))return!1;var L=Uf(E)?Ka:B;return L.test(sn(E))}function vy(E){return Oi(E)&&Wf(E.length)&&!!b[bi(E)]}function yy(E){if(!Oy(E))return Nv(E);var L=[];for(var J in Object(E))$e.call(E,J)&&J!="constructor"&&L.push(J);return L}function Bf(E,L,J,ae,Ee,ge){var je=J&p,Xe=E.length,Je=L.length;if(Xe!=Je&&!(je&&Je>Xe))return!1;var Fe=ge.get(E);if(Fe&&ge.get(L))return Fe==L;var _t=-1,Nt=!0,nt=J&m?new Io:void 0;for(ge.set(E,L),ge.set(L,E);++_t<Xe;){var kt=E[_t],At=L[_t];if(ae)var br=je?ae(At,kt,_t,L,E,ge):ae(kt,At,_t,E,L,ge);if(br!==void 0){if(br)continue;Nt=!1;break}if(nt){if(!U(L,function(sr,an){if(!de(nt,an)&&(kt===sr||Ee(kt,sr,J,ae,ge)))return nt.push(an)})){Nt=!1;break}}else if(!(kt===At||Ee(kt,At,J,ae,ge))){Nt=!1;break}}return ge.delete(E),ge.delete(L),Nt}function Sy(E,L,J,ae,Ee,ge,je){switch(J){case $:if(E.byteLength!=L.byteLength||E.byteOffset!=L.byteOffset)return!1;E=E.buffer,L=L.buffer;case V:return!(E.byteLength!=L.byteLength||!ge(new Lo(E),new Lo(L)));case f:case o:case c:return zf(+E,+L);case a:return E.name==L.name&&E.message==L.message;case w:case x:return E==L+"";case d:var Xe=X;case C:var Je=ae&p;if(Xe||(Xe=pe),E.size!=L.size&&!Je)return!1;var Fe=je.get(E);if(Fe)return Fe==L;ae|=m,je.set(E,L);var _t=Bf(Xe(E),Xe(L),ae,Ee,ge,je);return je.delete(E),_t;case O:if(tl)return tl.call(E)==tl.call(L)}return!1}function _y(E,L,J,ae,Ee,ge){var je=J&p,Xe=Nf(E),Je=Xe.length,Fe=Nf(L),_t=Fe.length;if(Je!=_t&&!je)return!1;for(var Nt=Je;Nt--;){var nt=Xe[Nt];if(!(je?nt in L:$e.call(L,nt)))return!1}var kt=ge.get(E);if(kt&&ge.get(L))return kt==L;var At=!0;ge.set(E,L),ge.set(L,E);for(var br=je;++Nt<Je;){nt=Xe[Nt];var sr=E[nt],an=L[nt];if(ae)var $f=je?ae(an,sr,nt,L,E,ge):ae(sr,an,nt,E,L,ge);if(!($f===void 0?sr===an||Ee(sr,an,J,ae,ge):$f)){At=!1;break}br||(br=nt=="constructor")}if(At&&!br){var zo=E.constructor,Uo=L.constructor;zo!=Uo&&"constructor"in E&&"constructor"in L&&!(typeof zo=="function"&&zo instanceof zo&&typeof Uo=="function"&&Uo instanceof Uo)&&(At=!1)}return ge.delete(E),ge.delete(L),At}function Nf(E){return py(E,Dy,Cy)}function Bo(E,L){var J=E.__data__;return Ty(L)?J[typeof L=="string"?"string":"hash"]:J.map}function kn(E,L){var J=ce(E,L);return my(J)?J:void 0}function wy(E){var L=$e.call(E,rn),J=E[rn];try{E[rn]=void 0;var ae=!0}catch{}var Ee=St.call(E);return ae&&(L?E[rn]=J:delete E[rn]),Ee}var Cy=Rf?function(E){return E==null?[]:(E=Object(E),Y(Rf(E),function(L){return Ff.call(E,L)}))}:My,Tr=bi;(Qa&&Tr(new Qa(new ArrayBuffer(1)))!=$||xi&&Tr(new xi)!=d||Ja&&Tr(Ja.resolve())!=y||Za&&Tr(new Za)!=C||el&&Tr(new el)!=F)&&(Tr=function(E){var L=bi(E),J=L==v?E.constructor:void 0,ae=J?sn(J):"";if(ae)switch(ae){case zv:return $;case Uv:return d;case Wv:return y;case Hv:return C;case Vv:return F}return L});function xy(E,L){return L=L??S,!!L&&(typeof E=="number"||k.test(E))&&E>-1&&E%1==0&&E<L}function Ty(E){var L=typeof E;return L=="string"||L=="number"||L=="symbol"||L=="boolean"?E!=="__proto__":E===null}function by(E){return!!Cr&&Cr in E}function Oy(E){var L=E&&E.constructor,J=typeof L=="function"&&L.prototype||Se;return E===J}function Ey(E){return St.call(E)}function sn(E){if(E!=null){try{return Me.call(E)}catch{}try{return E+""}catch{}}return""}function zf(E,L){return E===L||E!==E&&L!==L}var Py=If(function(){return arguments}())?If:function(E){return Oi(E)&&$e.call(E,"callee")&&!Ff.call(E,"callee")},No=Array.isArray;function ky(E){return E!=null&&Wf(E.length)&&!Uf(E)}var rl=Bv||Fy;function Ay(E,L){return jf(E,L)}function Uf(E){if(!Hf(E))return!1;var L=bi(E);return L==s||L==l||L==u||L==_}function Wf(E){return typeof E=="number"&&E>-1&&E%1==0&&E<=S}function Hf(E){var L=typeof E;return E!=null&&(L=="object"||L=="function")}function Oi(E){return E!=null&&typeof E=="object"}var Vf=j?oe(j):vy;function Dy(E){return ky(E)?dy(E):yy(E)}function My(){return[]}function Fy(){return!1}e.exports=Ay})(ta,ta.exports);var qC=ta.exports;const KC=bn(qC);var av=he.createContext(void 0);av.displayName="InertiaHeadContext";var tc=av,lv=he.createContext(void 0);lv.displayName="InertiaPageContext";var rc=lv;function uv({children:e,initialPage:t,initialComponent:r,resolveComponent:n,titleCallback:p,onHeadUpdate:m}){let[S,h]=he.useState({component:r||null,page:t,key:null}),i=he.useMemo(()=>UC(typeof window>"u",p||(f=>f),m||(()=>{})),[]);if(he.useEffect(()=>{qr.init({initialPage:t,resolveComponent:n,swapComponent:async({component:f,page:o,preserveState:a})=>{h(s=>({component:f,page:o,key:a?s.key:Date.now()}))}}),qr.on("navigate",()=>i.forceUpdate())},[]),!S.component)return he.createElement(tc.Provider,{value:i},he.createElement(rc.Provider,{value:S.page},null));let u=e||(({Component:f,props:o,key:a})=>{let s=he.createElement(f,{key:a,...o});return typeof f.layout=="function"?f.layout(s):Array.isArray(f.layout)?f.layout.concat(s).reverse().reduce((l,d)=>he.createElement(d,{children:l,...o})):s});return he.createElement(tc.Provider,{value:i},he.createElement(rc.Provider,{value:S.page},u({Component:S.component,key:S.key,props:S.page.props})))}uv.displayName="Inertia";async function QC({id:e="app",resolve:t,setup:r,title:n,progress:p={},page:m,render:S}){let h=typeof window>"u",i=h?null:document.getElementById(e),u=m||JSON.parse(i.dataset.page),f=s=>Promise.resolve(t(s)).then(l=>l.default||l),o=[],a=await f(u.component).then(s=>r({el:i,App:uv,props:{initialPage:u,initialComponent:s,resolveComponent:f,titleCallback:n,onHeadUpdate:h?l=>o=l:null}}));if(!h&&p&&YC(p),h){let s=await S(he.createElement("div",{id:e,"data-page":JSON.stringify(u)},a));return{head:o,body:s}}}var JC=function({children:e,title:t}){let r=he.useContext(tc),n=he.useMemo(()=>r.createProvider(),[r]);he.useEffect(()=>()=>{n.disconnect()},[n]);function p(o){return["area","base","br","col","embed","hr","img","input","keygen","link","meta","param","source","track","wbr"].indexOf(o.type)>-1}function m(o){let a=Object.keys(o.props).reduce((s,l)=>{if(["head-key","children","dangerouslySetInnerHTML"].includes(l))return s;let d=o.props[l];return d===""?s+` ${l}`:s+` ${l}="${d}"`},"");return`<${o.type}${a}>`}function S(o){return typeof o.props.children=="string"?o.props.children:o.props.children.reduce((a,s)=>a+h(s),"")}function h(o){let a=m(o);return o.props.children&&(a+=S(o)),o.props.dangerouslySetInnerHTML&&(a+=o.props.dangerouslySetInnerHTML.__html),p(o)||(a+=`</${o.type}>`),a}function i(o){return Kf.cloneElement(o,{inertia:o.props["head-key"]!==void 0?o.props["head-key"]:""})}function u(o){return h(i(o))}function f(o){let a=Kf.Children.toArray(o).filter(s=>s).map(s=>u(s));return t&&!a.find(s=>s.startsWith("<title"))&&a.push(`<title inertia>${t}</title>`),a}return n.update(f(e)),null},KT=JC,ar=()=>{},cv=he.forwardRef(({children:e,as:t="a",data:r={},href:n,method:p="get",preserveScroll:m=!1,preserveState:S=null,replace:h=!1,only:i=[],headers:u={},queryStringArrayFormat:f="brackets",onClick:o=ar,onCancelToken:a=ar,onBefore:s=ar,onStart:l=ar,onProgress:d=ar,onFinish:c=ar,onCancel:g=ar,onSuccess:v=ar,onError:y=ar,..._},w)=>{let C=he.useCallback(M=>{o(M),GC(M)&&(M.preventDefault(),qr.visit(n,{data:r,method:p,preserveScroll:m,preserveState:S??p!=="get",replace:h,only:i,headers:u,onCancelToken:a,onBefore:s,onStart:l,onProgress:d,onFinish:c,onCancel:g,onSuccess:v,onError:y}))},[r,n,p,m,S,h,i,u,o,a,s,l,d,c,g,v,y]);t=t.toLowerCase(),p=p.toLowerCase();let[x,O]=ov(p,n||"",r,f);return n=x,r=O,t==="a"&&p!=="get"&&console.warn(`Creating POST/PUT/PATCH/DELETE <a> links is discouraged as it causes "Open Link in New Tab/Window" accessibility issues.

Please specify a more appropriate element using the "as" attribute. For example:

<Link href="${n}" method="${p}" as="button">...</Link>`),he.createElement(t,{..._,...t==="a"?{href:n}:{},ref:w,onClick:C},e)});cv.displayName="InertiaLink";var QT=cv;function Ld(e,t){let[r,n]=he.useState(()=>{let p=qr.restore(t);return p!==void 0?p:e});return he.useEffect(()=>{qr.remember(r,t)},[r,t]),[r,n]}function JT(e,t){let r=he.useRef(null),n=typeof e=="string"?e:null,[p,m]=he.useState((typeof e=="string"?t:e)||{}),S=he.useRef(null),h=he.useRef(null),[i,u]=n?Ld(p,`${n}:data`):he.useState(p),[f,o]=n?Ld({},`${n}:errors`):he.useState({}),[a,s]=he.useState(!1),[l,d]=he.useState(!1),[c,g]=he.useState(null),[v,y]=he.useState(!1),[_,w]=he.useState(!1),C=O=>O;he.useEffect(()=>(r.current=!0,()=>{r.current=!1}),[]);let x=he.useCallback((O,M,F={})=>{let V={...F,onCancelToken:$=>{if(S.current=$,F.onCancelToken)return F.onCancelToken($)},onBefore:$=>{if(y(!1),w(!1),clearTimeout(h.current),F.onBefore)return F.onBefore($)},onStart:$=>{if(d(!0),F.onStart)return F.onStart($)},onProgress:$=>{if(g($),F.onProgress)return F.onProgress($)},onSuccess:$=>{if(r.current&&(d(!1),g(null),o({}),s(!1),y(!0),w(!0),h.current=setTimeout(()=>{r.current&&w(!1)},2e3)),F.onSuccess)return F.onSuccess($)},onError:$=>{if(r.current&&(d(!1),g(null),o($),s(!0)),F.onError)return F.onError($)},onCancel:()=>{if(r.current&&(d(!1),g(null)),F.onCancel)return F.onCancel()},onFinish:()=>{if(r.current&&(d(!1),g(null)),S.current=null,F.onFinish)return F.onFinish()}};O==="delete"?qr.delete(M,{...V,data:C(i)}):qr[O](M,C(i),V)},[i,o]);return{data:i,setData(O,M){u(typeof O=="string"?{...i,[O]:M}:typeof O=="function"?F=>O(F):O)},isDirty:!KC(i,p),errors:f,hasErrors:a,processing:l,progress:c,wasSuccessful:v,recentlySuccessful:_,transform(O){C=O},setDefaults(O,M){m(typeof O>"u"?()=>i:F=>({...F,...typeof O=="string"?{[O]:M}:O}))},reset(...O){O.length===0?u(p):u(Object.keys(p).filter(M=>O.includes(M)).reduce((M,F)=>(M[F]=p[F],M),{...i}))},setError(O,M){o(F=>{let V={...F,...typeof O=="string"?{[O]:M}:O};return s(Object.keys(V).length>0),V})},clearErrors(...O){o(M=>{let F=Object.keys(M).reduce((V,$)=>({...V,...O.length>0&&!O.includes($)?{[$]:M[$]}:{}}),{});return s(Object.keys(F).length>0),F})},submit:x,get(O,M){x("get",O,M)},post(O,M){x("post",O,M)},put(O,M){x("put",O,M)},patch(O,M){x("patch",O,M)},delete(O,M){x("delete",O,M)},cancel(){S.current&&S.current.cancel()}}}function ZT(){let e=he.useContext(rc);if(!e)throw new Error("usePage must be used within the Inertia component");return e}var eb=qr;async function ZC(e,t){const r=t[e];if(typeof r>"u")throw new Error(`Page not found: ${e}`);return typeof r=="function"?r():r}var fv={exports:{}},hv={};/**
 * @license React
 * use-sync-external-store-shim.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var pi=he;function ex(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var tx=typeof Object.is=="function"?Object.is:ex,rx=pi.useState,nx=pi.useEffect,ix=pi.useLayoutEffect,ox=pi.useDebugValue;function sx(e,t){var r=t(),n=rx({inst:{value:r,getSnapshot:t}}),p=n[0].inst,m=n[1];return ix(function(){p.value=r,p.getSnapshot=t,Hl(p)&&m({inst:p})},[e,r,t]),nx(function(){return Hl(p)&&m({inst:p}),e(function(){Hl(p)&&m({inst:p})})},[e]),ox(r),r}function Hl(e){var t=e.getSnapshot;e=e.value;try{var r=t();return!tx(e,r)}catch{return!0}}function ax(e,t){return t()}var lx=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?ax:sx;hv.useSyncExternalStore=pi.useSyncExternalStore!==void 0?pi.useSyncExternalStore:lx;fv.exports=hv;var ux=fv.exports,dv={exports:{}},pv={};/**
 * @license React
 * use-sync-external-store-shim/with-selector.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Pa=he,cx=ux;function fx(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var hx=typeof Object.is=="function"?Object.is:fx,dx=cx.useSyncExternalStore,px=Pa.useRef,gx=Pa.useEffect,mx=Pa.useMemo,vx=Pa.useDebugValue;pv.useSyncExternalStoreWithSelector=function(e,t,r,n,p){var m=px(null);if(m.current===null){var S={hasValue:!1,value:null};m.current=S}else S=m.current;m=mx(function(){function i(s){if(!u){if(u=!0,f=s,s=n(s),p!==void 0&&S.hasValue){var l=S.value;if(p(l,s))return o=l}return o=s}if(l=o,hx(f,s))return l;var d=n(s);return p!==void 0&&p(l,d)?l:(f=s,o=d)}var u=!1,f,o,a=r===void 0?null:r;return[function(){return i(t())},a===null?void 0:function(){return i(a())}]},[t,r,n,p]);var h=dx(e,m[0],m[1]);return gx(function(){S.hasValue=!0,S.value=h},[h]),vx(h),h};dv.exports=pv;var yx=dv.exports;function Sx(e){e()}let gv=Sx;const _x=e=>gv=e,wx=()=>gv,Id=Symbol.for("react-redux-context"),jd=typeof globalThis<"u"?globalThis:{};function Cx(){var e;if(!he.createContext)return{};const t=(e=jd[Id])!=null?e:jd[Id]=new Map;let r=t.get(he.createContext);return r||(r=he.createContext(null),t.set(he.createContext,r)),r}const Kr=Cx();function yf(e=Kr){return function(){return he.useContext(e)}}const mv=yf(),xx=()=>{throw new Error("uSES not initialized!")};let vv=xx;const Tx=e=>{vv=e},bx=(e,t)=>e===t;function Ox(e=Kr){const t=e===Kr?mv:yf(e);return function(n,p={}){const{equalityFn:m=bx,stabilityCheck:S=void 0,noopCheck:h=void 0}=typeof p=="function"?{equalityFn:p}:p,{store:i,subscription:u,getServerState:f,stabilityCheck:o,noopCheck:a}=t();he.useRef(!0);const s=he.useCallback({[n.name](d){return n(d)}}[n.name],[n,o,S]),l=vv(u.addNestedSub,i.getState,f||i.getState,s,m);return he.useDebugValue(l),l}}const Ex=Ox();var yv={exports:{}},xe={};/** @license React v16.13.1
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Qe=typeof Symbol=="function"&&Symbol.for,Sf=Qe?Symbol.for("react.element"):60103,_f=Qe?Symbol.for("react.portal"):60106,ka=Qe?Symbol.for("react.fragment"):60107,Aa=Qe?Symbol.for("react.strict_mode"):60108,Da=Qe?Symbol.for("react.profiler"):60114,Ma=Qe?Symbol.for("react.provider"):60109,Fa=Qe?Symbol.for("react.context"):60110,wf=Qe?Symbol.for("react.async_mode"):60111,Ra=Qe?Symbol.for("react.concurrent_mode"):60111,La=Qe?Symbol.for("react.forward_ref"):60112,Ia=Qe?Symbol.for("react.suspense"):60113,Px=Qe?Symbol.for("react.suspense_list"):60120,ja=Qe?Symbol.for("react.memo"):60115,Ba=Qe?Symbol.for("react.lazy"):60116,kx=Qe?Symbol.for("react.block"):60121,Ax=Qe?Symbol.for("react.fundamental"):60117,Dx=Qe?Symbol.for("react.responder"):60118,Mx=Qe?Symbol.for("react.scope"):60119;function Pt(e){if(typeof e=="object"&&e!==null){var t=e.$$typeof;switch(t){case Sf:switch(e=e.type,e){case wf:case Ra:case ka:case Da:case Aa:case Ia:return e;default:switch(e=e&&e.$$typeof,e){case Fa:case La:case Ba:case ja:case Ma:return e;default:return t}}case _f:return t}}}function Sv(e){return Pt(e)===Ra}xe.AsyncMode=wf;xe.ConcurrentMode=Ra;xe.ContextConsumer=Fa;xe.ContextProvider=Ma;xe.Element=Sf;xe.ForwardRef=La;xe.Fragment=ka;xe.Lazy=Ba;xe.Memo=ja;xe.Portal=_f;xe.Profiler=Da;xe.StrictMode=Aa;xe.Suspense=Ia;xe.isAsyncMode=function(e){return Sv(e)||Pt(e)===wf};xe.isConcurrentMode=Sv;xe.isContextConsumer=function(e){return Pt(e)===Fa};xe.isContextProvider=function(e){return Pt(e)===Ma};xe.isElement=function(e){return typeof e=="object"&&e!==null&&e.$$typeof===Sf};xe.isForwardRef=function(e){return Pt(e)===La};xe.isFragment=function(e){return Pt(e)===ka};xe.isLazy=function(e){return Pt(e)===Ba};xe.isMemo=function(e){return Pt(e)===ja};xe.isPortal=function(e){return Pt(e)===_f};xe.isProfiler=function(e){return Pt(e)===Da};xe.isStrictMode=function(e){return Pt(e)===Aa};xe.isSuspense=function(e){return Pt(e)===Ia};xe.isValidElementType=function(e){return typeof e=="string"||typeof e=="function"||e===ka||e===Ra||e===Da||e===Aa||e===Ia||e===Px||typeof e=="object"&&e!==null&&(e.$$typeof===Ba||e.$$typeof===ja||e.$$typeof===Ma||e.$$typeof===Fa||e.$$typeof===La||e.$$typeof===Ax||e.$$typeof===Dx||e.$$typeof===Mx||e.$$typeof===kx)};xe.typeOf=Pt;yv.exports=xe;var Fx=yv.exports,Cf=Fx,Rx={childContextTypes:!0,contextType:!0,contextTypes:!0,defaultProps:!0,displayName:!0,getDefaultProps:!0,getDerivedStateFromError:!0,getDerivedStateFromProps:!0,mixins:!0,propTypes:!0,type:!0},Lx={name:!0,length:!0,prototype:!0,caller:!0,callee:!0,arguments:!0,arity:!0},Ix={$$typeof:!0,render:!0,defaultProps:!0,displayName:!0,propTypes:!0},_v={$$typeof:!0,compare:!0,defaultProps:!0,displayName:!0,propTypes:!0,type:!0},xf={};xf[Cf.ForwardRef]=Ix;xf[Cf.Memo]=_v;function Bd(e){return Cf.isMemo(e)?_v:xf[e.$$typeof]||Rx}var jx=Object.defineProperty,Bx=Object.getOwnPropertyNames,Nd=Object.getOwnPropertySymbols,Nx=Object.getOwnPropertyDescriptor,zx=Object.getPrototypeOf,zd=Object.prototype;function wv(e,t,r){if(typeof t!="string"){if(zd){var n=zx(t);n&&n!==zd&&wv(e,n,r)}var p=Bx(t);Nd&&(p=p.concat(Nd(t)));for(var m=Bd(e),S=Bd(t),h=0;h<p.length;++h){var i=p[h];if(!Lx[i]&&!(r&&r[i])&&!(S&&S[i])&&!(m&&m[i])){var u=Nx(t,i);try{jx(e,i,u)}catch{}}}}return e}var Ux=wv;const tb=bn(Ux);var Te={};/**
 * @license React
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Tf=Symbol.for("react.element"),bf=Symbol.for("react.portal"),Na=Symbol.for("react.fragment"),za=Symbol.for("react.strict_mode"),Ua=Symbol.for("react.profiler"),Wa=Symbol.for("react.provider"),Ha=Symbol.for("react.context"),Wx=Symbol.for("react.server_context"),Va=Symbol.for("react.forward_ref"),$a=Symbol.for("react.suspense"),Xa=Symbol.for("react.suspense_list"),Ya=Symbol.for("react.memo"),Ga=Symbol.for("react.lazy"),Hx=Symbol.for("react.offscreen"),Cv;Cv=Symbol.for("react.module.reference");function Bt(e){if(typeof e=="object"&&e!==null){var t=e.$$typeof;switch(t){case Tf:switch(e=e.type,e){case Na:case Ua:case za:case $a:case Xa:return e;default:switch(e=e&&e.$$typeof,e){case Wx:case Ha:case Va:case Ga:case Ya:case Wa:return e;default:return t}}case bf:return t}}}Te.ContextConsumer=Ha;Te.ContextProvider=Wa;Te.Element=Tf;Te.ForwardRef=Va;Te.Fragment=Na;Te.Lazy=Ga;Te.Memo=Ya;Te.Portal=bf;Te.Profiler=Ua;Te.StrictMode=za;Te.Suspense=$a;Te.SuspenseList=Xa;Te.isAsyncMode=function(){return!1};Te.isConcurrentMode=function(){return!1};Te.isContextConsumer=function(e){return Bt(e)===Ha};Te.isContextProvider=function(e){return Bt(e)===Wa};Te.isElement=function(e){return typeof e=="object"&&e!==null&&e.$$typeof===Tf};Te.isForwardRef=function(e){return Bt(e)===Va};Te.isFragment=function(e){return Bt(e)===Na};Te.isLazy=function(e){return Bt(e)===Ga};Te.isMemo=function(e){return Bt(e)===Ya};Te.isPortal=function(e){return Bt(e)===bf};Te.isProfiler=function(e){return Bt(e)===Ua};Te.isStrictMode=function(e){return Bt(e)===za};Te.isSuspense=function(e){return Bt(e)===$a};Te.isSuspenseList=function(e){return Bt(e)===Xa};Te.isValidElementType=function(e){return typeof e=="string"||typeof e=="function"||e===Na||e===Ua||e===za||e===$a||e===Xa||e===Hx||typeof e=="object"&&e!==null&&(e.$$typeof===Ga||e.$$typeof===Ya||e.$$typeof===Wa||e.$$typeof===Ha||e.$$typeof===Va||e.$$typeof===Cv||e.getModuleId!==void 0)};Te.typeOf=Bt;function Vx(){const e=wx();let t=null,r=null;return{clear(){t=null,r=null},notify(){e(()=>{let n=t;for(;n;)n.callback(),n=n.next})},get(){let n=[],p=t;for(;p;)n.push(p),p=p.next;return n},subscribe(n){let p=!0,m=r={callback:n,next:null,prev:r};return m.prev?m.prev.next=m:t=m,function(){!p||t===null||(p=!1,m.next?m.next.prev=m.prev:r=m.prev,m.prev?m.prev.next=m.next:t=m.next)}}}}const Ud={notify(){},get:()=>[]};function $x(e,t){let r,n=Ud;function p(o){return i(),n.subscribe(o)}function m(){n.notify()}function S(){f.onStateChange&&f.onStateChange()}function h(){return!!r}function i(){r||(r=t?t.addNestedSub(S):e.subscribe(S),n=Vx())}function u(){r&&(r(),r=void 0,n.clear(),n=Ud)}const f={addNestedSub:p,notifyNestedSubs:m,handleChangeWrapper:S,isSubscribed:h,trySubscribe:i,tryUnsubscribe:u,getListeners:()=>n};return f}const Xx=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",Yx=Xx?he.useLayoutEffect:he.useEffect;function Gx({store:e,context:t,children:r,serverState:n,stabilityCheck:p="once",noopCheck:m="once"}){const S=he.useMemo(()=>{const u=$x(e);return{store:e,subscription:u,getServerState:n?()=>n:void 0,stabilityCheck:p,noopCheck:m}},[e,n,p,m]),h=he.useMemo(()=>e.getState(),[e]);Yx(()=>{const{subscription:u}=S;return u.onStateChange=u.notifyNestedSubs,u.trySubscribe(),h!==e.getState()&&u.notifyNestedSubs(),()=>{u.tryUnsubscribe(),u.onStateChange=void 0}},[S,h]);const i=t||Kr;return he.createElement(i.Provider,{value:S},r)}function xv(e=Kr){const t=e===Kr?mv:yf(e);return function(){const{store:n}=t();return n}}const qx=xv();function Kx(e=Kr){const t=e===Kr?qx:xv(e);return function(){return t().dispatch}}const Qx=Kx();Tx(yx.useSyncExternalStoreWithSelector);_x(uf.unstable_batchedUpdates);function Vt(e){for(var t=arguments.length,r=Array(t>1?t-1:0),n=1;n<t;n++)r[n-1]=arguments[n];throw Error("[Immer] minified error nr: "+e+(r.length?" "+r.map(function(p){return"'"+p+"'"}).join(","):"")+". Find the full error at: https://bit.ly/3cXEKWf")}function Qr(e){return!!e&&!!e[Ae]}function Sr(e){var t;return!!e&&(function(r){if(!r||typeof r!="object")return!1;var n=Object.getPrototypeOf(r);if(n===null)return!0;var p=Object.hasOwnProperty.call(n,"constructor")&&n.constructor;return p===Object||typeof p=="function"&&Function.toString.call(p)===sT}(e)||Array.isArray(e)||!!e[Gd]||!!(!((t=e.constructor)===null||t===void 0)&&t[Gd])||Of(e)||Ef(e))}function Tn(e,t,r){r===void 0&&(r=!1),wi(e)===0?(r?Object.keys:ti)(e).forEach(function(n){r&&typeof n=="symbol"||t(n,e[n],e)}):e.forEach(function(n,p){return t(p,n,e)})}function wi(e){var t=e[Ae];return t?t.i>3?t.i-4:t.i:Array.isArray(e)?1:Of(e)?2:Ef(e)?3:0}function ei(e,t){return wi(e)===2?e.has(t):Object.prototype.hasOwnProperty.call(e,t)}function Jx(e,t){return wi(e)===2?e.get(t):e[t]}function Tv(e,t,r){var n=wi(e);n===2?e.set(t,r):n===3?e.add(r):e[t]=r}function bv(e,t){return e===t?e!==0||1/e==1/t:e!=e&&t!=t}function Of(e){return iT&&e instanceof Map}function Ef(e){return oT&&e instanceof Set}function cn(e){return e.o||e.t}function Pf(e){if(Array.isArray(e))return Array.prototype.slice.call(e);var t=Ev(e);delete t[Ae];for(var r=ti(t),n=0;n<r.length;n++){var p=r[n],m=t[p];m.writable===!1&&(m.writable=!0,m.configurable=!0),(m.get||m.set)&&(t[p]={configurable:!0,writable:!0,enumerable:m.enumerable,value:e[p]})}return Object.create(Object.getPrototypeOf(e),t)}function kf(e,t){return t===void 0&&(t=!1),Af(e)||Qr(e)||!Sr(e)||(wi(e)>1&&(e.set=e.add=e.clear=e.delete=Zx),Object.freeze(e),t&&Tn(e,function(r,n){return kf(n,!0)},!0)),e}function Zx(){Vt(2)}function Af(e){return e==null||typeof e!="object"||Object.isFrozen(e)}function nr(e){var t=sc[e];return t||Vt(18,e),t}function eT(e,t){sc[e]||(sc[e]=t)}function nc(){return To}function Vl(e,t){t&&(nr("Patches"),e.u=[],e.s=[],e.v=t)}function ra(e){ic(e),e.p.forEach(tT),e.p=null}function ic(e){e===To&&(To=e.l)}function Wd(e){return To={p:[],l:To,h:e,m:!0,_:0}}function tT(e){var t=e[Ae];t.i===0||t.i===1?t.j():t.g=!0}function $l(e,t){t._=t.p.length;var r=t.p[0],n=e!==void 0&&e!==r;return t.h.O||nr("ES5").S(t,e,n),n?(r[Ae].P&&(ra(t),Vt(4)),Sr(e)&&(e=na(t,e),t.l||ia(t,e)),t.u&&nr("Patches").M(r[Ae].t,e,t.u,t.s)):e=na(t,r,[]),ra(t),t.u&&t.v(t.u,t.s),e!==Ov?e:void 0}function na(e,t,r){if(Af(t))return t;var n=t[Ae];if(!n)return Tn(t,function(h,i){return Hd(e,n,t,h,i,r)},!0),t;if(n.A!==e)return t;if(!n.P)return ia(e,n.t,!0),n.t;if(!n.I){n.I=!0,n.A._--;var p=n.i===4||n.i===5?n.o=Pf(n.k):n.o,m=p,S=!1;n.i===3&&(m=new Set(p),p.clear(),S=!0),Tn(m,function(h,i){return Hd(e,n,p,h,i,r,S)}),ia(e,p,!1),r&&e.u&&nr("Patches").N(n,r,e.u,e.s)}return n.o}function Hd(e,t,r,n,p,m,S){if(Qr(p)){var h=na(e,p,m&&t&&t.i!==3&&!ei(t.R,n)?m.concat(n):void 0);if(Tv(r,n,h),!Qr(h))return;e.m=!1}else S&&r.add(p);if(Sr(p)&&!Af(p)){if(!e.h.D&&e._<1)return;na(e,p),t&&t.A.l||ia(e,p)}}function ia(e,t,r){r===void 0&&(r=!1),!e.l&&e.h.D&&e.m&&kf(t,r)}function Xl(e,t){var r=e[Ae];return(r?cn(r):e)[t]}function Vd(e,t){if(t in e)for(var r=Object.getPrototypeOf(e);r;){var n=Object.getOwnPropertyDescriptor(r,t);if(n)return n;r=Object.getPrototypeOf(r)}}function Fr(e){e.P||(e.P=!0,e.l&&Fr(e.l))}function Yl(e){e.o||(e.o=Pf(e.t))}function oc(e,t,r){var n=Of(t)?nr("MapSet").F(t,r):Ef(t)?nr("MapSet").T(t,r):e.O?function(p,m){var S=Array.isArray(p),h={i:S?1:0,A:m?m.A:nc(),P:!1,I:!1,R:{},l:m,t:p,k:null,o:null,j:null,C:!1},i=h,u=bo;S&&(i=[h],u=Vi);var f=Proxy.revocable(i,u),o=f.revoke,a=f.proxy;return h.k=a,h.j=o,a}(t,r):nr("ES5").J(t,r);return(r?r.A:nc()).p.push(n),n}function rT(e){return Qr(e)||Vt(22,e),function t(r){if(!Sr(r))return r;var n,p=r[Ae],m=wi(r);if(p){if(!p.P&&(p.i<4||!nr("ES5").K(p)))return p.t;p.I=!0,n=$d(r,m),p.I=!1}else n=$d(r,m);return Tn(n,function(S,h){p&&Jx(p.t,S)===h||Tv(n,S,t(h))}),m===3?new Set(n):n}(e)}function $d(e,t){switch(t){case 2:return new Map(e);case 3:return Array.from(e)}return Pf(e)}function nT(){function e(m,S){var h=p[m];return h?h.enumerable=S:p[m]=h={configurable:!0,enumerable:S,get:function(){var i=this[Ae];return bo.get(i,m)},set:function(i){var u=this[Ae];bo.set(u,m,i)}},h}function t(m){for(var S=m.length-1;S>=0;S--){var h=m[S][Ae];if(!h.P)switch(h.i){case 5:n(h)&&Fr(h);break;case 4:r(h)&&Fr(h)}}}function r(m){for(var S=m.t,h=m.k,i=ti(h),u=i.length-1;u>=0;u--){var f=i[u];if(f!==Ae){var o=S[f];if(o===void 0&&!ei(S,f))return!0;var a=h[f],s=a&&a[Ae];if(s?s.t!==o:!bv(a,o))return!0}}var l=!!S[Ae];return i.length!==ti(S).length+(l?0:1)}function n(m){var S=m.k;if(S.length!==m.t.length)return!0;var h=Object.getOwnPropertyDescriptor(S,S.length-1);if(h&&!h.get)return!0;for(var i=0;i<S.length;i++)if(!S.hasOwnProperty(i))return!0;return!1}var p={};eT("ES5",{J:function(m,S){var h=Array.isArray(m),i=function(f,o){if(f){for(var a=Array(o.length),s=0;s<o.length;s++)Object.defineProperty(a,""+s,e(s,!0));return a}var l=Ev(o);delete l[Ae];for(var d=ti(l),c=0;c<d.length;c++){var g=d[c];l[g]=e(g,f||!!l[g].enumerable)}return Object.create(Object.getPrototypeOf(o),l)}(h,m),u={i:h?5:4,A:S?S.A:nc(),P:!1,I:!1,R:{},l:S,t:m,k:i,o:null,g:!1,C:!1};return Object.defineProperty(i,Ae,{value:u,writable:!0}),i},S:function(m,S,h){h?Qr(S)&&S[Ae].A===m&&t(m.p):(m.u&&function i(u){if(u&&typeof u=="object"){var f=u[Ae];if(f){var o=f.t,a=f.k,s=f.R,l=f.i;if(l===4)Tn(a,function(y){y!==Ae&&(o[y]!==void 0||ei(o,y)?s[y]||i(a[y]):(s[y]=!0,Fr(f)))}),Tn(o,function(y){a[y]!==void 0||ei(a,y)||(s[y]=!1,Fr(f))});else if(l===5){if(n(f)&&(Fr(f),s.length=!0),a.length<o.length)for(var d=a.length;d<o.length;d++)s[d]=!1;else for(var c=o.length;c<a.length;c++)s[c]=!0;for(var g=Math.min(a.length,o.length),v=0;v<g;v++)a.hasOwnProperty(v)||(s[v]=!0),s[v]===void 0&&i(a[v])}}}}(m.p[0]),t(m.p))},K:function(m){return m.i===4?r(m):n(m)}})}var Xd,To,Df=typeof Symbol<"u"&&typeof Symbol("x")=="symbol",iT=typeof Map<"u",oT=typeof Set<"u",Yd=typeof Proxy<"u"&&Proxy.revocable!==void 0&&typeof Reflect<"u",Ov=Df?Symbol.for("immer-nothing"):((Xd={})["immer-nothing"]=!0,Xd),Gd=Df?Symbol.for("immer-draftable"):"__$immer_draftable",Ae=Df?Symbol.for("immer-state"):"__$immer_state",sT=""+Object.prototype.constructor,ti=typeof Reflect<"u"&&Reflect.ownKeys?Reflect.ownKeys:Object.getOwnPropertySymbols!==void 0?function(e){return Object.getOwnPropertyNames(e).concat(Object.getOwnPropertySymbols(e))}:Object.getOwnPropertyNames,Ev=Object.getOwnPropertyDescriptors||function(e){var t={};return ti(e).forEach(function(r){t[r]=Object.getOwnPropertyDescriptor(e,r)}),t},sc={},bo={get:function(e,t){if(t===Ae)return e;var r=cn(e);if(!ei(r,t))return function(p,m,S){var h,i=Vd(m,S);return i?"value"in i?i.value:(h=i.get)===null||h===void 0?void 0:h.call(p.k):void 0}(e,r,t);var n=r[t];return e.I||!Sr(n)?n:n===Xl(e.t,t)?(Yl(e),e.o[t]=oc(e.A.h,n,e)):n},has:function(e,t){return t in cn(e)},ownKeys:function(e){return Reflect.ownKeys(cn(e))},set:function(e,t,r){var n=Vd(cn(e),t);if(n!=null&&n.set)return n.set.call(e.k,r),!0;if(!e.P){var p=Xl(cn(e),t),m=p==null?void 0:p[Ae];if(m&&m.t===r)return e.o[t]=r,e.R[t]=!1,!0;if(bv(r,p)&&(r!==void 0||ei(e.t,t)))return!0;Yl(e),Fr(e)}return e.o[t]===r&&(r!==void 0||t in e.o)||Number.isNaN(r)&&Number.isNaN(e.o[t])||(e.o[t]=r,e.R[t]=!0),!0},deleteProperty:function(e,t){return Xl(e.t,t)!==void 0||t in e.t?(e.R[t]=!1,Yl(e),Fr(e)):delete e.R[t],e.o&&delete e.o[t],!0},getOwnPropertyDescriptor:function(e,t){var r=cn(e),n=Reflect.getOwnPropertyDescriptor(r,t);return n&&{writable:!0,configurable:e.i!==1||t!=="length",enumerable:n.enumerable,value:r[t]}},defineProperty:function(){Vt(11)},getPrototypeOf:function(e){return Object.getPrototypeOf(e.t)},setPrototypeOf:function(){Vt(12)}},Vi={};Tn(bo,function(e,t){Vi[e]=function(){return arguments[0]=arguments[0][0],t.apply(this,arguments)}}),Vi.deleteProperty=function(e,t){return Vi.set.call(this,e,t,void 0)},Vi.set=function(e,t,r){return bo.set.call(this,e[0],t,r,e[0])};var aT=function(){function e(r){var n=this;this.O=Yd,this.D=!0,this.produce=function(p,m,S){if(typeof p=="function"&&typeof m!="function"){var h=m;m=p;var i=n;return function(d){var c=this;d===void 0&&(d=h);for(var g=arguments.length,v=Array(g>1?g-1:0),y=1;y<g;y++)v[y-1]=arguments[y];return i.produce(d,function(_){var w;return(w=m).call.apply(w,[c,_].concat(v))})}}var u;if(typeof m!="function"&&Vt(6),S!==void 0&&typeof S!="function"&&Vt(7),Sr(p)){var f=Wd(n),o=oc(n,p,void 0),a=!0;try{u=m(o),a=!1}finally{a?ra(f):ic(f)}return typeof Promise<"u"&&u instanceof Promise?u.then(function(d){return Vl(f,S),$l(d,f)},function(d){throw ra(f),d}):(Vl(f,S),$l(u,f))}if(!p||typeof p!="object"){if((u=m(p))===void 0&&(u=p),u===Ov&&(u=void 0),n.D&&kf(u,!0),S){var s=[],l=[];nr("Patches").M(p,u,s,l),S(s,l)}return u}Vt(21,p)},this.produceWithPatches=function(p,m){if(typeof p=="function")return function(u){for(var f=arguments.length,o=Array(f>1?f-1:0),a=1;a<f;a++)o[a-1]=arguments[a];return n.produceWithPatches(u,function(s){return p.apply(void 0,[s].concat(o))})};var S,h,i=n.produce(p,m,function(u,f){S=u,h=f});return typeof Promise<"u"&&i instanceof Promise?i.then(function(u){return[u,S,h]}):[i,S,h]},typeof(r==null?void 0:r.useProxies)=="boolean"&&this.setUseProxies(r.useProxies),typeof(r==null?void 0:r.autoFreeze)=="boolean"&&this.setAutoFreeze(r.autoFreeze)}var t=e.prototype;return t.createDraft=function(r){Sr(r)||Vt(8),Qr(r)&&(r=rT(r));var n=Wd(this),p=oc(this,r,void 0);return p[Ae].C=!0,ic(n),p},t.finishDraft=function(r,n){var p=r&&r[Ae],m=p.A;return Vl(m,n),$l(void 0,m)},t.setAutoFreeze=function(r){this.D=r},t.setUseProxies=function(r){r&&!Yd&&Vt(20),this.O=r},t.applyPatches=function(r,n){var p;for(p=n.length-1;p>=0;p--){var m=n[p];if(m.path.length===0&&m.op==="replace"){r=m.value;break}}p>-1&&(n=n.slice(p+1));var S=nr("Patches").$;return Qr(r)?S(r,n):this.produce(r,function(h){return S(h,n)})},e}(),bt=new aT,Pv=bt.produce;bt.produceWithPatches.bind(bt);bt.setAutoFreeze.bind(bt);bt.setUseProxies.bind(bt);bt.applyPatches.bind(bt);bt.createDraft.bind(bt);bt.finishDraft.bind(bt);function Oo(e){"@babel/helpers - typeof";return Oo=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Oo(e)}function lT(e,t){if(Oo(e)!=="object"||e===null)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(Oo(n)!=="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function uT(e){var t=lT(e,"string");return Oo(t)==="symbol"?t:String(t)}function cT(e,t,r){return t=uT(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function qd(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(p){return Object.getOwnPropertyDescriptor(e,p).enumerable})),r.push.apply(r,n)}return r}function Kd(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?qd(Object(r),!0).forEach(function(n){cT(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):qd(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function et(e){return"Minified Redux error #"+e+"; visit https://redux.js.org/Errors?code="+e+" for the full message or use the non-minified dev environment for full errors. "}var Qd=function(){return typeof Symbol=="function"&&Symbol.observable||"@@observable"}(),Gl=function(){return Math.random().toString(36).substring(7).split("").join(".")},oa={INIT:"@@redux/INIT"+Gl(),REPLACE:"@@redux/REPLACE"+Gl(),PROBE_UNKNOWN_ACTION:function(){return"@@redux/PROBE_UNKNOWN_ACTION"+Gl()}};function fT(e){if(typeof e!="object"||e===null)return!1;for(var t=e;Object.getPrototypeOf(t)!==null;)t=Object.getPrototypeOf(t);return Object.getPrototypeOf(e)===t}function kv(e,t,r){var n;if(typeof t=="function"&&typeof r=="function"||typeof r=="function"&&typeof arguments[3]=="function")throw new Error(et(0));if(typeof t=="function"&&typeof r>"u"&&(r=t,t=void 0),typeof r<"u"){if(typeof r!="function")throw new Error(et(1));return r(kv)(e,t)}if(typeof e!="function")throw new Error(et(2));var p=e,m=t,S=[],h=S,i=!1;function u(){h===S&&(h=S.slice())}function f(){if(i)throw new Error(et(3));return m}function o(d){if(typeof d!="function")throw new Error(et(4));if(i)throw new Error(et(5));var c=!0;return u(),h.push(d),function(){if(c){if(i)throw new Error(et(6));c=!1,u();var v=h.indexOf(d);h.splice(v,1),S=null}}}function a(d){if(!fT(d))throw new Error(et(7));if(typeof d.type>"u")throw new Error(et(8));if(i)throw new Error(et(9));try{i=!0,m=p(m,d)}finally{i=!1}for(var c=S=h,g=0;g<c.length;g++){var v=c[g];v()}return d}function s(d){if(typeof d!="function")throw new Error(et(10));p=d,a({type:oa.REPLACE})}function l(){var d,c=o;return d={subscribe:function(v){if(typeof v!="object"||v===null)throw new Error(et(11));function y(){v.next&&v.next(f())}y();var _=c(y);return{unsubscribe:_}}},d[Qd]=function(){return this},d}return a({type:oa.INIT}),n={dispatch:a,subscribe:o,getState:f,replaceReducer:s},n[Qd]=l,n}function hT(e){Object.keys(e).forEach(function(t){var r=e[t],n=r(void 0,{type:oa.INIT});if(typeof n>"u")throw new Error(et(12));if(typeof r(void 0,{type:oa.PROBE_UNKNOWN_ACTION()})>"u")throw new Error(et(13))})}function dT(e){for(var t=Object.keys(e),r={},n=0;n<t.length;n++){var p=t[n];typeof e[p]=="function"&&(r[p]=e[p])}var m=Object.keys(r),S;try{hT(r)}catch(h){S=h}return function(i,u){if(i===void 0&&(i={}),S)throw S;for(var f=!1,o={},a=0;a<m.length;a++){var s=m[a],l=r[s],d=i[s],c=l(d,u);if(typeof c>"u")throw u&&u.type,new Error(et(14));o[s]=c,f=f||c!==d}return f=f||m.length!==Object.keys(i).length,f?o:i}}function Jd(e,t){return function(){return t(e.apply(this,arguments))}}function rb(e,t){if(typeof e=="function")return Jd(e,t);if(typeof e!="object"||e===null)throw new Error(et(16));var r={};for(var n in e){var p=e[n];typeof p=="function"&&(r[n]=Jd(p,t))}return r}function sa(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];return t.length===0?function(n){return n}:t.length===1?t[0]:t.reduce(function(n,p){return function(){return n(p.apply(void 0,arguments))}})}function pT(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];return function(n){return function(){var p=n.apply(void 0,arguments),m=function(){throw new Error(et(15))},S={getState:p.getState,dispatch:function(){return m.apply(void 0,arguments)}},h=t.map(function(i){return i(S)});return m=sa.apply(void 0,h)(p.dispatch),Kd(Kd({},p),{},{dispatch:m})}}}function Av(e){var t=function(n){var p=n.dispatch,m=n.getState;return function(S){return function(h){return typeof h=="function"?h(p,m,e):S(h)}}};return t}var Dv=Av();Dv.withExtraArgument=Av;const Zd=Dv;var Mv=globalThis&&globalThis.__extends||function(){var e=function(t,r){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,p){n.__proto__=p}||function(n,p){for(var m in p)Object.prototype.hasOwnProperty.call(p,m)&&(n[m]=p[m])},e(t,r)};return function(t,r){if(typeof r!="function"&&r!==null)throw new TypeError("Class extends value "+String(r)+" is not a constructor or null");e(t,r);function n(){this.constructor=t}t.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}(),gT=globalThis&&globalThis.__generator||function(e,t){var r={label:0,sent:function(){if(m[0]&1)throw m[1];return m[1]},trys:[],ops:[]},n,p,m,S;return S={next:h(0),throw:h(1),return:h(2)},typeof Symbol=="function"&&(S[Symbol.iterator]=function(){return this}),S;function h(u){return function(f){return i([u,f])}}function i(u){if(n)throw new TypeError("Generator is already executing.");for(;r;)try{if(n=1,p&&(m=u[0]&2?p.return:u[0]?p.throw||((m=p.return)&&m.call(p),0):p.next)&&!(m=m.call(p,u[1])).done)return m;switch(p=0,m&&(u=[u[0]&2,m.value]),u[0]){case 0:case 1:m=u;break;case 4:return r.label++,{value:u[1],done:!1};case 5:r.label++,p=u[1],u=[0];continue;case 7:u=r.ops.pop(),r.trys.pop();continue;default:if(m=r.trys,!(m=m.length>0&&m[m.length-1])&&(u[0]===6||u[0]===2)){r=0;continue}if(u[0]===3&&(!m||u[1]>m[0]&&u[1]<m[3])){r.label=u[1];break}if(u[0]===6&&r.label<m[1]){r.label=m[1],m=u;break}if(m&&r.label<m[2]){r.label=m[2],r.ops.push(u);break}m[2]&&r.ops.pop(),r.trys.pop();continue}u=t.call(e,r)}catch(f){u=[6,f],p=0}finally{n=m=0}if(u[0]&5)throw u[1];return{value:u[0]?u[1]:void 0,done:!0}}},gi=globalThis&&globalThis.__spreadArray||function(e,t){for(var r=0,n=t.length,p=e.length;r<n;r++,p++)e[p]=t[r];return e},mT=Object.defineProperty,vT=Object.defineProperties,yT=Object.getOwnPropertyDescriptors,ep=Object.getOwnPropertySymbols,ST=Object.prototype.hasOwnProperty,_T=Object.prototype.propertyIsEnumerable,tp=function(e,t,r){return t in e?mT(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r},$r=function(e,t){for(var r in t||(t={}))ST.call(t,r)&&tp(e,r,t[r]);if(ep)for(var n=0,p=ep(t);n<p.length;n++){var r=p[n];_T.call(t,r)&&tp(e,r,t[r])}return e},ql=function(e,t){return vT(e,yT(t))},wT=function(e,t,r){return new Promise(function(n,p){var m=function(i){try{h(r.next(i))}catch(u){p(u)}},S=function(i){try{h(r.throw(i))}catch(u){p(u)}},h=function(i){return i.done?n(i.value):Promise.resolve(i.value).then(m,S)};h((r=r.apply(e,t)).next())})},CT=typeof window<"u"&&window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__?window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__:function(){if(arguments.length!==0)return typeof arguments[0]=="object"?sa:sa.apply(null,arguments)};function xT(e){if(typeof e!="object"||e===null)return!1;var t=Object.getPrototypeOf(e);if(t===null)return!0;for(var r=t;Object.getPrototypeOf(r)!==null;)r=Object.getPrototypeOf(r);return t===r}var TT=function(e){Mv(t,e);function t(){for(var r=[],n=0;n<arguments.length;n++)r[n]=arguments[n];var p=e.apply(this,r)||this;return Object.setPrototypeOf(p,t.prototype),p}return Object.defineProperty(t,Symbol.species,{get:function(){return t},enumerable:!1,configurable:!0}),t.prototype.concat=function(){for(var r=[],n=0;n<arguments.length;n++)r[n]=arguments[n];return e.prototype.concat.apply(this,r)},t.prototype.prepend=function(){for(var r=[],n=0;n<arguments.length;n++)r[n]=arguments[n];return r.length===1&&Array.isArray(r[0])?new(t.bind.apply(t,gi([void 0],r[0].concat(this)))):new(t.bind.apply(t,gi([void 0],r.concat(this))))},t}(Array),bT=function(e){Mv(t,e);function t(){for(var r=[],n=0;n<arguments.length;n++)r[n]=arguments[n];var p=e.apply(this,r)||this;return Object.setPrototypeOf(p,t.prototype),p}return Object.defineProperty(t,Symbol.species,{get:function(){return t},enumerable:!1,configurable:!0}),t.prototype.concat=function(){for(var r=[],n=0;n<arguments.length;n++)r[n]=arguments[n];return e.prototype.concat.apply(this,r)},t.prototype.prepend=function(){for(var r=[],n=0;n<arguments.length;n++)r[n]=arguments[n];return r.length===1&&Array.isArray(r[0])?new(t.bind.apply(t,gi([void 0],r[0].concat(this)))):new(t.bind.apply(t,gi([void 0],r.concat(this))))},t}(Array);function ac(e){return Sr(e)?Pv(e,function(){}):e}function OT(e){return typeof e=="boolean"}function ET(){return function(t){return PT(t)}}function PT(e){e===void 0&&(e={});var t=e.thunk,r=t===void 0?!0:t;e.immutableCheck,e.serializableCheck;var n=new TT;return r&&(OT(r)?n.push(Zd):n.push(Zd.withExtraArgument(r.extraArgument))),n}var kT=!0;function AT(e){var t=ET(),r=e||{},n=r.reducer,p=n===void 0?void 0:n,m=r.middleware,S=m===void 0?t():m,h=r.devTools,i=h===void 0?!0:h,u=r.preloadedState,f=u===void 0?void 0:u,o=r.enhancers,a=o===void 0?void 0:o,s;if(typeof p=="function")s=p;else if(xT(p))s=dT(p);else throw new Error('"reducer" is a required argument, and must be a function or an object of functions that can be passed to combineReducers');var l=S;typeof l=="function"&&(l=l(t));var d=pT.apply(void 0,l),c=sa;i&&(c=CT($r({trace:!kT},typeof i=="object"&&i)));var g=new bT(d),v=g;Array.isArray(a)?v=gi([d],a):typeof a=="function"&&(v=a(g));var y=c.apply(void 0,v);return kv(s,f,y)}function Xr(e,t){function r(){for(var n=[],p=0;p<arguments.length;p++)n[p]=arguments[p];if(t){var m=t.apply(void 0,n);if(!m)throw new Error("prepareAction did not return an object");return $r($r({type:e,payload:m.payload},"meta"in m&&{meta:m.meta}),"error"in m&&{error:m.error})}return{type:e,payload:n[0]}}return r.toString=function(){return""+e},r.type=e,r.match=function(n){return n.type===e},r}function Fv(e){var t={},r=[],n,p={addCase:function(m,S){var h=typeof m=="string"?m:m.type;if(h in t)throw new Error("addCase cannot be called with two reducers for the same action type");return t[h]=S,p},addMatcher:function(m,S){return r.push({matcher:m,reducer:S}),p},addDefaultCase:function(m){return n=m,p}};return e(p),[t,r,n]}function DT(e){return typeof e=="function"}function MT(e,t,r,n){r===void 0&&(r=[]);var p=typeof t=="function"?Fv(t):[t,r,n],m=p[0],S=p[1],h=p[2],i;if(DT(e))i=function(){return ac(e())};else{var u=ac(e);i=function(){return u}}function f(o,a){o===void 0&&(o=i());var s=gi([m[a.type]],S.filter(function(l){var d=l.matcher;return d(a)}).map(function(l){var d=l.reducer;return d}));return s.filter(function(l){return!!l}).length===0&&(s=[h]),s.reduce(function(l,d){if(d)if(Qr(l)){var c=l,g=d(c,a);return g===void 0?l:g}else{if(Sr(l))return Pv(l,function(v){return d(v,a)});var g=d(l,a);if(g===void 0){if(l===null)return l;throw Error("A case reducer on a non-draftable value must not return undefined")}return g}return l},o)}return f.getInitialState=i,f}function FT(e,t){return e+"/"+t}function Rv(e){var t=e.name;if(!t)throw new Error("`name` is a required option for createSlice");typeof process<"u";var r=typeof e.initialState=="function"?e.initialState:ac(e.initialState),n=e.reducers||{},p=Object.keys(n),m={},S={},h={};p.forEach(function(f){var o=n[f],a=FT(t,f),s,l;"reducer"in o?(s=o.reducer,l=o.prepare):s=o,m[f]=s,S[a]=s,h[f]=l?Xr(a,l):Xr(a)});function i(){var f=typeof e.extraReducers=="function"?Fv(e.extraReducers):[e.extraReducers],o=f[0],a=o===void 0?{}:o,s=f[1],l=s===void 0?[]:s,d=f[2],c=d===void 0?void 0:d,g=$r($r({},a),S);return MT(r,function(v){for(var y in g)v.addCase(y,g[y]);for(var _=0,w=l;_<w.length;_++){var C=w[_];v.addMatcher(C.matcher,C.reducer)}c&&v.addDefaultCase(c)})}var u;return{name:t,reducer:function(f,o){return u||(u=i()),u(f,o)},actions:h,caseReducers:m,getInitialState:function(){return u||(u=i()),u.getInitialState()}}}var RT="ModuleSymbhasOwnPr-0123456789ABCDEFGHNRVfgctiUvz_KqYTJkLxpZXIjQW",LT=function(e){e===void 0&&(e=21);for(var t="",r=e;r--;)t+=RT[Math.random()*64|0];return t},IT=["name","message","stack","code"],Kl=function(){function e(t,r){this.payload=t,this.meta=r}return e}(),rp=function(){function e(t,r){this.payload=t,this.meta=r}return e}(),jT=function(e){if(typeof e=="object"&&e!==null){for(var t={},r=0,n=IT;r<n.length;r++){var p=n[r];typeof e[p]=="string"&&(t[p]=e[p])}return t}return{message:String(e)}};(function(){function e(t,r,n){var p=Xr(t+"/fulfilled",function(u,f,o,a){return{payload:u,meta:ql($r({},a||{}),{arg:o,requestId:f,requestStatus:"fulfilled"})}}),m=Xr(t+"/pending",function(u,f,o){return{payload:void 0,meta:ql($r({},o||{}),{arg:f,requestId:u,requestStatus:"pending"})}}),S=Xr(t+"/rejected",function(u,f,o,a,s){return{payload:a,error:(n&&n.serializeError||jT)(u||"Rejected"),meta:ql($r({},s||{}),{arg:o,requestId:f,rejectedWithValue:!!a,requestStatus:"rejected",aborted:(u==null?void 0:u.name)==="AbortError",condition:(u==null?void 0:u.name)==="ConditionError"})}}),h=typeof AbortController<"u"?AbortController:function(){function u(){this.signal={aborted:!1,addEventListener:function(){},dispatchEvent:function(){return!1},onabort:function(){},removeEventListener:function(){},reason:void 0,throwIfAborted:function(){}}}return u.prototype.abort=function(){},u}();function i(u){return function(f,o,a){var s=n!=null&&n.idGenerator?n.idGenerator(u):LT(),l=new h,d;function c(v){d=v,l.abort()}var g=function(){return wT(this,null,function(){var v,y,_,w,C,x,O;return gT(this,function(M){switch(M.label){case 0:return M.trys.push([0,4,,5]),w=(v=n==null?void 0:n.condition)==null?void 0:v.call(n,u,{getState:o,extra:a}),NT(w)?[4,w]:[3,2];case 1:w=M.sent(),M.label=2;case 2:if(w===!1||l.signal.aborted)throw{name:"ConditionError",message:"Aborted due to condition callback returning false."};return C=new Promise(function(F,V){return l.signal.addEventListener("abort",function(){return V({name:"AbortError",message:d||"Aborted"})})}),f(m(s,u,(y=n==null?void 0:n.getPendingMeta)==null?void 0:y.call(n,{requestId:s,arg:u},{getState:o,extra:a}))),[4,Promise.race([C,Promise.resolve(r(u,{dispatch:f,getState:o,extra:a,requestId:s,signal:l.signal,abort:c,rejectWithValue:function(F,V){return new Kl(F,V)},fulfillWithValue:function(F,V){return new rp(F,V)}})).then(function(F){if(F instanceof Kl)throw F;return F instanceof rp?p(F.payload,s,u,F.meta):p(F,s,u)})])];case 3:return _=M.sent(),[3,5];case 4:return x=M.sent(),_=x instanceof Kl?S(null,s,u,x.payload,x.meta):S(x,s,u),[3,5];case 5:return O=n&&!n.dispatchConditionRejection&&S.match(_)&&_.meta.condition,O||f(_),[2,_]}})})}();return Object.assign(g,{abort:c,requestId:s,arg:u,unwrap:function(){return g.then(BT)}})}}return Object.assign(i,{pending:m,rejected:S,fulfilled:p,typePrefix:t})}return e.withTypes=function(){return e},e})();function BT(e){if(e.meta&&e.meta.rejectedWithValue)throw e.payload;if(e.error)throw e.error;return e.payload}function NT(e){return e!==null&&typeof e=="object"&&typeof e.then=="function"}var Mf="listenerMiddleware";Xr(Mf+"/add");Xr(Mf+"/removeAll");Xr(Mf+"/remove");var np;typeof queueMicrotask=="function"&&queueMicrotask.bind(typeof window<"u"?window:typeof global<"u"?global:globalThis);nT();const zT={bgColor:"#2a0052",brushColor:"red",brushWidth:30,brushShadow:null,activeThread:0,isAllPlaying:!1,canvasJson:null,isFrameForwarding:!0},Lv=Rv({initialState:zT,name:"editor_slice",reducers:{setBgColor:(e,t)=>{e.bgColor=t.payload},setBrushColor:(e,t)=>{e.brushColor=t.payload},setActiveThread:(e,t)=>{e.activeThread=t.payload},setBrushWidth:(e,t)=>{e.brushWidth=t.payload},setBrushShadow:(e,t)=>{e.brushShadow=t.payload},popJsonFromFrame:(e,t)=>{},setCanvasJson:(e,t)=>{e.canvasJson=t.payload}}}),{actions:nb}=Lv,UT={isBgColorConrols:!1,drawTool:"brush",isThreadShow:!1,threadLayersView:"Current",orientation:"Landscape",isResized:!1,currentControl:null,isRecording:!1,isCanvasLoaded:!1,isUndoAble:!1,isRedoAble:!1,isMouseDown:!1},Iv=Rv({initialState:UT,name:"ui_slice",reducers:{changeBgColorControl:e=>{e.isBgColorConrols=!e.isBgColorConrols},setDrawTool:(e,t)=>{e.drawTool=t.payload},showThreadWheel:e=>{e.isThreadShow=!0},hideThreadWheel:e=>{e.isThreadShow=!1},setThreadLayersView:(e,t)=>{e.threadLayersView=t.payload},setOrientation:(e,t)=>{e.orientation=t.payload},setWindowResized:e=>{e.isResized=!e.isResized},setCanvasLoaded:e=>{e.isCanvasLoaded=!0},setCurrentControl:(e,t)=>{e.currentControl=t.payload},startRecording:e=>{e.isRecording=!0},stopRecording:e=>{e.isRecording=!1},enableUndo:e=>{e.isUndoAble=!0},enableRedo:e=>{e.isRedoAble=!0},disableUndo:e=>{e.isUndoAble=!1},disableRedo:e=>{e.isRedoAble=!1},setMouseDown:e=>{e.isMouseDown=!0},setMouseUp:e=>{e.isMouseDown=!1}}}),{actions:ib}=Iv,WT=AT({reducer:{editorSlice:Lv.reducer,uiSlice:Iv.reducer}}),ob=()=>Qx(),sb=Ex;var qa={};(function(e){/*! Fabric.js Copyright 2008-2015, Printio (Juriy Zaytsev, Maxim Chernyak) */var t=t||{version:"5.3.0"};if(e.fabric=t,typeof document<"u"&&typeof window<"u")document instanceof(typeof HTMLDocument<"u"?HTMLDocument:Document)?t.document=document:t.document=document.implementation.createHTMLDocument(""),t.window=window;else{var r=Ts,n=new r.JSDOM(decodeURIComponent("%3C!DOCTYPE%20html%3E%3Chtml%3E%3Chead%3E%3C%2Fhead%3E%3Cbody%3E%3C%2Fbody%3E%3C%2Fhtml%3E"),{features:{FetchExternalResources:["img"]},resources:"usable"}).window;t.document=n.document,t.jsdomImplForWrapper=Ts.implForWrapper,t.nodeCanvas=Ts.Canvas,t.window=n,DOMParser=t.window.DOMParser}t.isTouchSupported="ontouchstart"in t.window||"ontouchstart"in t.document||t.window&&t.window.navigator&&t.window.navigator.maxTouchPoints>0,t.isLikelyNode=typeof Buffer<"u"&&typeof window>"u",t.SHARED_ATTRIBUTES=["display","transform","fill","fill-opacity","fill-rule","opacity","stroke","stroke-dasharray","stroke-linecap","stroke-dashoffset","stroke-linejoin","stroke-miterlimit","stroke-opacity","stroke-width","id","paint-order","vector-effect","instantiated_by_use","clip-path"],t.DPI=96,t.reNum="(?:[-+]?(?:\\d+|\\d*\\.\\d+)(?:[eE][-+]?\\d+)?)",t.commaWsp="(?:\\s+,?\\s*|,\\s*)",t.rePathCommand=/([-+]?((\d+\.\d+)|((\d+)|(\.\d+)))(?:[eE][-+]?\d+)?)/ig,t.reNonWord=/[ \n\.,;!\?\-]/,t.fontPaths={},t.iMatrix=[1,0,0,1,0,0],t.svgNS="http://www.w3.org/2000/svg",t.perfLimitSizeTotal=2097152,t.maxCacheSideLimit=4096,t.minCacheSideLimit=256,t.charWidthsCache={},t.textureSize=2048,t.disableStyleCopyPaste=!1,t.enableGLFiltering=!0,t.devicePixelRatio=t.window.devicePixelRatio||t.window.webkitDevicePixelRatio||t.window.mozDevicePixelRatio||1,t.browserShadowBlurConstant=1,t.arcToSegmentsCache={},t.boundsOfCurveCache={},t.cachesBoundsOfCurve=!0,t.forceGLPutImageData=!1,t.initFilterBackend=function(){if(t.enableGLFiltering&&t.isWebglSupported&&t.isWebglSupported(t.textureSize))return console.log("max texture size: "+t.maxTextureSize),new t.WebglFilterBackend({tileSize:t.textureSize});if(t.Canvas2dFilterBackend)return new t.Canvas2dFilterBackend},typeof document<"u"&&typeof window<"u"&&(window.fabric=t),function(){function h(s,l){if(this.__eventListeners[s]){var d=this.__eventListeners[s];l?d[d.indexOf(l)]=!1:t.util.array.fill(d,!1)}}function i(s,l){if(this.__eventListeners||(this.__eventListeners={}),arguments.length===1)for(var d in s)this.on(d,s[d]);else this.__eventListeners[s]||(this.__eventListeners[s]=[]),this.__eventListeners[s].push(l);return this}function u(s,l){var d=(function(){l.apply(this,arguments),this.off(s,d)}).bind(this);this.on(s,d)}function f(s,l){if(arguments.length===1)for(var d in s)u.call(this,d,s[d]);else u.call(this,s,l);return this}function o(s,l){if(!this.__eventListeners)return this;if(arguments.length===0)for(s in this.__eventListeners)h.call(this,s);else if(arguments.length===1&&typeof arguments[0]=="object")for(var d in s)h.call(this,d,s[d]);else h.call(this,s,l);return this}function a(s,l){if(!this.__eventListeners)return this;var d=this.__eventListeners[s];if(!d)return this;for(var c=0,g=d.length;c<g;c++)d[c]&&d[c].call(this,l||{});return this.__eventListeners[s]=d.filter(function(v){return v!==!1}),this}t.Observable={fire:a,on:i,once:f,off:o}}(),t.Collection={_objects:[],add:function(){if(this._objects.push.apply(this._objects,arguments),this._onObjectAdded)for(var h=0,i=arguments.length;h<i;h++)this._onObjectAdded(arguments[h]);return this.renderOnAddRemove&&this.requestRenderAll(),this},insertAt:function(h,i,u){var f=this._objects;return u?f[i]=h:f.splice(i,0,h),this._onObjectAdded&&this._onObjectAdded(h),this.renderOnAddRemove&&this.requestRenderAll(),this},remove:function(){for(var h=this._objects,i,u=!1,f=0,o=arguments.length;f<o;f++)i=h.indexOf(arguments[f]),i!==-1&&(u=!0,h.splice(i,1),this._onObjectRemoved&&this._onObjectRemoved(arguments[f]));return this.renderOnAddRemove&&u&&this.requestRenderAll(),this},forEachObject:function(h,i){for(var u=this.getObjects(),f=0,o=u.length;f<o;f++)h.call(i,u[f],f,u);return this},getObjects:function(h){return typeof h>"u"?this._objects.concat():this._objects.filter(function(i){return i.type===h})},item:function(h){return this._objects[h]},isEmpty:function(){return this._objects.length===0},size:function(){return this._objects.length},contains:function(h,i){return this._objects.indexOf(h)>-1?!0:i?this._objects.some(function(u){return typeof u.contains=="function"&&u.contains(h,!0)}):!1},complexity:function(){return this._objects.reduce(function(h,i){return h+=i.complexity?i.complexity():0,h},0)}},t.CommonMethods={_setOptions:function(h){for(var i in h)this.set(i,h[i])},_initGradient:function(h,i){h&&h.colorStops&&!(h instanceof t.Gradient)&&this.set(i,new t.Gradient(h))},_initPattern:function(h,i,u){h&&h.source&&!(h instanceof t.Pattern)?this.set(i,new t.Pattern(h,u)):u&&u()},_setObject:function(h){for(var i in h)this._set(i,h[i])},set:function(h,i){return typeof h=="object"?this._setObject(h):this._set(h,i),this},_set:function(h,i){this[h]=i},toggle:function(h){var i=this.get(h);return typeof i=="boolean"&&this.set(h,!i),this},get:function(h){return this[h]}},function(h){var i=Math.sqrt,u=Math.atan2,f=Math.pow,o=Math.PI/180,a=Math.PI/2;t.util={cos:function(s){if(s===0)return 1;s<0&&(s=-s);var l=s/a;switch(l){case 1:case 3:return 0;case 2:return-1}return Math.cos(s)},sin:function(s){if(s===0)return 0;var l=s/a,d=1;switch(s<0&&(d=-1),l){case 1:return d;case 2:return 0;case 3:return-d}return Math.sin(s)},removeFromArray:function(s,l){var d=s.indexOf(l);return d!==-1&&s.splice(d,1),s},getRandomInt:function(s,l){return Math.floor(Math.random()*(l-s+1))+s},degreesToRadians:function(s){return s*o},radiansToDegrees:function(s){return s/o},rotatePoint:function(s,l,d){var c=new t.Point(s.x-l.x,s.y-l.y),g=t.util.rotateVector(c,d);return new t.Point(g.x,g.y).addEquals(l)},rotateVector:function(s,l){var d=t.util.sin(l),c=t.util.cos(l),g=s.x*c-s.y*d,v=s.x*d+s.y*c;return{x:g,y:v}},createVector:function(s,l){return new t.Point(l.x-s.x,l.y-s.y)},calcAngleBetweenVectors:function(s,l){return Math.acos((s.x*l.x+s.y*l.y)/(Math.hypot(s.x,s.y)*Math.hypot(l.x,l.y)))},getHatVector:function(s){return new t.Point(s.x,s.y).multiply(1/Math.hypot(s.x,s.y))},getBisector:function(s,l,d){var c=t.util.createVector(s,l),g=t.util.createVector(s,d),v=t.util.calcAngleBetweenVectors(c,g),y=t.util.calcAngleBetweenVectors(t.util.rotateVector(c,v),g),_=v*(y===0?1:-1)/2;return{vector:t.util.getHatVector(t.util.rotateVector(c,_)),angle:v}},projectStrokeOnPoints:function(s,l,d){var c=[],g=l.strokeWidth/2,v=l.strokeUniform?new t.Point(1/l.scaleX,1/l.scaleY):new t.Point(1,1),y=function(_){var w=g/Math.hypot(_.x,_.y);return new t.Point(_.x*w*v.x,_.y*w*v.y)};return s.length<=1||s.forEach(function(_,w){var C=new t.Point(_.x,_.y),x,O;w===0?(O=s[w+1],x=d?y(t.util.createVector(O,C)).addEquals(C):s[s.length-1]):w===s.length-1?(x=s[w-1],O=d?y(t.util.createVector(x,C)).addEquals(C):s[0]):(x=s[w-1],O=s[w+1]);var M=t.util.getBisector(C,x,O),F=M.vector,V=M.angle,$,ne;if(l.strokeLineJoin==="miter"&&($=-g/Math.sin(V/2),ne=new t.Point(F.x*$*v.x,F.y*$*v.y),Math.hypot(ne.x,ne.y)/g<=l.strokeMiterLimit)){c.push(C.add(ne)),c.push(C.subtract(ne));return}$=-g*Math.SQRT2,ne=new t.Point(F.x*$*v.x,F.y*$*v.y),c.push(C.add(ne)),c.push(C.subtract(ne))}),c},transformPoint:function(s,l,d){return d?new t.Point(l[0]*s.x+l[2]*s.y,l[1]*s.x+l[3]*s.y):new t.Point(l[0]*s.x+l[2]*s.y+l[4],l[1]*s.x+l[3]*s.y+l[5])},makeBoundingBoxFromPoints:function(s,l){if(l)for(var d=0;d<s.length;d++)s[d]=t.util.transformPoint(s[d],l);var c=[s[0].x,s[1].x,s[2].x,s[3].x],g=t.util.array.min(c),v=t.util.array.max(c),y=v-g,_=[s[0].y,s[1].y,s[2].y,s[3].y],w=t.util.array.min(_),C=t.util.array.max(_),x=C-w;return{left:g,top:w,width:y,height:x}},invertTransform:function(s){var l=1/(s[0]*s[3]-s[1]*s[2]),d=[l*s[3],-l*s[1],-l*s[2],l*s[0]],c=t.util.transformPoint({x:s[4],y:s[5]},d,!0);return d[4]=-c.x,d[5]=-c.y,d},toFixed:function(s,l){return parseFloat(Number(s).toFixed(l))},parseUnit:function(s,l){var d=/\D{0,2}$/.exec(s),c=parseFloat(s);switch(l||(l=t.Text.DEFAULT_SVG_FONT_SIZE),d[0]){case"mm":return c*t.DPI/25.4;case"cm":return c*t.DPI/2.54;case"in":return c*t.DPI;case"pt":return c*t.DPI/72;case"pc":return c*t.DPI/72*12;case"em":return c*l;default:return c}},falseFunction:function(){return!1},getKlass:function(s,l){return s=t.util.string.camelize(s.charAt(0).toUpperCase()+s.slice(1)),t.util.resolveNamespace(l)[s]},getSvgAttributes:function(s){var l=["instantiated_by_use","style","id","class"];switch(s){case"linearGradient":l=l.concat(["x1","y1","x2","y2","gradientUnits","gradientTransform"]);break;case"radialGradient":l=l.concat(["gradientUnits","gradientTransform","cx","cy","r","fx","fy","fr"]);break;case"stop":l=l.concat(["offset","stop-color","stop-opacity"]);break}return l},resolveNamespace:function(s){if(!s)return t;var l=s.split("."),d=l.length,c,g=h||t.window;for(c=0;c<d;++c)g=g[l[c]];return g},loadImage:function(s,l,d,c){if(!s){l&&l.call(d,s);return}var g=t.util.createImage(),v=function(){l&&l.call(d,g,!1),g=g.onload=g.onerror=null};g.onload=v,g.onerror=function(){t.log("Error loading "+g.src),l&&l.call(d,null,!0),g=g.onload=g.onerror=null},s.indexOf("data")!==0&&c!==void 0&&c!==null&&(g.crossOrigin=c),s.substring(0,14)==="data:image/svg"&&(g.onload=null,t.util.loadImageInDom(g,v)),g.src=s},loadImageInDom:function(s,l){var d=t.document.createElement("div");d.style.width=d.style.height="1px",d.style.left=d.style.top="-100%",d.style.position="absolute",d.appendChild(s),t.document.querySelector("body").appendChild(d),s.onload=function(){l(),d.parentNode.removeChild(d),d=null}},enlivenObjects:function(s,l,d,c){s=s||[];var g=[],v=0,y=s.length;function _(){++v===y&&l&&l(g.filter(function(w){return w}))}if(!y){l&&l(g);return}s.forEach(function(w,C){if(!w||!w.type){_();return}var x=t.util.getKlass(w.type,d);x.fromObject(w,function(O,M){M||(g[C]=O),c&&c(w,O,M),_()})})},enlivenObjectEnlivables:function(s,l,d){var c=t.Object.ENLIVEN_PROPS.filter(function(g){return!!s[g]});t.util.enlivenObjects(c.map(function(g){return s[g]}),function(g){var v={};c.forEach(function(y,_){v[y]=g[_],l&&(l[y]=g[_])}),d&&d(v)})},enlivenPatterns:function(s,l){s=s||[];function d(){++g===v&&l&&l(c)}var c=[],g=0,v=s.length;if(!v){l&&l(c);return}s.forEach(function(y,_){y&&y.source?new t.Pattern(y,function(w){c[_]=w,d()}):(c[_]=y,d())})},groupSVGElements:function(s,l,d){var c;return s&&s.length===1?(typeof d<"u"&&(s[0].sourcePath=d),s[0]):(l&&(l.width&&l.height?l.centerPoint={x:l.width/2,y:l.height/2}:(delete l.width,delete l.height)),c=new t.Group(s,l),typeof d<"u"&&(c.sourcePath=d),c)},populateWithProperties:function(s,l,d){if(d&&Array.isArray(d))for(var c=0,g=d.length;c<g;c++)d[c]in s&&(l[d[c]]=s[d[c]])},createCanvasElement:function(){return t.document.createElement("canvas")},copyCanvasElement:function(s){var l=t.util.createCanvasElement();return l.width=s.width,l.height=s.height,l.getContext("2d").drawImage(s,0,0),l},toDataURL:function(s,l,d){return s.toDataURL("image/"+l,d)},createImage:function(){return t.document.createElement("img")},multiplyTransformMatrices:function(s,l,d){return[s[0]*l[0]+s[2]*l[1],s[1]*l[0]+s[3]*l[1],s[0]*l[2]+s[2]*l[3],s[1]*l[2]+s[3]*l[3],d?0:s[0]*l[4]+s[2]*l[5]+s[4],d?0:s[1]*l[4]+s[3]*l[5]+s[5]]},qrDecompose:function(s){var l=u(s[1],s[0]),d=f(s[0],2)+f(s[1],2),c=i(d),g=(s[0]*s[3]-s[2]*s[1])/c,v=u(s[0]*s[2]+s[1]*s[3],d);return{angle:l/o,scaleX:c,scaleY:g,skewX:v/o,skewY:0,translateX:s[4],translateY:s[5]}},calcRotateMatrix:function(s){if(!s.angle)return t.iMatrix.concat();var l=t.util.degreesToRadians(s.angle),d=t.util.cos(l),c=t.util.sin(l);return[d,c,-c,d,0,0]},calcDimensionsMatrix:function(s){var l=typeof s.scaleX>"u"?1:s.scaleX,d=typeof s.scaleY>"u"?1:s.scaleY,c=[s.flipX?-l:l,0,0,s.flipY?-d:d,0,0],g=t.util.multiplyTransformMatrices,v=t.util.degreesToRadians;return s.skewX&&(c=g(c,[1,0,Math.tan(v(s.skewX)),1],!0)),s.skewY&&(c=g(c,[1,Math.tan(v(s.skewY)),0,1],!0)),c},composeMatrix:function(s){var l=[1,0,0,1,s.translateX||0,s.translateY||0],d=t.util.multiplyTransformMatrices;return s.angle&&(l=d(l,t.util.calcRotateMatrix(s))),(s.scaleX!==1||s.scaleY!==1||s.skewX||s.skewY||s.flipX||s.flipY)&&(l=d(l,t.util.calcDimensionsMatrix(s))),l},resetObjectTransform:function(s){s.scaleX=1,s.scaleY=1,s.skewX=0,s.skewY=0,s.flipX=!1,s.flipY=!1,s.rotate(0)},saveObjectTransform:function(s){return{scaleX:s.scaleX,scaleY:s.scaleY,skewX:s.skewX,skewY:s.skewY,angle:s.angle,left:s.left,flipX:s.flipX,flipY:s.flipY,top:s.top}},isTransparent:function(s,l,d,c){c>0&&(l>c?l-=c:l=0,d>c?d-=c:d=0);var g=!0,v,y,_=s.getImageData(l,d,c*2||1,c*2||1),w=_.data.length;for(v=3;v<w&&(y=_.data[v],g=y<=0,g!==!1);v+=4);return _=null,g},parsePreserveAspectRatioAttribute:function(s){var l="meet",d="Mid",c="Mid",g=s.split(" "),v;return g&&g.length&&(l=g.pop(),l!=="meet"&&l!=="slice"?(v=l,l="meet"):g.length&&(v=g.pop())),d=v!=="none"?v.slice(1,4):"none",c=v!=="none"?v.slice(5,8):"none",{meetOrSlice:l,alignX:d,alignY:c}},clearFabricFontCache:function(s){s=(s||"").toLowerCase(),s?t.charWidthsCache[s]&&delete t.charWidthsCache[s]:t.charWidthsCache={}},limitDimsByArea:function(s,l){var d=Math.sqrt(l*s),c=Math.floor(l/d);return{x:Math.floor(d),y:c}},capValue:function(s,l,d){return Math.max(s,Math.min(l,d))},findScaleToFit:function(s,l){return Math.min(l.width/s.width,l.height/s.height)},findScaleToCover:function(s,l){return Math.max(l.width/s.width,l.height/s.height)},matrixToSVG:function(s){return"matrix("+s.map(function(l){return t.util.toFixed(l,t.Object.NUM_FRACTION_DIGITS)}).join(" ")+")"},removeTransformFromObject:function(s,l){var d=t.util.invertTransform(l),c=t.util.multiplyTransformMatrices(d,s.calcOwnMatrix());t.util.applyTransformToObject(s,c)},addTransformToObject:function(s,l){t.util.applyTransformToObject(s,t.util.multiplyTransformMatrices(l,s.calcOwnMatrix()))},applyTransformToObject:function(s,l){var d=t.util.qrDecompose(l),c=new t.Point(d.translateX,d.translateY);s.flipX=!1,s.flipY=!1,s.set("scaleX",d.scaleX),s.set("scaleY",d.scaleY),s.skewX=d.skewX,s.skewY=d.skewY,s.angle=d.angle,s.setPositionByOrigin(c,"center","center")},sizeAfterTransform:function(s,l,d){var c=s/2,g=l/2,v=[{x:-c,y:-g},{x:c,y:-g},{x:-c,y:g},{x:c,y:g}],y=t.util.calcDimensionsMatrix(d),_=t.util.makeBoundingBoxFromPoints(v,y);return{x:_.width,y:_.height}},mergeClipPaths:function(s,l){var d=s,c=l;d.inverted&&!c.inverted&&(d=l,c=s),t.util.applyTransformToObject(c,t.util.multiplyTransformMatrices(t.util.invertTransform(d.calcTransformMatrix()),c.calcTransformMatrix()));var g=d.inverted&&c.inverted;return g&&(d.inverted=c.inverted=!1),new t.Group([d],{clipPath:c,inverted:g})},hasStyleChanged:function(s,l,d){return d=d||!1,s.fill!==l.fill||s.stroke!==l.stroke||s.strokeWidth!==l.strokeWidth||s.fontSize!==l.fontSize||s.fontFamily!==l.fontFamily||s.fontWeight!==l.fontWeight||s.fontStyle!==l.fontStyle||s.textBackgroundColor!==l.textBackgroundColor||s.deltaY!==l.deltaY||d&&(s.overline!==l.overline||s.underline!==l.underline||s.linethrough!==l.linethrough)},stylesToArray:function(d,l){for(var d=t.util.object.clone(d,!0),c=l.split(`
`),g=-1,v={},y=[],_=0;_<c.length;_++){if(!d[_]){g+=c[_].length;continue}for(var w=0;w<c[_].length;w++){g++;var C=d[_][w];if(C&&Object.keys(C).length>0){var x=t.util.hasStyleChanged(v,C,!0);x?y.push({start:g,end:g+1,style:C}):y[y.length-1].end++}v=C||{}}}return y},stylesFromArray:function(s,l){if(!Array.isArray(s))return s;for(var d=l.split(`
`),c=-1,g=0,v={},y=0;y<d.length;y++)for(var _=0;_<d[y].length;_++)c++,s[g]&&s[g].start<=c&&c<s[g].end&&(v[y]=v[y]||{},v[y][_]=Object.assign({},s[g].style),c===s[g].end-1&&g++);return v}}}(e),function(){var h=Array.prototype.join,i={m:2,l:2,h:1,v:1,c:6,s:4,q:4,t:2,a:7},u={m:"l",M:"L"};function f(T,P,A,D,B,k,b,R,I,W,N){var K=t.util.cos(T),Z=t.util.sin(T),ie=t.util.cos(P),z=t.util.sin(P),j=A*B*ie-D*k*z+b,Y=D*B*ie+A*k*z+R,G=W+I*(-A*B*Z-D*k*K),U=N+I*(-D*B*Z+A*k*K),Q=j+I*(A*B*z+D*k*ie),oe=Y+I*(D*B*z-A*k*ie);return["C",G,U,Q,oe,j,Y]}function o(T,P,A,D,B,k,b){var R=Math.PI,I=b*R/180,W=t.util.sin(I),N=t.util.cos(I),K=0,Z=0;A=Math.abs(A),D=Math.abs(D);var ie=-N*T*.5-W*P*.5,z=-N*P*.5+W*T*.5,j=A*A,Y=D*D,G=z*z,U=ie*ie,Q=j*Y-j*G-Y*U,oe=0;if(Q<0){var de=Math.sqrt(1-Q/(j*Y));A*=de,D*=de}else oe=(B===k?-1:1)*Math.sqrt(Q/(j*G+Y*U));var ce=oe*A*z/D,X=-oe*D*ie/A,fe=N*ce-W*X+T*.5,pe=W*ce+N*X+P*.5,me=a(1,0,(ie-ce)/A,(z-X)/D),be=a((ie-ce)/A,(z-X)/D,(-ie-ce)/A,(-z-X)/D);k===0&&be>0?be-=2*R:k===1&&be<0&&(be+=2*R);for(var Se=Math.ceil(Math.abs(be/R*2)),We=[],Me=be/Se,$e=8/3*Math.sin(Me/4)*Math.sin(Me/4)/Math.sin(Me/2),Cr=me+Me,St=0;St<Se;St++)We[St]=f(me,Cr,N,W,A,D,fe,pe,$e,K,Z),K=We[St][5],Z=We[St][6],me=Cr,Cr+=Me;return We}function a(T,P,A,D){var B=Math.atan2(P,T),k=Math.atan2(D,A);return k>=B?k-B:2*Math.PI-(B-k)}function s(T,P,A,D,B,k,b,R){var I;if(t.cachesBoundsOfCurve&&(I=h.call(arguments),t.boundsOfCurveCache[I]))return t.boundsOfCurveCache[I];var W=Math.sqrt,N=Math.min,K=Math.max,Z=Math.abs,ie=[],z=[[],[]],j,Y,G,U,Q,oe,de,ce;Y=6*T-12*A+6*B,j=-3*T+9*A-9*B+3*b,G=3*A-3*T;for(var X=0;X<2;++X){if(X>0&&(Y=6*P-12*D+6*k,j=-3*P+9*D-9*k+3*R,G=3*D-3*P),Z(j)<1e-12){if(Z(Y)<1e-12)continue;U=-G/Y,0<U&&U<1&&ie.push(U);continue}de=Y*Y-4*G*j,!(de<0)&&(ce=W(de),Q=(-Y+ce)/(2*j),0<Q&&Q<1&&ie.push(Q),oe=(-Y-ce)/(2*j),0<oe&&oe<1&&ie.push(oe))}for(var fe,pe,me=ie.length,be=me,Se;me--;)U=ie[me],Se=1-U,fe=Se*Se*Se*T+3*Se*Se*U*A+3*Se*U*U*B+U*U*U*b,z[0][me]=fe,pe=Se*Se*Se*P+3*Se*Se*U*D+3*Se*U*U*k+U*U*U*R,z[1][me]=pe;z[0][be]=T,z[1][be]=P,z[0][be+1]=b,z[1][be+1]=R;var We=[{x:N.apply(null,z[0]),y:N.apply(null,z[1])},{x:K.apply(null,z[0]),y:K.apply(null,z[1])}];return t.cachesBoundsOfCurve&&(t.boundsOfCurveCache[I]=We),We}function l(T,P,A){for(var D=A[1],B=A[2],k=A[3],b=A[4],R=A[5],I=A[6],W=A[7],N=o(I-T,W-P,D,B,b,R,k),K=0,Z=N.length;K<Z;K++)N[K][1]+=T,N[K][2]+=P,N[K][3]+=T,N[K][4]+=P,N[K][5]+=T,N[K][6]+=P;return N}function d(T){var P=0,A=0,D=T.length,B=0,k=0,b,R,I,W=[],N,K,Z;for(R=0;R<D;++R){switch(I=!1,b=T[R].slice(0),b[0]){case"l":b[0]="L",b[1]+=P,b[2]+=A;case"L":P=b[1],A=b[2];break;case"h":b[1]+=P;case"H":b[0]="L",b[2]=A,P=b[1];break;case"v":b[1]+=A;case"V":b[0]="L",A=b[1],b[1]=P,b[2]=A;break;case"m":b[0]="M",b[1]+=P,b[2]+=A;case"M":P=b[1],A=b[2],B=b[1],k=b[2];break;case"c":b[0]="C",b[1]+=P,b[2]+=A,b[3]+=P,b[4]+=A,b[5]+=P,b[6]+=A;case"C":K=b[3],Z=b[4],P=b[5],A=b[6];break;case"s":b[0]="S",b[1]+=P,b[2]+=A,b[3]+=P,b[4]+=A;case"S":N==="C"?(K=2*P-K,Z=2*A-Z):(K=P,Z=A),P=b[3],A=b[4],b[0]="C",b[5]=b[3],b[6]=b[4],b[3]=b[1],b[4]=b[2],b[1]=K,b[2]=Z,K=b[3],Z=b[4];break;case"q":b[0]="Q",b[1]+=P,b[2]+=A,b[3]+=P,b[4]+=A;case"Q":K=b[1],Z=b[2],P=b[3],A=b[4];break;case"t":b[0]="T",b[1]+=P,b[2]+=A;case"T":N==="Q"?(K=2*P-K,Z=2*A-Z):(K=P,Z=A),b[0]="Q",P=b[1],A=b[2],b[1]=K,b[2]=Z,b[3]=P,b[4]=A;break;case"a":b[0]="A",b[6]+=P,b[7]+=A;case"A":I=!0,W=W.concat(l(P,A,b)),P=b[6],A=b[7];break;case"z":case"Z":P=B,A=k;break}I||W.push(b),N=b[0]}return W}function c(T,P,A,D){return Math.sqrt((A-T)*(A-T)+(D-P)*(D-P))}function g(T){return T*T*T}function v(T){return 3*T*T*(1-T)}function y(T){return 3*T*(1-T)*(1-T)}function _(T){return(1-T)*(1-T)*(1-T)}function w(T,P,A,D,B,k,b,R){return function(I){var W=g(I),N=v(I),K=y(I),Z=_(I);return{x:b*W+B*N+A*K+T*Z,y:R*W+k*N+D*K+P*Z}}}function C(T,P,A,D,B,k,b,R){return function(I){var W=1-I,N=3*W*W*(A-T)+6*W*I*(B-A)+3*I*I*(b-B),K=3*W*W*(D-P)+6*W*I*(k-D)+3*I*I*(R-k);return Math.atan2(K,N)}}function x(T){return T*T}function O(T){return 2*T*(1-T)}function M(T){return(1-T)*(1-T)}function F(T,P,A,D,B,k){return function(b){var R=x(b),I=O(b),W=M(b);return{x:B*R+A*I+T*W,y:k*R+D*I+P*W}}}function V(T,P,A,D,B,k){return function(b){var R=1-b,I=2*R*(A-T)+2*b*(B-A),W=2*R*(D-P)+2*b*(k-D);return Math.atan2(W,I)}}function $(T,P,A){var D={x:P,y:A},B,k=0,b;for(b=1;b<=100;b+=1)B=T(b/100),k+=c(D.x,D.y,B.x,B.y),D=B;return k}function ne(T,P){for(var A=0,D=0,B=T.iterator,k={x:T.x,y:T.y},b,R,I=.01,W=T.angleFinder,N;D<P&&I>1e-4;)b=B(A),N=A,R=c(k.x,k.y,b.x,b.y),R+D>P?(A-=I,I/=2):(k=b,A+=I,D+=R);return b.angle=W(N),b}function ee(T){for(var P=0,A=T.length,D,B=0,k=0,b=0,R=0,I=[],W,N,K,Z=0;Z<A;Z++){switch(D=T[Z],N={x:B,y:k,command:D[0]},D[0]){case"M":N.length=0,b=B=D[1],R=k=D[2];break;case"L":N.length=c(B,k,D[1],D[2]),B=D[1],k=D[2];break;case"C":W=w(B,k,D[1],D[2],D[3],D[4],D[5],D[6]),K=C(B,k,D[1],D[2],D[3],D[4],D[5],D[6]),N.iterator=W,N.angleFinder=K,N.length=$(W,B,k),B=D[5],k=D[6];break;case"Q":W=F(B,k,D[1],D[2],D[3],D[4]),K=V(B,k,D[1],D[2],D[3],D[4]),N.iterator=W,N.angleFinder=K,N.length=$(W,B,k),B=D[3],k=D[4];break;case"Z":case"z":N.destX=b,N.destY=R,N.length=c(B,k,b,R),B=b,k=R;break}P+=N.length,I.push(N)}return I.push({length:P,x:B,y:k}),I}function re(T,P,A){A||(A=ee(T));for(var D=0;P-A[D].length>0&&D<A.length-2;)P-=A[D].length,D++;var B=A[D],k=P/B.length,b=B.command,R=T[D],I;switch(b){case"M":return{x:B.x,y:B.y,angle:0};case"Z":case"z":return I=new t.Point(B.x,B.y).lerp(new t.Point(B.destX,B.destY),k),I.angle=Math.atan2(B.destY-B.y,B.destX-B.x),I;case"L":return I=new t.Point(B.x,B.y).lerp(new t.Point(R[1],R[2]),k),I.angle=Math.atan2(R[2]-B.y,R[1]-B.x),I;case"C":return ne(B,P);case"Q":return ne(B,P)}}function se(T){var P=[],A=[],D,B,k=t.rePathCommand,b="[-+]?(?:\\d*\\.\\d+|\\d+\\.?)(?:[eE][-+]?\\d+)?\\s*",R="("+b+")"+t.commaWsp,I="([01])"+t.commaWsp+"?",W=R+"?"+R+"?"+R+I+I+R+"?("+b+")",N=new RegExp(W,"g"),K,Z,ie;if(!T||!T.match)return P;ie=T.match(/[mzlhvcsqta][^mzlhvcsqta]*/gi);for(var z=0,j,Y=ie.length;z<Y;z++){D=ie[z],Z=D.slice(1).trim(),A.length=0;var G=D.charAt(0);if(j=[G],G.toLowerCase()==="a")for(var U;U=N.exec(Z);)for(var Q=1;Q<U.length;Q++)A.push(U[Q]);else for(;K=k.exec(Z);)A.push(K[0]);for(var Q=0,oe=A.length;Q<oe;Q++)B=parseFloat(A[Q]),isNaN(B)||j.push(B);var de=i[G.toLowerCase()],ce=u[G]||G;if(j.length-1>de)for(var X=1,fe=j.length;X<fe;X+=de)P.push([G].concat(j.slice(X,X+de))),G=ce;else P.push(j)}return P}function ue(T,P){var A=[],D,B=new t.Point(T[0].x,T[0].y),k=new t.Point(T[1].x,T[1].y),b=T.length,R=1,I=0,W=b>2;for(P=P||0,W&&(R=T[2].x<k.x?-1:T[2].x===k.x?0:1,I=T[2].y<k.y?-1:T[2].y===k.y?0:1),A.push(["M",B.x-R*P,B.y-I*P]),D=1;D<b;D++){if(!B.eq(k)){var N=B.midPointFrom(k);A.push(["Q",B.x,B.y,N.x,N.y])}B=T[D],D+1<T.length&&(k=T[D+1])}return W&&(R=B.x>T[D-2].x?1:B.x===T[D-2].x?0:-1,I=B.y>T[D-2].y?1:B.y===T[D-2].y?0:-1),A.push(["L",B.x+R*P,B.y+I*P]),A}function H(T,P,A){return A&&(P=t.util.multiplyTransformMatrices(P,[1,0,0,1,-A.x,-A.y])),T.map(function(D){for(var B=D.slice(0),k={},b=1;b<D.length-1;b+=2)k.x=D[b],k.y=D[b+1],k=t.util.transformPoint(k,P),B[b]=k.x,B[b+1]=k.y;return B})}t.util.joinPath=function(T){return T.map(function(P){return P.join(" ")}).join(" ")},t.util.parsePath=se,t.util.makePathSimpler=d,t.util.getSmoothPathFromPoints=ue,t.util.getPathSegmentsInfo=ee,t.util.getBoundsOfCurve=s,t.util.getPointOnPath=re,t.util.transformPath=H}(),function(){var h=Array.prototype.slice;function i(s,l){for(var d=h.call(arguments,2),c=[],g=0,v=s.length;g<v;g++)c[g]=d.length?s[g][l].apply(s[g],d):s[g][l].call(s[g]);return c}function u(s,l){return a(s,l,function(d,c){return d>=c})}function f(s,l){return a(s,l,function(d,c){return d<c})}function o(s,l){for(var d=s.length;d--;)s[d]=l;return s}function a(s,l,d){if(!(!s||s.length===0)){var c=s.length-1,g=l?s[c][l]:s[c];if(l)for(;c--;)d(s[c][l],g)&&(g=s[c][l]);else for(;c--;)d(s[c],g)&&(g=s[c]);return g}}t.util.array={fill:o,invoke:i,min:f,max:u}}(),function(){function h(u,f,o){if(o)if(!t.isLikelyNode&&f instanceof Element)u=f;else if(f instanceof Array){u=[];for(var a=0,s=f.length;a<s;a++)u[a]=h({},f[a],o)}else if(f&&typeof f=="object")for(var l in f)l==="canvas"||l==="group"?u[l]=null:f.hasOwnProperty(l)&&(u[l]=h({},f[l],o));else u=f;else for(var l in f)u[l]=f[l];return u}function i(u,f){return h({},u,f)}t.util.object={extend:h,clone:i},t.util.object.extend(t.util,t.Observable)}(),function(){function h(a){return a.replace(/-+(.)?/g,function(s,l){return l?l.toUpperCase():""})}function i(a,s){return a.charAt(0).toUpperCase()+(s?a.slice(1):a.slice(1).toLowerCase())}function u(a){return a.replace(/&/g,"&amp;").replace(/"/g,"&quot;").replace(/'/g,"&apos;").replace(/</g,"&lt;").replace(/>/g,"&gt;")}function f(a){var s=0,l,d=[];for(s=0,l;s<a.length;s++)(l=o(a,s))!==!1&&d.push(l);return d}function o(a,s){var l=a.charCodeAt(s);if(isNaN(l))return"";if(l<55296||l>57343)return a.charAt(s);if(55296<=l&&l<=56319){if(a.length<=s+1)throw"High surrogate without following low surrogate";var d=a.charCodeAt(s+1);if(56320>d||d>57343)throw"High surrogate without following low surrogate";return a.charAt(s)+a.charAt(s+1)}if(s===0)throw"Low surrogate without preceding high surrogate";var c=a.charCodeAt(s-1);if(55296>c||c>56319)throw"Low surrogate without preceding high surrogate";return!1}t.util.string={camelize:h,capitalize:i,escapeXml:u,graphemeSplit:f}}(),function(){var h=Array.prototype.slice,i=function(){},u=function(){for(var l in{toString:1})if(l==="toString")return!1;return!0}(),f=function(l,d,c){for(var g in d)g in l.prototype&&typeof l.prototype[g]=="function"&&(d[g]+"").indexOf("callSuper")>-1?l.prototype[g]=function(v){return function(){var y=this.constructor.superclass;this.constructor.superclass=c;var _=d[v].apply(this,arguments);if(this.constructor.superclass=y,v!=="initialize")return _}}(g):l.prototype[g]=d[g],u&&(d.toString!==Object.prototype.toString&&(l.prototype.toString=d.toString),d.valueOf!==Object.prototype.valueOf&&(l.prototype.valueOf=d.valueOf))};function o(){}function a(l){for(var d=null,c=this;c.constructor.superclass;){var g=c.constructor.superclass.prototype[l];if(c[l]!==g){d=g;break}c=c.constructor.superclass.prototype}return d?arguments.length>1?d.apply(this,h.call(arguments,1)):d.call(this):console.log("tried to callSuper "+l+", method not found in prototype chain",this)}function s(){var l=null,d=h.call(arguments,0);typeof d[0]=="function"&&(l=d.shift());function c(){this.initialize.apply(this,arguments)}c.superclass=l,c.subclasses=[],l&&(o.prototype=l.prototype,c.prototype=new o,l.subclasses.push(c));for(var g=0,v=d.length;g<v;g++)f(c,d[g],l);return c.prototype.initialize||(c.prototype.initialize=i),c.prototype.constructor=c,c.prototype.callSuper=a,c}t.util.createClass=s}(),function(){var h=!!t.document.createElement("div").attachEvent,i=["touchstart","touchmove","touchend"];t.util.addListener=function(f,o,a,s){f&&f.addEventListener(o,a,h?!1:s)},t.util.removeListener=function(f,o,a,s){f&&f.removeEventListener(o,a,h?!1:s)};function u(f){var o=f.changedTouches;return o&&o[0]?o[0]:f}t.util.getPointer=function(f){var o=f.target,a=t.util.getScrollLeftTop(o),s=u(f);return{x:s.clientX+a.left,y:s.clientY+a.top}},t.util.isTouchEvent=function(f){return i.indexOf(f.type)>-1||f.pointerType==="touch"}}(),function(){function h(s,l){var d=s.style;if(!d)return s;if(typeof l=="string")return s.style.cssText+=";"+l,l.indexOf("opacity")>-1?a(s,l.match(/opacity:\s*(\d?\.?\d*)/)[1]):s;for(var c in l)if(c==="opacity")a(s,l[c]);else{var g=c==="float"||c==="cssFloat"?typeof d.styleFloat>"u"?"cssFloat":"styleFloat":c;d.setProperty(g,l[c])}return s}var i=t.document.createElement("div"),u=typeof i.style.opacity=="string",f=typeof i.style.filter=="string",o=/alpha\s*\(\s*opacity\s*=\s*([^\)]+)\)/,a=function(s){return s};u?a=function(s,l){return s.style.opacity=l,s}:f&&(a=function(s,l){var d=s.style;return s.currentStyle&&!s.currentStyle.hasLayout&&(d.zoom=1),o.test(d.filter)?(l=l>=.9999?"":"alpha(opacity="+l*100+")",d.filter=d.filter.replace(o,l)):d.filter+=" alpha(opacity="+l*100+")",s}),t.util.setStyle=h}(),function(){var h=Array.prototype.slice;function i(_){return typeof _=="string"?t.document.getElementById(_):_}var u,f=function(_){return h.call(_,0)};try{u=f(t.document.childNodes)instanceof Array}catch{}u||(f=function(_){for(var w=new Array(_.length),C=_.length;C--;)w[C]=_[C];return w});function o(_,w){var C=t.document.createElement(_);for(var x in w)x==="class"?C.className=w[x]:x==="for"?C.htmlFor=w[x]:C.setAttribute(x,w[x]);return C}function a(_,w){_&&(" "+_.className+" ").indexOf(" "+w+" ")===-1&&(_.className+=(_.className?" ":"")+w)}function s(_,w,C){return typeof w=="string"&&(w=o(w,C)),_.parentNode&&_.parentNode.replaceChild(w,_),w.appendChild(_),w}function l(_){for(var w=0,C=0,x=t.document.documentElement,O=t.document.body||{scrollLeft:0,scrollTop:0};_&&(_.parentNode||_.host)&&(_=_.parentNode||_.host,_===t.document?(w=O.scrollLeft||x.scrollLeft||0,C=O.scrollTop||x.scrollTop||0):(w+=_.scrollLeft||0,C+=_.scrollTop||0),!(_.nodeType===1&&_.style.position==="fixed")););return{left:w,top:C}}function d(_){var w,C=_&&_.ownerDocument,x={left:0,top:0},O={left:0,top:0},M,F={borderLeftWidth:"left",borderTopWidth:"top",paddingLeft:"left",paddingTop:"top"};if(!C)return O;for(var V in F)O[F[V]]+=parseInt(c(_,V),10)||0;return w=C.documentElement,typeof _.getBoundingClientRect<"u"&&(x=_.getBoundingClientRect()),M=l(_),{left:x.left+M.left-(w.clientLeft||0)+O.left,top:x.top+M.top-(w.clientTop||0)+O.top}}var c;t.document.defaultView&&t.document.defaultView.getComputedStyle?c=function(_,w){var C=t.document.defaultView.getComputedStyle(_,null);return C?C[w]:void 0}:c=function(_,w){var C=_.style[w];return!C&&_.currentStyle&&(C=_.currentStyle[w]),C},function(){var _=t.document.documentElement.style,w="userSelect"in _?"userSelect":"MozUserSelect"in _?"MozUserSelect":"WebkitUserSelect"in _?"WebkitUserSelect":"KhtmlUserSelect"in _?"KhtmlUserSelect":"";function C(O){return typeof O.onselectstart<"u"&&(O.onselectstart=t.util.falseFunction),w?O.style[w]="none":typeof O.unselectable=="string"&&(O.unselectable="on"),O}function x(O){return typeof O.onselectstart<"u"&&(O.onselectstart=null),w?O.style[w]="":typeof O.unselectable=="string"&&(O.unselectable=""),O}t.util.makeElementUnselectable=C,t.util.makeElementSelectable=x}();function g(_){var w=t.jsdomImplForWrapper(_);return w._canvas||w._image}function v(_){if(t.isLikelyNode){var w=t.jsdomImplForWrapper(_);w&&(w._image=null,w._canvas=null,w._currentSrc=null,w._attributes=null,w._classList=null)}}function y(_,w){_.imageSmoothingEnabled=_.imageSmoothingEnabled||_.webkitImageSmoothingEnabled||_.mozImageSmoothingEnabled||_.msImageSmoothingEnabled||_.oImageSmoothingEnabled,_.imageSmoothingEnabled=w}t.util.setImageSmoothing=y,t.util.getById=i,t.util.toArray=f,t.util.addClass=a,t.util.makeElement=o,t.util.wrapElement=s,t.util.getScrollLeftTop=l,t.util.getElementOffset=d,t.util.getNodeCanvas=g,t.util.cleanUpJsdomNode=v}(),function(){function h(f,o){return f+(/\?/.test(f)?"&":"?")+o}function i(){}function u(f,o){o||(o={});var a=o.method?o.method.toUpperCase():"GET",s=o.onComplete||function(){},l=new t.window.XMLHttpRequest,d=o.body||o.parameters;return l.onreadystatechange=function(){l.readyState===4&&(s(l),l.onreadystatechange=i)},a==="GET"&&(d=null,typeof o.parameters=="string"&&(f=h(f,o.parameters))),l.open(a,f,!0),(a==="POST"||a==="PUT")&&l.setRequestHeader("Content-Type","application/x-www-form-urlencoded"),l.send(d),l}t.util.request=u}(),t.log=console.log,t.warn=console.warn,function(){var h=t.util.object.extend,i=t.util.object.clone,u=[];t.util.object.extend(u,{cancelAll:function(){var g=this.splice(0);return g.forEach(function(v){v.cancel()}),g},cancelByCanvas:function(g){if(!g)return[];var v=this.filter(function(y){return typeof y.target=="object"&&y.target.canvas===g});return v.forEach(function(y){y.cancel()}),v},cancelByTarget:function(g){var v=this.findAnimationsByTarget(g);return v.forEach(function(y){y.cancel()}),v},findAnimationIndex:function(g){return this.indexOf(this.findAnimation(g))},findAnimation:function(g){return this.find(function(v){return v.cancel===g})},findAnimationsByTarget:function(g){return g?this.filter(function(v){return v.target===g}):[]}});function f(){return!1}function o(g,v,y,_){return-y*Math.cos(g/_*(Math.PI/2))+y+v}function a(g){g||(g={});var v=!1,y,_=function(){var w=t.runningAnimations.indexOf(y);return w>-1&&t.runningAnimations.splice(w,1)[0]};return y=h(i(g),{cancel:function(){return v=!0,_()},currentValue:"startValue"in g?g.startValue:0,completionRate:0,durationRate:0}),t.runningAnimations.push(y),d(function(w){var C=w||+new Date,x=g.duration||500,O=C+x,M,F=g.onChange||f,V=g.abort||f,$=g.onComplete||f,ne=g.easing||o,ee="startValue"in g?g.startValue.length>0:!1,re="startValue"in g?g.startValue:0,se="endValue"in g?g.endValue:100,ue=g.byValue||(ee?re.map(function(H,T){return se[T]-re[T]}):se-re);g.onStart&&g.onStart(),function H(T){M=T||+new Date;var P=M>O?x:M-C,A=P/x,D=ee?re.map(function(k,b){return ne(P,re[b],ue[b],x)}):ne(P,re,ue,x),B=Math.abs(ee?(D[0]-re[0])/ue[0]:(D-re)/ue);if(y.currentValue=ee?D.slice():D,y.completionRate=B,y.durationRate=A,!v){if(V(D,B,A)){_();return}if(M>O){y.currentValue=ee?se.slice():se,y.completionRate=1,y.durationRate=1,F(ee?se.slice():se,1,1),$(se,1,1),_();return}else F(D,B,A),d(H)}}(C)}),y.cancel}var s=t.window.requestAnimationFrame||t.window.webkitRequestAnimationFrame||t.window.mozRequestAnimationFrame||t.window.oRequestAnimationFrame||t.window.msRequestAnimationFrame||function(g){return t.window.setTimeout(g,1e3/60)},l=t.window.cancelAnimationFrame||t.window.clearTimeout;function d(){return s.apply(t.window,arguments)}function c(){return l.apply(t.window,arguments)}t.util.animate=a,t.util.requestAnimFrame=d,t.util.cancelAnimFrame=c,t.runningAnimations=u}(),function(){function h(u,f,o){var a="rgba("+parseInt(u[0]+o*(f[0]-u[0]),10)+","+parseInt(u[1]+o*(f[1]-u[1]),10)+","+parseInt(u[2]+o*(f[2]-u[2]),10);return a+=","+(u&&f?parseFloat(u[3]+o*(f[3]-u[3])):1),a+=")",a}function i(u,f,o,a){var s=new t.Color(u).getSource(),l=new t.Color(f).getSource(),d=a.onComplete,c=a.onChange;return a=a||{},t.util.animate(t.util.object.extend(a,{duration:o||500,startValue:s,endValue:l,byValue:l,easing:function(g,v,y,_){var w=a.colorEasing?a.colorEasing(g,_):1-Math.cos(g/_*(Math.PI/2));return h(v,y,w)},onComplete:function(g,v,y){if(d)return d(h(l,l,0),v,y)},onChange:function(g,v,y){if(c){if(Array.isArray(g))return c(h(g,g,0),v,y);c(g,v,y)}}}))}t.util.animateColor=i}(),function(){function h(T,P,A,D){return T<Math.abs(P)?(T=P,D=A/4):P===0&&T===0?D=A/(2*Math.PI)*Math.asin(1):D=A/(2*Math.PI)*Math.asin(P/T),{a:T,c:P,p:A,s:D}}function i(T,P,A){return T.a*Math.pow(2,10*(P-=1))*Math.sin((P*A-T.s)*(2*Math.PI)/T.p)}function u(T,P,A,D){return A*((T=T/D-1)*T*T+1)+P}function f(T,P,A,D){return T/=D/2,T<1?A/2*T*T*T+P:A/2*((T-=2)*T*T+2)+P}function o(T,P,A,D){return A*(T/=D)*T*T*T+P}function a(T,P,A,D){return-A*((T=T/D-1)*T*T*T-1)+P}function s(T,P,A,D){return T/=D/2,T<1?A/2*T*T*T*T+P:-A/2*((T-=2)*T*T*T-2)+P}function l(T,P,A,D){return A*(T/=D)*T*T*T*T+P}function d(T,P,A,D){return A*((T=T/D-1)*T*T*T*T+1)+P}function c(T,P,A,D){return T/=D/2,T<1?A/2*T*T*T*T*T+P:A/2*((T-=2)*T*T*T*T+2)+P}function g(T,P,A,D){return-A*Math.cos(T/D*(Math.PI/2))+A+P}function v(T,P,A,D){return A*Math.sin(T/D*(Math.PI/2))+P}function y(T,P,A,D){return-A/2*(Math.cos(Math.PI*T/D)-1)+P}function _(T,P,A,D){return T===0?P:A*Math.pow(2,10*(T/D-1))+P}function w(T,P,A,D){return T===D?P+A:A*(-Math.pow(2,-10*T/D)+1)+P}function C(T,P,A,D){return T===0?P:T===D?P+A:(T/=D/2,T<1?A/2*Math.pow(2,10*(T-1))+P:A/2*(-Math.pow(2,-10*--T)+2)+P)}function x(T,P,A,D){return-A*(Math.sqrt(1-(T/=D)*T)-1)+P}function O(T,P,A,D){return A*Math.sqrt(1-(T=T/D-1)*T)+P}function M(T,P,A,D){return T/=D/2,T<1?-A/2*(Math.sqrt(1-T*T)-1)+P:A/2*(Math.sqrt(1-(T-=2)*T)+1)+P}function F(T,P,A,D){var B=1.70158,k=0,b=A;if(T===0)return P;if(T/=D,T===1)return P+A;k||(k=D*.3);var R=h(b,A,k,B);return-i(R,T,D)+P}function V(T,P,A,D){var B=1.70158,k=0,b=A;if(T===0)return P;if(T/=D,T===1)return P+A;k||(k=D*.3);var R=h(b,A,k,B);return R.a*Math.pow(2,-10*T)*Math.sin((T*D-R.s)*(2*Math.PI)/R.p)+R.c+P}function $(T,P,A,D){var B=1.70158,k=0,b=A;if(T===0)return P;if(T/=D/2,T===2)return P+A;k||(k=D*(.3*1.5));var R=h(b,A,k,B);return T<1?-.5*i(R,T,D)+P:R.a*Math.pow(2,-10*(T-=1))*Math.sin((T*D-R.s)*(2*Math.PI)/R.p)*.5+R.c+P}function ne(T,P,A,D,B){return B===void 0&&(B=1.70158),A*(T/=D)*T*((B+1)*T-B)+P}function ee(T,P,A,D,B){return B===void 0&&(B=1.70158),A*((T=T/D-1)*T*((B+1)*T+B)+1)+P}function re(T,P,A,D,B){return B===void 0&&(B=1.70158),T/=D/2,T<1?A/2*(T*T*(((B*=1.525)+1)*T-B))+P:A/2*((T-=2)*T*(((B*=1.525)+1)*T+B)+2)+P}function se(T,P,A,D){return A-ue(D-T,0,A,D)+P}function ue(T,P,A,D){return(T/=D)<1/2.75?A*(7.5625*T*T)+P:T<2/2.75?A*(7.5625*(T-=1.5/2.75)*T+.75)+P:T<2.5/2.75?A*(7.5625*(T-=2.25/2.75)*T+.9375)+P:A*(7.5625*(T-=2.625/2.75)*T+.984375)+P}function H(T,P,A,D){return T<D/2?se(T*2,0,A,D)*.5+P:ue(T*2-D,0,A,D)*.5+A*.5+P}t.util.ease={easeInQuad:function(T,P,A,D){return A*(T/=D)*T+P},easeOutQuad:function(T,P,A,D){return-A*(T/=D)*(T-2)+P},easeInOutQuad:function(T,P,A,D){return T/=D/2,T<1?A/2*T*T+P:-A/2*(--T*(T-2)-1)+P},easeInCubic:function(T,P,A,D){return A*(T/=D)*T*T+P},easeOutCubic:u,easeInOutCubic:f,easeInQuart:o,easeOutQuart:a,easeInOutQuart:s,easeInQuint:l,easeOutQuint:d,easeInOutQuint:c,easeInSine:g,easeOutSine:v,easeInOutSine:y,easeInExpo:_,easeOutExpo:w,easeInOutExpo:C,easeInCirc:x,easeOutCirc:O,easeInOutCirc:M,easeInElastic:F,easeOutElastic:V,easeInOutElastic:$,easeInBack:ne,easeOutBack:ee,easeInOutBack:re,easeInBounce:se,easeOutBounce:ue,easeInOutBounce:H}}(),function(h){var i=h.fabric||(h.fabric={}),u=i.util.object.extend,f=i.util.object.clone,o=i.util.toFixed,a=i.util.parseUnit,s=i.util.multiplyTransformMatrices,l=["path","circle","polygon","polyline","ellipse","rect","line","image","text"],d=["symbol","image","marker","pattern","view","svg"],c=["pattern","defs","symbol","metadata","clipPath","mask","desc"],g=["symbol","g","a","svg","clipPath","defs"],v={cx:"left",x:"left",r:"radius",cy:"top",y:"top",display:"visible",visibility:"visible",transform:"transformMatrix","fill-opacity":"fillOpacity","fill-rule":"fillRule","font-family":"fontFamily","font-size":"fontSize","font-style":"fontStyle","font-weight":"fontWeight","letter-spacing":"charSpacing","paint-order":"paintFirst","stroke-dasharray":"strokeDashArray","stroke-dashoffset":"strokeDashOffset","stroke-linecap":"strokeLineCap","stroke-linejoin":"strokeLineJoin","stroke-miterlimit":"strokeMiterLimit","stroke-opacity":"strokeOpacity","stroke-width":"strokeWidth","text-decoration":"textDecoration","text-anchor":"textAnchor",opacity:"opacity","clip-path":"clipPath","clip-rule":"clipRule","vector-effect":"strokeUniform","image-rendering":"imageSmoothing"},y={stroke:"strokeOpacity",fill:"fillOpacity"},_="font-size",w="clip-path";i.svgValidTagNamesRegEx=O(l),i.svgViewBoxElementsRegEx=O(d),i.svgInvalidAncestorsRegEx=O(c),i.svgValidParentsRegEx=O(g),i.cssRules={},i.gradientDefs={},i.clipPaths={};function C(k){return k in v?v[k]:k}function x(k,b,R,I){var W=Array.isArray(b),N;if((k==="fill"||k==="stroke")&&b==="none")b="";else{if(k==="strokeUniform")return b==="non-scaling-stroke";if(k==="strokeDashArray")b==="none"?b=null:b=b.replace(/,/g," ").split(/\s+/).map(parseFloat);else if(k==="transformMatrix")R&&R.transformMatrix?b=s(R.transformMatrix,i.parseTransformAttribute(b)):b=i.parseTransformAttribute(b);else if(k==="visible")b=b!=="none"&&b!=="hidden",R&&R.visible===!1&&(b=!1);else if(k==="opacity")b=parseFloat(b),R&&typeof R.opacity<"u"&&(b*=R.opacity);else if(k==="textAnchor")b=b==="start"?"left":b==="end"?"right":"center";else if(k==="charSpacing")N=a(b,I)/I*1e3;else if(k==="paintFirst"){var K=b.indexOf("fill"),Z=b.indexOf("stroke"),b="fill";(K>-1&&Z>-1&&Z<K||K===-1&&Z>-1)&&(b="stroke")}else{if(k==="href"||k==="xlink:href"||k==="font")return b;if(k==="imageSmoothing")return b==="optimizeQuality";N=W?b.map(a):a(b,I)}}return!W&&isNaN(N)?b:N}function O(k){return new RegExp("^("+k.join("|")+")\\b","i")}function M(k){for(var b in y)if(!(typeof k[y[b]]>"u"||k[b]==="")){if(typeof k[b]>"u"){if(!i.Object.prototype[b])continue;k[b]=i.Object.prototype[b]}if(k[b].indexOf("url(")!==0){var R=new i.Color(k[b]);k[b]=R.setAlpha(o(R.getAlpha()*k[y[b]],2)).toRgba()}}return k}function F(k,b){var R,I=[],W,N,K;for(N=0,K=b.length;N<K;N++)R=b[N],W=k.getElementsByTagName(R),I=I.concat(Array.prototype.slice.call(W));return I}i.parseTransformAttribute=function(){function k(X,fe){var pe=i.util.cos(fe[0]),me=i.util.sin(fe[0]),be=0,Se=0;fe.length===3&&(be=fe[1],Se=fe[2]),X[0]=pe,X[1]=me,X[2]=-me,X[3]=pe,X[4]=be-(pe*be-me*Se),X[5]=Se-(me*be+pe*Se)}function b(X,fe){var pe=fe[0],me=fe.length===2?fe[1]:fe[0];X[0]=pe,X[3]=me}function R(X,fe,pe){X[pe]=Math.tan(i.util.degreesToRadians(fe[0]))}function I(X,fe){X[4]=fe[0],fe.length===2&&(X[5]=fe[1])}var W=i.iMatrix,N=i.reNum,K=i.commaWsp,Z="(?:(skewX)\\s*\\(\\s*("+N+")\\s*\\))",ie="(?:(skewY)\\s*\\(\\s*("+N+")\\s*\\))",z="(?:(rotate)\\s*\\(\\s*("+N+")(?:"+K+"("+N+")"+K+"("+N+"))?\\s*\\))",j="(?:(scale)\\s*\\(\\s*("+N+")(?:"+K+"("+N+"))?\\s*\\))",Y="(?:(translate)\\s*\\(\\s*("+N+")(?:"+K+"("+N+"))?\\s*\\))",G="(?:(matrix)\\s*\\(\\s*("+N+")"+K+"("+N+")"+K+"("+N+")"+K+"("+N+")"+K+"("+N+")"+K+"("+N+")\\s*\\))",U="(?:"+G+"|"+Y+"|"+j+"|"+z+"|"+Z+"|"+ie+")",Q="(?:"+U+"(?:"+K+"*"+U+")*)",oe="^\\s*(?:"+Q+"?)\\s*$",de=new RegExp(oe),ce=new RegExp(U,"g");return function(X){var fe=W.concat(),pe=[];if(!X||X&&!de.test(X))return fe;X.replace(ce,function(be){var Se=new RegExp(U).exec(be).filter(function($e){return!!$e}),We=Se[1],Me=Se.slice(2).map(parseFloat);switch(We){case"translate":I(fe,Me);break;case"rotate":Me[0]=i.util.degreesToRadians(Me[0]),k(fe,Me);break;case"scale":b(fe,Me);break;case"skewX":R(fe,Me,2);break;case"skewY":R(fe,Me,1);break;case"matrix":fe=Me;break}pe.push(fe.concat()),fe=W.concat()});for(var me=pe[0];pe.length>1;)pe.shift(),me=i.util.multiplyTransformMatrices(me,pe[0]);return me}}();function V(k,b){var R,I;k.replace(/;\s*$/,"").split(";").forEach(function(W){var N=W.split(":");R=N[0].trim().toLowerCase(),I=N[1].trim(),b[R]=I})}function $(k,b){var R,I;for(var W in k)typeof k[W]>"u"||(R=W.toLowerCase(),I=k[W],b[R]=I)}function ne(k,b){var R={};for(var I in i.cssRules[b])if(ee(k,I.split(" ")))for(var W in i.cssRules[b][I])R[W]=i.cssRules[b][I][W];return R}function ee(k,b){var R,I=!0;return R=se(k,b.pop()),R&&b.length&&(I=re(k,b)),R&&I&&b.length===0}function re(k,b){for(var R,I=!0;k.parentNode&&k.parentNode.nodeType===1&&b.length;)I&&(R=b.pop()),k=k.parentNode,I=se(k,R);return b.length===0}function se(k,b){var R=k.nodeName,I=k.getAttribute("class"),W=k.getAttribute("id"),N,K;if(N=new RegExp("^"+R,"i"),b=b.replace(N,""),W&&b.length&&(N=new RegExp("#"+W+"(?![a-zA-Z\\-]+)","i"),b=b.replace(N,"")),I&&b.length)for(I=I.split(" "),K=I.length;K--;)N=new RegExp("\\."+I[K]+"(?![a-zA-Z\\-]+)","i"),b=b.replace(N,"");return b.length===0}function ue(k,b){var R;if(k.getElementById&&(R=k.getElementById(b)),R)return R;var I,W,N,K=k.getElementsByTagName("*");for(W=0,N=K.length;W<N;W++)if(I=K[W],b===I.getAttribute("id"))return I}function H(k){for(var b=F(k,["use","svg:use"]),R=0;b.length&&R<b.length;){var I=b[R],W=I.getAttribute("xlink:href")||I.getAttribute("href");if(W===null)return;var N=W.slice(1),K=I.getAttribute("x")||0,Z=I.getAttribute("y")||0,ie=ue(k,N).cloneNode(!0),z=(ie.getAttribute("transform")||"")+" translate("+K+", "+Z+")",j,Y=b.length,G,U,Q,oe,de=i.svgNS;if(P(ie),/^svg$/i.test(ie.nodeName)){var ce=ie.ownerDocument.createElementNS(de,"g");for(U=0,Q=ie.attributes,oe=Q.length;U<oe;U++)G=Q.item(U),ce.setAttributeNS(de,G.nodeName,G.nodeValue);for(;ie.firstChild;)ce.appendChild(ie.firstChild);ie=ce}for(U=0,Q=I.attributes,oe=Q.length;U<oe;U++)G=Q.item(U),!(G.nodeName==="x"||G.nodeName==="y"||G.nodeName==="xlink:href"||G.nodeName==="href")&&(G.nodeName==="transform"?z=G.nodeValue+" "+z:ie.setAttribute(G.nodeName,G.nodeValue));ie.setAttribute("transform",z),ie.setAttribute("instantiated_by_use","1"),ie.removeAttribute("id"),j=I.parentNode,j.replaceChild(ie,I),b.length===Y&&R++}}var T=new RegExp("^\\s*("+i.reNum+"+)\\s*,?\\s*("+i.reNum+"+)\\s*,?\\s*("+i.reNum+"+)\\s*,?\\s*("+i.reNum+"+)\\s*$");function P(k){if(!i.svgViewBoxElementsRegEx.test(k.nodeName))return{};var b=k.getAttribute("viewBox"),R=1,I=1,W=0,N=0,K,Z,ie,z,j=k.getAttribute("width"),Y=k.getAttribute("height"),G=k.getAttribute("x")||0,U=k.getAttribute("y")||0,Q=k.getAttribute("preserveAspectRatio")||"",oe=!b||!(b=b.match(T)),de=!j||!Y||j==="100%"||Y==="100%",ce=oe&&de,X={},fe="",pe=0,me=0;if(X.width=0,X.height=0,X.toBeParsed=ce,oe&&(G||U)&&k.parentNode&&k.parentNode.nodeName!=="#document"&&(fe=" translate("+a(G)+" "+a(U)+") ",ie=(k.getAttribute("transform")||"")+fe,k.setAttribute("transform",ie),k.removeAttribute("x"),k.removeAttribute("y")),ce)return X;if(oe)return X.width=a(j),X.height=a(Y),X;if(W=-parseFloat(b[1]),N=-parseFloat(b[2]),K=parseFloat(b[3]),Z=parseFloat(b[4]),X.minX=W,X.minY=N,X.viewBoxWidth=K,X.viewBoxHeight=Z,de?(X.width=K,X.height=Z):(X.width=a(j),X.height=a(Y),R=X.width/K,I=X.height/Z),Q=i.util.parsePreserveAspectRatioAttribute(Q),Q.alignX!=="none"&&(Q.meetOrSlice==="meet"&&(I=R=R>I?I:R),Q.meetOrSlice==="slice"&&(I=R=R>I?R:I),pe=X.width-K*R,me=X.height-Z*R,Q.alignX==="Mid"&&(pe/=2),Q.alignY==="Mid"&&(me/=2),Q.alignX==="Min"&&(pe=0),Q.alignY==="Min"&&(me=0)),R===1&&I===1&&W===0&&N===0&&G===0&&U===0)return X;if((G||U)&&k.parentNode.nodeName!=="#document"&&(fe=" translate("+a(G)+" "+a(U)+") "),ie=fe+" matrix("+R+" 0 0 "+I+" "+(W*R+pe)+" "+(N*I+me)+") ",k.nodeName==="svg"){for(z=k.ownerDocument.createElementNS(i.svgNS,"g");k.firstChild;)z.appendChild(k.firstChild);k.appendChild(z)}else z=k,z.removeAttribute("x"),z.removeAttribute("y"),ie=z.getAttribute("transform")+ie;return z.setAttribute("transform",ie),X}function A(k,b){for(;k&&(k=k.parentNode);)if(k.nodeName&&b.test(k.nodeName.replace("svg:",""))&&!k.getAttribute("instantiated_by_use"))return!0;return!1}i.parseSVGDocument=function(k,b,R,I){if(k){H(k);var W=i.Object.__uid++,N,K,Z=P(k),ie=i.util.toArray(k.getElementsByTagName("*"));if(Z.crossOrigin=I&&I.crossOrigin,Z.svgUid=W,ie.length===0&&i.isLikelyNode){ie=k.selectNodes('//*[name(.)!="svg"]');var z=[];for(N=0,K=ie.length;N<K;N++)z[N]=ie[N];ie=z}var j=ie.filter(function(G){return P(G),i.svgValidTagNamesRegEx.test(G.nodeName.replace("svg:",""))&&!A(G,i.svgInvalidAncestorsRegEx)});if(!j||j&&!j.length){b&&b([],{});return}var Y={};ie.filter(function(G){return G.nodeName.replace("svg:","")==="clipPath"}).forEach(function(G){var U=G.getAttribute("id");Y[U]=i.util.toArray(G.getElementsByTagName("*")).filter(function(Q){return i.svgValidTagNamesRegEx.test(Q.nodeName.replace("svg:",""))})}),i.gradientDefs[W]=i.getGradientDefs(k),i.cssRules[W]=i.getCSSRules(k),i.clipPaths[W]=Y,i.parseElements(j,function(G,U){b&&(b(G,Z,U,ie),delete i.gradientDefs[W],delete i.cssRules[W],delete i.clipPaths[W])},f(Z),R,I)}};function D(k,b){var R=["gradientTransform","x1","x2","y1","y2","gradientUnits","cx","cy","r","fx","fy"],I="xlink:href",W=b.getAttribute(I).slice(1),N=ue(k,W);if(N&&N.getAttribute(I)&&D(k,N),R.forEach(function(Z){N&&!b.hasAttribute(Z)&&N.hasAttribute(Z)&&b.setAttribute(Z,N.getAttribute(Z))}),!b.children.length)for(var K=N.cloneNode(!0);K.firstChild;)b.appendChild(K.firstChild);b.removeAttribute(I)}var B=new RegExp("(normal|italic)?\\s*(normal|small-caps)?\\s*(normal|bold|bolder|lighter|100|200|300|400|500|600|700|800|900)?\\s*("+i.reNum+"(?:px|cm|mm|em|pt|pc|in)*)(?:\\/(normal|"+i.reNum+"))?\\s+(.*)");u(i,{parseFontDeclaration:function(k,b){var R=k.match(B);if(R){var I=R[1],W=R[3],N=R[4],K=R[5],Z=R[6];I&&(b.fontStyle=I),W&&(b.fontWeight=isNaN(parseFloat(W))?W:parseFloat(W)),N&&(b.fontSize=a(N)),Z&&(b.fontFamily=Z),K&&(b.lineHeight=K==="normal"?1:K)}},getGradientDefs:function(k){var b=["linearGradient","radialGradient","svg:linearGradient","svg:radialGradient"],R=F(k,b),I,W=0,N={};for(W=R.length;W--;)I=R[W],I.getAttribute("xlink:href")&&D(k,I),N[I.getAttribute("id")]=I;return N},parseAttributes:function(k,b,R){if(k){var I,W={},N,K;typeof R>"u"&&(R=k.getAttribute("svgUid")),k.parentNode&&i.svgValidParentsRegEx.test(k.parentNode.nodeName)&&(W=i.parseAttributes(k.parentNode,b,R));var Z=b.reduce(function(Q,oe){return I=k.getAttribute(oe),I&&(Q[oe]=I),Q},{}),ie=u(ne(k,R),i.parseStyleAttribute(k));Z=u(Z,ie),ie[w]&&k.setAttribute(w,ie[w]),N=K=W.fontSize||i.Text.DEFAULT_SVG_FONT_SIZE,Z[_]&&(Z[_]=N=a(Z[_],K));var z,j,Y={};for(var G in Z)z=C(G),j=x(z,Z[G],W,N),Y[z]=j;Y&&Y.font&&i.parseFontDeclaration(Y.font,Y);var U=u(W,Y);return i.svgValidParentsRegEx.test(k.nodeName)?U:M(U)}},parseElements:function(k,b,R,I,W){new i.ElementsParser(k,b,R,I,W).parse()},parseStyleAttribute:function(k){var b={},R=k.getAttribute("style");return R&&(typeof R=="string"?V(R,b):$(R,b)),b},parsePointsAttribute:function(k){if(!k)return null;k=k.replace(/,/g," ").trim(),k=k.split(/\s+/);var b=[],R,I;for(R=0,I=k.length;R<I;R+=2)b.push({x:parseFloat(k[R]),y:parseFloat(k[R+1])});return b},getCSSRules:function(k){var b=k.getElementsByTagName("style"),R,I,W={},N;for(R=0,I=b.length;R<I;R++){var K=b[R].textContent;K=K.replace(/\/\*[\s\S]*?\*\//g,""),K.trim()!==""&&(N=K.split("}"),N=N.filter(function(Z){return Z.trim()}),N.forEach(function(Z){var ie=Z.split("{"),z={},j=ie[1].trim(),Y=j.split(";").filter(function(oe){return oe.trim()});for(R=0,I=Y.length;R<I;R++){var G=Y[R].split(":"),U=G[0].trim(),Q=G[1].trim();z[U]=Q}Z=ie[0].trim(),Z.split(",").forEach(function(oe){oe=oe.replace(/^svg/i,"").trim(),oe!==""&&(W[oe]?i.util.object.extend(W[oe],z):W[oe]=i.util.object.clone(z))})}))}return W},loadSVGFromURL:function(k,b,R,I){k=k.replace(/^\n\s*/,"").trim(),new i.util.request(k,{method:"get",onComplete:W});function W(N){var K=N.responseXML;if(!K||!K.documentElement)return b&&b(null),!1;i.parseSVGDocument(K.documentElement,function(Z,ie,z,j){b&&b(Z,ie,z,j)},R,I)}},loadSVGFromString:function(k,b,R,I){var W=new i.window.DOMParser,N=W.parseFromString(k.trim(),"text/xml");i.parseSVGDocument(N.documentElement,function(K,Z,ie,z){b(K,Z,ie,z)},R,I)}})}(e),t.ElementsParser=function(h,i,u,f,o,a){this.elements=h,this.callback=i,this.options=u,this.reviver=f,this.svgUid=u&&u.svgUid||0,this.parsingOptions=o,this.regexUrl=/^url\(['"]?#([^'"]+)['"]?\)/g,this.doc=a},function(h){h.parse=function(){this.instances=new Array(this.elements.length),this.numElements=this.elements.length,this.createObjects()},h.createObjects=function(){var i=this;this.elements.forEach(function(u,f){u.setAttribute("svgUid",i.svgUid),i.createObject(u,f)})},h.findTag=function(i){return t[t.util.string.capitalize(i.tagName.replace("svg:",""))]},h.createObject=function(i,u){var f=this.findTag(i);if(f&&f.fromElement)try{f.fromElement(i,this.createCallback(u,i),this.options)}catch(o){t.log(o)}else this.checkIfDone()},h.createCallback=function(i,u){var f=this;return function(o){var a;f.resolveGradient(o,u,"fill"),f.resolveGradient(o,u,"stroke"),o instanceof t.Image&&o._originalElement&&(a=o.parsePreserveAspectRatioAttribute(u)),o._removeTransformMatrix(a),f.resolveClipPath(o,u),f.reviver&&f.reviver(u,o),f.instances[i]=o,f.checkIfDone()}},h.extractPropertyDefinition=function(i,u,f){var o=i[u],a=this.regexUrl;if(a.test(o)){a.lastIndex=0;var s=a.exec(o)[1];return a.lastIndex=0,t[f][this.svgUid][s]}},h.resolveGradient=function(i,u,f){var o=this.extractPropertyDefinition(i,f,"gradientDefs");if(o){var a=u.getAttribute(f+"-opacity"),s=t.Gradient.fromElement(o,i,a,this.options);i.set(f,s)}},h.createClipPathCallback=function(i,u){return function(f){f._removeTransformMatrix(),f.fillRule=f.clipRule,u.push(f)}},h.resolveClipPath=function(i,u){var f=this.extractPropertyDefinition(i,"clipPath","clipPaths"),o,a,s,l,d,c;if(f){l=[],s=t.util.invertTransform(i.calcTransformMatrix());for(var g=f[0].parentNode,v=u;v.parentNode&&v.getAttribute("clip-path")!==i.clipPath;)v=v.parentNode;v.parentNode.appendChild(g);for(var y=0;y<f.length;y++)o=f[y],a=this.findTag(o),a.fromElement(o,this.createClipPathCallback(i,l),this.options);l.length===1?f=l[0]:f=new t.Group(l),d=t.util.multiplyTransformMatrices(s,f.calcTransformMatrix()),f.clipPath&&this.resolveClipPath(f,v);var c=t.util.qrDecompose(d);f.flipX=!1,f.flipY=!1,f.set("scaleX",c.scaleX),f.set("scaleY",c.scaleY),f.angle=c.angle,f.skewX=c.skewX,f.skewY=0,f.setPositionByOrigin({x:c.translateX,y:c.translateY},"center","center"),i.clipPath=f}else delete i.clipPath},h.checkIfDone=function(){--this.numElements===0&&(this.instances=this.instances.filter(function(i){return i!=null}),this.callback(this.instances,this.elements))}}(t.ElementsParser.prototype),function(h){var i=h.fabric||(h.fabric={});if(i.Point){i.warn("fabric.Point is already defined");return}i.Point=u;function u(f,o){this.x=f,this.y=o}u.prototype={type:"point",constructor:u,add:function(f){return new u(this.x+f.x,this.y+f.y)},addEquals:function(f){return this.x+=f.x,this.y+=f.y,this},scalarAdd:function(f){return new u(this.x+f,this.y+f)},scalarAddEquals:function(f){return this.x+=f,this.y+=f,this},subtract:function(f){return new u(this.x-f.x,this.y-f.y)},subtractEquals:function(f){return this.x-=f.x,this.y-=f.y,this},scalarSubtract:function(f){return new u(this.x-f,this.y-f)},scalarSubtractEquals:function(f){return this.x-=f,this.y-=f,this},multiply:function(f){return new u(this.x*f,this.y*f)},multiplyEquals:function(f){return this.x*=f,this.y*=f,this},divide:function(f){return new u(this.x/f,this.y/f)},divideEquals:function(f){return this.x/=f,this.y/=f,this},eq:function(f){return this.x===f.x&&this.y===f.y},lt:function(f){return this.x<f.x&&this.y<f.y},lte:function(f){return this.x<=f.x&&this.y<=f.y},gt:function(f){return this.x>f.x&&this.y>f.y},gte:function(f){return this.x>=f.x&&this.y>=f.y},lerp:function(f,o){return typeof o>"u"&&(o=.5),o=Math.max(Math.min(1,o),0),new u(this.x+(f.x-this.x)*o,this.y+(f.y-this.y)*o)},distanceFrom:function(f){var o=this.x-f.x,a=this.y-f.y;return Math.sqrt(o*o+a*a)},midPointFrom:function(f){return this.lerp(f)},min:function(f){return new u(Math.min(this.x,f.x),Math.min(this.y,f.y))},max:function(f){return new u(Math.max(this.x,f.x),Math.max(this.y,f.y))},toString:function(){return this.x+","+this.y},setXY:function(f,o){return this.x=f,this.y=o,this},setX:function(f){return this.x=f,this},setY:function(f){return this.y=f,this},setFromPoint:function(f){return this.x=f.x,this.y=f.y,this},swap:function(f){var o=this.x,a=this.y;this.x=f.x,this.y=f.y,f.x=o,f.y=a},clone:function(){return new u(this.x,this.y)}}}(e),function(h){var i=h.fabric||(h.fabric={});if(i.Intersection){i.warn("fabric.Intersection is already defined");return}function u(f){this.status=f,this.points=[]}i.Intersection=u,i.Intersection.prototype={constructor:u,appendPoint:function(f){return this.points.push(f),this},appendPoints:function(f){return this.points=this.points.concat(f),this}},i.Intersection.intersectLineLine=function(f,o,a,s){var l,d=(s.x-a.x)*(f.y-a.y)-(s.y-a.y)*(f.x-a.x),c=(o.x-f.x)*(f.y-a.y)-(o.y-f.y)*(f.x-a.x),g=(s.y-a.y)*(o.x-f.x)-(s.x-a.x)*(o.y-f.y);if(g!==0){var v=d/g,y=c/g;0<=v&&v<=1&&0<=y&&y<=1?(l=new u("Intersection"),l.appendPoint(new i.Point(f.x+v*(o.x-f.x),f.y+v*(o.y-f.y)))):l=new u}else d===0||c===0?l=new u("Coincident"):l=new u("Parallel");return l},i.Intersection.intersectLinePolygon=function(f,o,a){var s=new u,l=a.length,d,c,g,v;for(v=0;v<l;v++)d=a[v],c=a[(v+1)%l],g=u.intersectLineLine(f,o,d,c),s.appendPoints(g.points);return s.points.length>0&&(s.status="Intersection"),s},i.Intersection.intersectPolygonPolygon=function(f,o){var a=new u,s=f.length,l;for(l=0;l<s;l++){var d=f[l],c=f[(l+1)%s],g=u.intersectLinePolygon(d,c,o);a.appendPoints(g.points)}return a.points.length>0&&(a.status="Intersection"),a},i.Intersection.intersectPolygonRectangle=function(f,o,a){var s=o.min(a),l=o.max(a),d=new i.Point(l.x,s.y),c=new i.Point(s.x,l.y),g=u.intersectLinePolygon(s,d,f),v=u.intersectLinePolygon(d,l,f),y=u.intersectLinePolygon(l,c,f),_=u.intersectLinePolygon(c,s,f),w=new u;return w.appendPoints(g.points),w.appendPoints(v.points),w.appendPoints(y.points),w.appendPoints(_.points),w.points.length>0&&(w.status="Intersection"),w}}(e),function(h){var i=h.fabric||(h.fabric={});if(i.Color){i.warn("fabric.Color is already defined.");return}function u(o){o?this._tryParsingColor(o):this.setSource([0,0,0,1])}i.Color=u,i.Color.prototype={_tryParsingColor:function(o){var a;o in u.colorNameMap&&(o=u.colorNameMap[o]),o==="transparent"&&(a=[255,255,255,0]),a||(a=u.sourceFromHex(o)),a||(a=u.sourceFromRgb(o)),a||(a=u.sourceFromHsl(o)),a||(a=[0,0,0,1]),a&&this.setSource(a)},_rgbToHsl:function(o,a,s){o/=255,a/=255,s/=255;var l,d,c,g=i.util.array.max([o,a,s]),v=i.util.array.min([o,a,s]);if(c=(g+v)/2,g===v)l=d=0;else{var y=g-v;switch(d=c>.5?y/(2-g-v):y/(g+v),g){case o:l=(a-s)/y+(a<s?6:0);break;case a:l=(s-o)/y+2;break;case s:l=(o-a)/y+4;break}l/=6}return[Math.round(l*360),Math.round(d*100),Math.round(c*100)]},getSource:function(){return this._source},setSource:function(o){this._source=o},toRgb:function(){var o=this.getSource();return"rgb("+o[0]+","+o[1]+","+o[2]+")"},toRgba:function(){var o=this.getSource();return"rgba("+o[0]+","+o[1]+","+o[2]+","+o[3]+")"},toHsl:function(){var o=this.getSource(),a=this._rgbToHsl(o[0],o[1],o[2]);return"hsl("+a[0]+","+a[1]+"%,"+a[2]+"%)"},toHsla:function(){var o=this.getSource(),a=this._rgbToHsl(o[0],o[1],o[2]);return"hsla("+a[0]+","+a[1]+"%,"+a[2]+"%,"+o[3]+")"},toHex:function(){var o=this.getSource(),a,s,l;return a=o[0].toString(16),a=a.length===1?"0"+a:a,s=o[1].toString(16),s=s.length===1?"0"+s:s,l=o[2].toString(16),l=l.length===1?"0"+l:l,a.toUpperCase()+s.toUpperCase()+l.toUpperCase()},toHexa:function(){var o=this.getSource(),a;return a=Math.round(o[3]*255),a=a.toString(16),a=a.length===1?"0"+a:a,this.toHex()+a.toUpperCase()},getAlpha:function(){return this.getSource()[3]},setAlpha:function(o){var a=this.getSource();return a[3]=o,this.setSource(a),this},toGrayscale:function(){var o=this.getSource(),a=parseInt((o[0]*.3+o[1]*.59+o[2]*.11).toFixed(0),10),s=o[3];return this.setSource([a,a,a,s]),this},toBlackWhite:function(o){var a=this.getSource(),s=(a[0]*.3+a[1]*.59+a[2]*.11).toFixed(0),l=a[3];return o=o||127,s=Number(s)<Number(o)?0:255,this.setSource([s,s,s,l]),this},overlayWith:function(o){o instanceof u||(o=new u(o));var a=[],s=this.getAlpha(),l=.5,d=this.getSource(),c=o.getSource(),g;for(g=0;g<3;g++)a.push(Math.round(d[g]*(1-l)+c[g]*l));return a[3]=s,this.setSource(a),this}},i.Color.reRGBa=/^rgba?\(\s*(\d{1,3}(?:\.\d+)?\%?)\s*,\s*(\d{1,3}(?:\.\d+)?\%?)\s*,\s*(\d{1,3}(?:\.\d+)?\%?)\s*(?:\s*,\s*((?:\d*\.?\d+)?)\s*)?\)$/i,i.Color.reHSLa=/^hsla?\(\s*(\d{1,3})\s*,\s*(\d{1,3}\%)\s*,\s*(\d{1,3}\%)\s*(?:\s*,\s*(\d+(?:\.\d+)?)\s*)?\)$/i,i.Color.reHex=/^#?([0-9a-f]{8}|[0-9a-f]{6}|[0-9a-f]{4}|[0-9a-f]{3})$/i,i.Color.colorNameMap={aliceblue:"#F0F8FF",antiquewhite:"#FAEBD7",aqua:"#00FFFF",aquamarine:"#7FFFD4",azure:"#F0FFFF",beige:"#F5F5DC",bisque:"#FFE4C4",black:"#000000",blanchedalmond:"#FFEBCD",blue:"#0000FF",blueviolet:"#8A2BE2",brown:"#A52A2A",burlywood:"#DEB887",cadetblue:"#5F9EA0",chartreuse:"#7FFF00",chocolate:"#D2691E",coral:"#FF7F50",cornflowerblue:"#6495ED",cornsilk:"#FFF8DC",crimson:"#DC143C",cyan:"#00FFFF",darkblue:"#00008B",darkcyan:"#008B8B",darkgoldenrod:"#B8860B",darkgray:"#A9A9A9",darkgrey:"#A9A9A9",darkgreen:"#006400",darkkhaki:"#BDB76B",darkmagenta:"#8B008B",darkolivegreen:"#556B2F",darkorange:"#FF8C00",darkorchid:"#9932CC",darkred:"#8B0000",darksalmon:"#E9967A",darkseagreen:"#8FBC8F",darkslateblue:"#483D8B",darkslategray:"#2F4F4F",darkslategrey:"#2F4F4F",darkturquoise:"#00CED1",darkviolet:"#9400D3",deeppink:"#FF1493",deepskyblue:"#00BFFF",dimgray:"#696969",dimgrey:"#696969",dodgerblue:"#1E90FF",firebrick:"#B22222",floralwhite:"#FFFAF0",forestgreen:"#228B22",fuchsia:"#FF00FF",gainsboro:"#DCDCDC",ghostwhite:"#F8F8FF",gold:"#FFD700",goldenrod:"#DAA520",gray:"#808080",grey:"#808080",green:"#008000",greenyellow:"#ADFF2F",honeydew:"#F0FFF0",hotpink:"#FF69B4",indianred:"#CD5C5C",indigo:"#4B0082",ivory:"#FFFFF0",khaki:"#F0E68C",lavender:"#E6E6FA",lavenderblush:"#FFF0F5",lawngreen:"#7CFC00",lemonchiffon:"#FFFACD",lightblue:"#ADD8E6",lightcoral:"#F08080",lightcyan:"#E0FFFF",lightgoldenrodyellow:"#FAFAD2",lightgray:"#D3D3D3",lightgrey:"#D3D3D3",lightgreen:"#90EE90",lightpink:"#FFB6C1",lightsalmon:"#FFA07A",lightseagreen:"#20B2AA",lightskyblue:"#87CEFA",lightslategray:"#778899",lightslategrey:"#778899",lightsteelblue:"#B0C4DE",lightyellow:"#FFFFE0",lime:"#00FF00",limegreen:"#32CD32",linen:"#FAF0E6",magenta:"#FF00FF",maroon:"#800000",mediumaquamarine:"#66CDAA",mediumblue:"#0000CD",mediumorchid:"#BA55D3",mediumpurple:"#9370DB",mediumseagreen:"#3CB371",mediumslateblue:"#7B68EE",mediumspringgreen:"#00FA9A",mediumturquoise:"#48D1CC",mediumvioletred:"#C71585",midnightblue:"#191970",mintcream:"#F5FFFA",mistyrose:"#FFE4E1",moccasin:"#FFE4B5",navajowhite:"#FFDEAD",navy:"#000080",oldlace:"#FDF5E6",olive:"#808000",olivedrab:"#6B8E23",orange:"#FFA500",orangered:"#FF4500",orchid:"#DA70D6",palegoldenrod:"#EEE8AA",palegreen:"#98FB98",paleturquoise:"#AFEEEE",palevioletred:"#DB7093",papayawhip:"#FFEFD5",peachpuff:"#FFDAB9",peru:"#CD853F",pink:"#FFC0CB",plum:"#DDA0DD",powderblue:"#B0E0E6",purple:"#800080",rebeccapurple:"#663399",red:"#FF0000",rosybrown:"#BC8F8F",royalblue:"#4169E1",saddlebrown:"#8B4513",salmon:"#FA8072",sandybrown:"#F4A460",seagreen:"#2E8B57",seashell:"#FFF5EE",sienna:"#A0522D",silver:"#C0C0C0",skyblue:"#87CEEB",slateblue:"#6A5ACD",slategray:"#708090",slategrey:"#708090",snow:"#FFFAFA",springgreen:"#00FF7F",steelblue:"#4682B4",tan:"#D2B48C",teal:"#008080",thistle:"#D8BFD8",tomato:"#FF6347",turquoise:"#40E0D0",violet:"#EE82EE",wheat:"#F5DEB3",white:"#FFFFFF",whitesmoke:"#F5F5F5",yellow:"#FFFF00",yellowgreen:"#9ACD32"};function f(o,a,s){return s<0&&(s+=1),s>1&&(s-=1),s<1/6?o+(a-o)*6*s:s<1/2?a:s<2/3?o+(a-o)*(2/3-s)*6:o}i.Color.fromRgb=function(o){return u.fromSource(u.sourceFromRgb(o))},i.Color.sourceFromRgb=function(o){var a=o.match(u.reRGBa);if(a){var s=parseInt(a[1],10)/(/%$/.test(a[1])?100:1)*(/%$/.test(a[1])?255:1),l=parseInt(a[2],10)/(/%$/.test(a[2])?100:1)*(/%$/.test(a[2])?255:1),d=parseInt(a[3],10)/(/%$/.test(a[3])?100:1)*(/%$/.test(a[3])?255:1);return[parseInt(s,10),parseInt(l,10),parseInt(d,10),a[4]?parseFloat(a[4]):1]}},i.Color.fromRgba=u.fromRgb,i.Color.fromHsl=function(o){return u.fromSource(u.sourceFromHsl(o))},i.Color.sourceFromHsl=function(o){var a=o.match(u.reHSLa);if(a){var s=(parseFloat(a[1])%360+360)%360/360,l=parseFloat(a[2])/(/%$/.test(a[2])?100:1),d=parseFloat(a[3])/(/%$/.test(a[3])?100:1),c,g,v;if(l===0)c=g=v=d;else{var y=d<=.5?d*(l+1):d+l-d*l,_=d*2-y;c=f(_,y,s+1/3),g=f(_,y,s),v=f(_,y,s-1/3)}return[Math.round(c*255),Math.round(g*255),Math.round(v*255),a[4]?parseFloat(a[4]):1]}},i.Color.fromHsla=u.fromHsl,i.Color.fromHex=function(o){return u.fromSource(u.sourceFromHex(o))},i.Color.sourceFromHex=function(o){if(o.match(u.reHex)){var a=o.slice(o.indexOf("#")+1),s=a.length===3||a.length===4,l=a.length===8||a.length===4,d=s?a.charAt(0)+a.charAt(0):a.substring(0,2),c=s?a.charAt(1)+a.charAt(1):a.substring(2,4),g=s?a.charAt(2)+a.charAt(2):a.substring(4,6),v=l?s?a.charAt(3)+a.charAt(3):a.substring(6,8):"FF";return[parseInt(d,16),parseInt(c,16),parseInt(g,16),parseFloat((parseInt(v,16)/255).toFixed(2))]}},i.Color.fromSource=function(o){var a=new u;return a.setSource(o),a}}(e),function(h){var i=h.fabric||(h.fabric={}),u=["e","se","s","sw","w","nw","n","ne","e"],f=["ns","nesw","ew","nwse"],o={},a="left",s="top",l="right",d="bottom",c="center",g={top:d,bottom:s,left:l,right:a,center:c},v=i.util.radiansToDegrees,y=Math.sign||function(z){return(z>0)-(z<0)||+z};function _(z,j){var Y=z.angle+v(Math.atan2(j.y,j.x))+360;return Math.round(Y%360/45)}function w(z,j){var Y=j.transform.target,G=Y.canvas,U=i.util.object.clone(j);U.target=Y,G&&G.fire("object:"+z,U),Y.fire(z,j)}function C(z,j){var Y=j.canvas,G=Y.uniScaleKey,U=z[G];return Y.uniformScaling&&!U||!Y.uniformScaling&&U}function x(z){return z.originX===c&&z.originY===c}function O(z,j,Y){var G=z.lockScalingX,U=z.lockScalingY;return!!(G&&U||!j&&(G||U)&&Y||G&&j==="x"||U&&j==="y")}function M(z,j,Y){var G="not-allowed",U=C(z,Y),Q="";if(j.x!==0&&j.y===0?Q="x":j.x===0&&j.y!==0&&(Q="y"),O(Y,Q,U))return G;var oe=_(Y,j);return u[oe]+"-resize"}function F(z,j,Y){var G="not-allowed";if(j.x!==0&&Y.lockSkewingY||j.y!==0&&Y.lockSkewingX)return G;var U=_(Y,j)%4;return f[U]+"-resize"}function V(z,j,Y){return z[Y.canvas.altActionKey]?o.skewCursorStyleHandler(z,j,Y):o.scaleCursorStyleHandler(z,j,Y)}function $(z,j,Y){var G=z[Y.canvas.altActionKey];if(j.x===0)return G?"skewX":"scaleY";if(j.y===0)return G?"skewY":"scaleX"}function ne(z,j,Y){return Y.lockRotation?"not-allowed":j.cursorStyle}function ee(z,j,Y,G){return{e:z,transform:j,pointer:{x:Y,y:G}}}function re(z){return function(j,Y,G,U){var Q=Y.target,oe=Q.getCenterPoint(),de=Q.translateToOriginPoint(oe,Y.originX,Y.originY),ce=z(j,Y,G,U);return Q.setPositionByOrigin(de,Y.originX,Y.originY),ce}}function se(z,j){return function(Y,G,U,Q){var oe=j(Y,G,U,Q);return oe&&w(z,ee(Y,G,U,Q)),oe}}function ue(z,j,Y,G,U){var Q=z.target,oe=Q.controls[z.corner],de=Q.canvas.getZoom(),ce=Q.padding/de,X=Q.toLocalPoint(new i.Point(G,U),j,Y);return X.x>=ce&&(X.x-=ce),X.x<=-ce&&(X.x+=ce),X.y>=ce&&(X.y-=ce),X.y<=ce&&(X.y+=ce),X.x-=oe.offsetX,X.y-=oe.offsetY,X}function H(z){return z.flipX!==z.flipY}function T(z,j,Y,G,U){if(z[j]!==0){var Q=z._getTransformedDimensions()[G],oe=U/Q*z[Y];z.set(Y,oe)}}function P(z,j,Y,G){var U=j.target,Q=U._getTransformedDimensions(0,U.skewY),oe=ue(j,j.originX,j.originY,Y,G),de=Math.abs(oe.x*2)-Q.x,ce=U.skewX,X;de<2?X=0:(X=v(Math.atan2(de/U.scaleX,Q.y/U.scaleY)),j.originX===a&&j.originY===d&&(X=-X),j.originX===l&&j.originY===s&&(X=-X),H(U)&&(X=-X));var fe=ce!==X;if(fe){var pe=U._getTransformedDimensions().y;U.set("skewX",X),T(U,"skewY","scaleY","y",pe)}return fe}function A(z,j,Y,G){var U=j.target,Q=U._getTransformedDimensions(U.skewX,0),oe=ue(j,j.originX,j.originY,Y,G),de=Math.abs(oe.y*2)-Q.y,ce=U.skewY,X;de<2?X=0:(X=v(Math.atan2(de/U.scaleY,Q.x/U.scaleX)),j.originX===a&&j.originY===d&&(X=-X),j.originX===l&&j.originY===s&&(X=-X),H(U)&&(X=-X));var fe=ce!==X;if(fe){var pe=U._getTransformedDimensions().x;U.set("skewY",X),T(U,"skewX","scaleX","x",pe)}return fe}function D(z,j,Y,G){var U=j.target,Q=U.skewX,oe,de=j.originY;if(U.lockSkewingX)return!1;if(Q===0){var ce=ue(j,c,c,Y,G);ce.x>0?oe=a:oe=l}else Q>0&&(oe=de===s?a:l),Q<0&&(oe=de===s?l:a),H(U)&&(oe=oe===a?l:a);j.originX=oe;var X=se("skewing",re(P));return X(z,j,Y,G)}function B(z,j,Y,G){var U=j.target,Q=U.skewY,oe,de=j.originX;if(U.lockSkewingY)return!1;if(Q===0){var ce=ue(j,c,c,Y,G);ce.y>0?oe=s:oe=d}else Q>0&&(oe=de===a?s:d),Q<0&&(oe=de===a?d:s),H(U)&&(oe=oe===s?d:s);j.originY=oe;var X=se("skewing",re(A));return X(z,j,Y,G)}function k(z,j,Y,G){var U=j,Q=U.target,oe=Q.translateToOriginPoint(Q.getCenterPoint(),U.originX,U.originY);if(Q.lockRotation)return!1;var de=Math.atan2(U.ey-oe.y,U.ex-oe.x),ce=Math.atan2(G-oe.y,Y-oe.x),X=v(ce-de+U.theta),fe=!0;if(Q.snapAngle>0){var pe=Q.snapAngle,me=Q.snapThreshold||pe,be=Math.ceil(X/pe)*pe,Se=Math.floor(X/pe)*pe;Math.abs(X-Se)<me?X=Se:Math.abs(X-be)<me&&(X=be)}return X<0&&(X=360+X),X%=360,fe=Q.angle!==X,Q.angle=X,fe}function b(z,j,Y,G,U){U=U||{};var Q=j.target,oe=Q.lockScalingX,de=Q.lockScalingY,ce=U.by,X,fe,pe,me,be=C(z,Q),Se=O(Q,ce,be),We,Me,$e=j.gestureScale;if(Se)return!1;if($e)fe=j.scaleX*$e,pe=j.scaleY*$e;else{if(X=ue(j,j.originX,j.originY,Y,G),We=ce!=="y"?y(X.x):1,Me=ce!=="x"?y(X.y):1,j.signX||(j.signX=We),j.signY||(j.signY=Me),Q.lockScalingFlip&&(j.signX!==We||j.signY!==Me))return!1;if(me=Q._getTransformedDimensions(),be&&!ce){var Cr=Math.abs(X.x)+Math.abs(X.y),St=j.original,Ka=Math.abs(me.x*St.scaleX/Q.scaleX)+Math.abs(me.y*St.scaleY/Q.scaleY),Ci=Cr/Ka;fe=St.scaleX*Ci,pe=St.scaleY*Ci}else fe=Math.abs(X.x*Q.scaleX/me.x),pe=Math.abs(X.y*Q.scaleY/me.y);x(j)&&(fe*=2,pe*=2),j.signX!==We&&ce!=="y"&&(j.originX=g[j.originX],fe*=-1,j.signX=We),j.signY!==Me&&ce!=="x"&&(j.originY=g[j.originY],pe*=-1,j.signY=Me)}var Pn=Q.scaleX,Lo=Q.scaleY;return ce?(ce==="x"&&Q.set("scaleX",fe),ce==="y"&&Q.set("scaleY",pe)):(!oe&&Q.set("scaleX",fe),!de&&Q.set("scaleY",pe)),Pn!==Q.scaleX||Lo!==Q.scaleY}function R(z,j,Y,G){return b(z,j,Y,G)}function I(z,j,Y,G){return b(z,j,Y,G,{by:"x"})}function W(z,j,Y,G){return b(z,j,Y,G,{by:"y"})}function N(z,j,Y,G){return z[j.target.canvas.altActionKey]?o.skewHandlerX(z,j,Y,G):o.scalingY(z,j,Y,G)}function K(z,j,Y,G){return z[j.target.canvas.altActionKey]?o.skewHandlerY(z,j,Y,G):o.scalingX(z,j,Y,G)}function Z(z,j,Y,G){var U=j.target,Q=ue(j,j.originX,j.originY,Y,G),oe=U.strokeWidth/(U.strokeUniform?U.scaleX:1),de=x(j)?2:1,ce=U.width,X=Math.abs(Q.x*de/U.scaleX)-oe;return U.set("width",Math.max(X,0)),ce!==X}function ie(z,j,Y,G){var U=j.target,Q=Y-j.offsetX,oe=G-j.offsetY,de=!U.get("lockMovementX")&&U.left!==Q,ce=!U.get("lockMovementY")&&U.top!==oe;return de&&U.set("left",Q),ce&&U.set("top",oe),(de||ce)&&w("moving",ee(z,j,Y,G)),de||ce}o.scaleCursorStyleHandler=M,o.skewCursorStyleHandler=F,o.scaleSkewCursorStyleHandler=V,o.rotationWithSnapping=se("rotating",re(k)),o.scalingEqually=se("scaling",re(R)),o.scalingX=se("scaling",re(I)),o.scalingY=se("scaling",re(W)),o.scalingYOrSkewingX=N,o.scalingXOrSkewingY=K,o.changeWidth=se("resizing",re(Z)),o.skewHandlerX=D,o.skewHandlerY=B,o.dragHandler=ie,o.scaleOrSkewActionName=$,o.rotationStyleHandler=ne,o.fireEvent=w,o.wrapWithFixedAnchor=re,o.wrapWithFireEvent=se,o.getLocalPoint=ue,i.controlsUtils=o}(e),function(h){var i=h.fabric||(h.fabric={}),u=i.util.degreesToRadians,f=i.controlsUtils;function o(s,l,d,c,g){c=c||{};var v=this.sizeX||c.cornerSize||g.cornerSize,y=this.sizeY||c.cornerSize||g.cornerSize,_=typeof c.transparentCorners<"u"?c.transparentCorners:g.transparentCorners,w=_?"stroke":"fill",C=!_&&(c.cornerStrokeColor||g.cornerStrokeColor),x=l,O=d,M;s.save(),s.fillStyle=c.cornerColor||g.cornerColor,s.strokeStyle=c.cornerStrokeColor||g.cornerStrokeColor,v>y?(M=v,s.scale(1,y/v),O=d*v/y):y>v?(M=y,s.scale(v/y,1),x=l*y/v):M=v,s.lineWidth=1,s.beginPath(),s.arc(x,O,M/2,0,2*Math.PI,!1),s[w](),C&&s.stroke(),s.restore()}function a(s,l,d,c,g){c=c||{};var v=this.sizeX||c.cornerSize||g.cornerSize,y=this.sizeY||c.cornerSize||g.cornerSize,_=typeof c.transparentCorners<"u"?c.transparentCorners:g.transparentCorners,w=_?"stroke":"fill",C=!_&&(c.cornerStrokeColor||g.cornerStrokeColor),x=v/2,O=y/2;s.save(),s.fillStyle=c.cornerColor||g.cornerColor,s.strokeStyle=c.cornerStrokeColor||g.cornerStrokeColor,s.lineWidth=1,s.translate(l,d),s.rotate(u(g.angle)),s[w+"Rect"](-x,-O,v,y),C&&s.strokeRect(-x,-O,v,y),s.restore()}f.renderCircleControl=o,f.renderSquareControl=a}(e),function(h){var i=h.fabric||(h.fabric={});function u(f){for(var o in f)this[o]=f[o]}i.Control=u,i.Control.prototype={visible:!0,actionName:"scale",angle:0,x:0,y:0,offsetX:0,offsetY:0,sizeX:null,sizeY:null,touchSizeX:null,touchSizeY:null,cursorStyle:"crosshair",withConnection:!1,actionHandler:function(){},mouseDownHandler:function(){},mouseUpHandler:function(){},getActionHandler:function(){return this.actionHandler},getMouseDownHandler:function(){return this.mouseDownHandler},getMouseUpHandler:function(){return this.mouseUpHandler},cursorStyleHandler:function(f,o){return o.cursorStyle},getActionName:function(f,o){return o.actionName},getVisibility:function(f,o){var a=f._controlsVisibility;return a&&typeof a[o]<"u"?a[o]:this.visible},setVisibility:function(f){this.visible=f},positionHandler:function(f,o){var a=i.util.transformPoint({x:this.x*f.x+this.offsetX,y:this.y*f.y+this.offsetY},o);return a},calcCornerCoords:function(f,o,a,s,l){var d,c,g,v,y=l?this.touchSizeX:this.sizeX,_=l?this.touchSizeY:this.sizeY;if(y&&_&&y!==_){var w=Math.atan2(_,y),C=Math.sqrt(y*y+_*_)/2,x=w-i.util.degreesToRadians(f),O=Math.PI/2-w-i.util.degreesToRadians(f);d=C*i.util.cos(x),c=C*i.util.sin(x),g=C*i.util.cos(O),v=C*i.util.sin(O)}else{var M=y&&_?y:o;C=M*.7071067812;var x=i.util.degreesToRadians(45-f);d=g=C*i.util.cos(x),c=v=C*i.util.sin(x)}return{tl:{x:a-v,y:s-g},tr:{x:a+d,y:s-c},bl:{x:a-d,y:s+c},br:{x:a+v,y:s+g}}},render:function(f,o,a,s,l){switch(s=s||{},s.cornerStyle||l.cornerStyle){case"circle":i.controlsUtils.renderCircleControl.call(this,f,o,a,s,l);break;default:i.controlsUtils.renderSquareControl.call(this,f,o,a,s,l)}}}}(e),function(){function h(a,s){var l=a.getAttribute("style"),d=a.getAttribute("offset")||0,c,g,v,y;if(d=parseFloat(d)/(/%$/.test(d)?100:1),d=d<0?0:d>1?1:d,l){var _=l.split(/\s*;\s*/);for(_[_.length-1]===""&&_.pop(),y=_.length;y--;){var w=_[y].split(/\s*:\s*/),C=w[0].trim(),x=w[1].trim();C==="stop-color"?c=x:C==="stop-opacity"&&(v=x)}}return c||(c=a.getAttribute("stop-color")||"rgb(0,0,0)"),v||(v=a.getAttribute("stop-opacity")),c=new t.Color(c),g=c.getAlpha(),v=isNaN(parseFloat(v))?1:parseFloat(v),v*=g*s,{offset:d,color:c.toRgb(),opacity:v}}function i(a){return{x1:a.getAttribute("x1")||0,y1:a.getAttribute("y1")||0,x2:a.getAttribute("x2")||"100%",y2:a.getAttribute("y2")||0}}function u(a){return{x1:a.getAttribute("fx")||a.getAttribute("cx")||"50%",y1:a.getAttribute("fy")||a.getAttribute("cy")||"50%",r1:0,x2:a.getAttribute("cx")||"50%",y2:a.getAttribute("cy")||"50%",r2:a.getAttribute("r")||"50%"}}var f=t.util.object.clone;t.Gradient=t.util.createClass({offsetX:0,offsetY:0,gradientTransform:null,gradientUnits:"pixels",type:"linear",initialize:function(a){a||(a={}),a.coords||(a.coords={});var s,l=this;Object.keys(a).forEach(function(d){l[d]=a[d]}),this.id?this.id+="_"+t.Object.__uid++:this.id=t.Object.__uid++,s={x1:a.coords.x1||0,y1:a.coords.y1||0,x2:a.coords.x2||0,y2:a.coords.y2||0},this.type==="radial"&&(s.r1=a.coords.r1||0,s.r2=a.coords.r2||0),this.coords=s,this.colorStops=a.colorStops.slice()},addColorStop:function(a){for(var s in a){var l=new t.Color(a[s]);this.colorStops.push({offset:parseFloat(s),color:l.toRgb(),opacity:l.getAlpha()})}return this},toObject:function(a){var s={type:this.type,coords:this.coords,colorStops:this.colorStops,offsetX:this.offsetX,offsetY:this.offsetY,gradientUnits:this.gradientUnits,gradientTransform:this.gradientTransform?this.gradientTransform.concat():this.gradientTransform};return t.util.populateWithProperties(this,s,a),s},toSVG:function(a,g){var l=f(this.coords,!0),d,c,g=g||{},v,y,_=f(this.colorStops,!0),w=l.r1>l.r2,C=this.gradientTransform?this.gradientTransform.concat():t.iMatrix.concat(),x=-this.offsetX,O=-this.offsetY,M=!!g.additionalTransform,F=this.gradientUnits==="pixels"?"userSpaceOnUse":"objectBoundingBox";if(_.sort(function(re,se){return re.offset-se.offset}),F==="objectBoundingBox"?(x/=a.width,O/=a.height):(x+=a.width/2,O+=a.height/2),a.type==="path"&&this.gradientUnits!=="percentage"&&(x-=a.pathOffset.x,O-=a.pathOffset.y),C[4]-=x,C[5]-=O,y='id="SVGID_'+this.id+'" gradientUnits="'+F+'"',y+=' gradientTransform="'+(M?g.additionalTransform+" ":"")+t.util.matrixToSVG(C)+'" ',this.type==="linear"?v=["<linearGradient ",y,' x1="',l.x1,'" y1="',l.y1,'" x2="',l.x2,'" y2="',l.y2,`">
`]:this.type==="radial"&&(v=["<radialGradient ",y,' cx="',w?l.x1:l.x2,'" cy="',w?l.y1:l.y2,'" r="',w?l.r1:l.r2,'" fx="',w?l.x2:l.x1,'" fy="',w?l.y2:l.y1,`">
`]),this.type==="radial"){if(w)for(_=_.concat(),_.reverse(),d=0,c=_.length;d<c;d++)_[d].offset=1-_[d].offset;var V=Math.min(l.r1,l.r2);if(V>0){var $=Math.max(l.r1,l.r2),ne=V/$;for(d=0,c=_.length;d<c;d++)_[d].offset+=ne*(1-_[d].offset)}}for(d=0,c=_.length;d<c;d++){var ee=_[d];v.push("<stop ",'offset="',ee.offset*100+"%",'" style="stop-color:',ee.color,typeof ee.opacity<"u"?";stop-opacity: "+ee.opacity:";",`"/>
`)}return v.push(this.type==="linear"?`</linearGradient>
`:`</radialGradient>
`),v.join("")},toLive:function(a){var s,l=t.util.object.clone(this.coords),d,c;if(this.type){for(this.type==="linear"?s=a.createLinearGradient(l.x1,l.y1,l.x2,l.y2):this.type==="radial"&&(s=a.createRadialGradient(l.x1,l.y1,l.r1,l.x2,l.y2,l.r2)),d=0,c=this.colorStops.length;d<c;d++){var g=this.colorStops[d].color,v=this.colorStops[d].opacity,y=this.colorStops[d].offset;typeof v<"u"&&(g=new t.Color(g).setAlpha(v).toRgba()),s.addColorStop(y,g)}return s}}}),t.util.object.extend(t.Gradient,{fromElement:function(a,s,l,d){var c=parseFloat(l)/(/%$/.test(l)?100:1);c=c<0?0:c>1?1:c,isNaN(c)&&(c=1);var g=a.getElementsByTagName("stop"),v,y=a.getAttribute("gradientUnits")==="userSpaceOnUse"?"pixels":"percentage",_=a.getAttribute("gradientTransform")||"",w=[],C,x,O=0,M=0,F;for(a.nodeName==="linearGradient"||a.nodeName==="LINEARGRADIENT"?(v="linear",C=i(a)):(v="radial",C=u(a)),x=g.length;x--;)w.push(h(g[x],c));F=t.parseTransformAttribute(_),o(s,C,d,y),y==="pixels"&&(O=-s.left,M=-s.top);var V=new t.Gradient({id:a.getAttribute("id"),type:v,coords:C,colorStops:w,gradientUnits:y,gradientTransform:F,offsetX:O,offsetY:M});return V}});function o(a,s,l,d){var c,g;Object.keys(s).forEach(function(v){c=s[v],c==="Infinity"?g=1:c==="-Infinity"?g=0:(g=parseFloat(s[v],10),typeof c=="string"&&/^(\d+\.\d+)%|(\d+)%$/.test(c)&&(g*=.01,d==="pixels"&&((v==="x1"||v==="x2"||v==="r2")&&(g*=l.viewBoxWidth||l.width),(v==="y1"||v==="y2")&&(g*=l.viewBoxHeight||l.height)))),s[v]=g})}}(),function(){var h=t.util.toFixed;t.Pattern=t.util.createClass({repeat:"repeat",offsetX:0,offsetY:0,crossOrigin:"",patternTransform:null,initialize:function(i,u){if(i||(i={}),this.id=t.Object.__uid++,this.setOptions(i),!i.source||i.source&&typeof i.source!="string"){u&&u(this);return}else{var f=this;this.source=t.util.createImage(),t.util.loadImage(i.source,function(o,a){f.source=o,u&&u(f,a)},null,this.crossOrigin)}},toObject:function(i){var u=t.Object.NUM_FRACTION_DIGITS,f,o;return typeof this.source.src=="string"?f=this.source.src:typeof this.source=="object"&&this.source.toDataURL&&(f=this.source.toDataURL()),o={type:"pattern",source:f,repeat:this.repeat,crossOrigin:this.crossOrigin,offsetX:h(this.offsetX,u),offsetY:h(this.offsetY,u),patternTransform:this.patternTransform?this.patternTransform.concat():null},t.util.populateWithProperties(this,o,i),o},toSVG:function(i){var u=typeof this.source=="function"?this.source():this.source,f=u.width/i.width,o=u.height/i.height,a=this.offsetX/i.width,s=this.offsetY/i.height,l="";return(this.repeat==="repeat-x"||this.repeat==="no-repeat")&&(o=1,s&&(o+=Math.abs(s))),(this.repeat==="repeat-y"||this.repeat==="no-repeat")&&(f=1,a&&(f+=Math.abs(a))),u.src?l=u.src:u.toDataURL&&(l=u.toDataURL()),'<pattern id="SVGID_'+this.id+'" x="'+a+'" y="'+s+'" width="'+f+'" height="'+o+`">
<image x="0" y="0" width="`+u.width+'" height="'+u.height+'" xlink:href="'+l+`"></image>
</pattern>
`},setOptions:function(i){for(var u in i)this[u]=i[u]},toLive:function(i){var u=this.source;return!u||typeof u.src<"u"&&(!u.complete||u.naturalWidth===0||u.naturalHeight===0)?"":i.createPattern(u,this.repeat)}})}(),function(h){var i=h.fabric||(h.fabric={}),u=i.util.toFixed;if(i.Shadow){i.warn("fabric.Shadow is already defined.");return}i.Shadow=i.util.createClass({color:"rgb(0,0,0)",blur:0,offsetX:0,offsetY:0,affectStroke:!1,includeDefaultValues:!0,nonScaling:!1,initialize:function(f){typeof f=="string"&&(f=this._parseShadow(f));for(var o in f)this[o]=f[o];this.id=i.Object.__uid++},_parseShadow:function(f){var o=f.trim(),a=i.Shadow.reOffsetsAndBlur.exec(o)||[],s=o.replace(i.Shadow.reOffsetsAndBlur,"")||"rgb(0,0,0)";return{color:s.trim(),offsetX:parseFloat(a[1],10)||0,offsetY:parseFloat(a[2],10)||0,blur:parseFloat(a[3],10)||0}},toString:function(){return[this.offsetX,this.offsetY,this.blur,this.color].join("px ")},toSVG:function(f){var o=40,a=40,s=i.Object.NUM_FRACTION_DIGITS,l=i.util.rotateVector({x:this.offsetX,y:this.offsetY},i.util.degreesToRadians(-f.angle)),d=20,c=new i.Color(this.color);return f.width&&f.height&&(o=u((Math.abs(l.x)+this.blur)/f.width,s)*100+d,a=u((Math.abs(l.y)+this.blur)/f.height,s)*100+d),f.flipX&&(l.x*=-1),f.flipY&&(l.y*=-1),'<filter id="SVGID_'+this.id+'" y="-'+a+'%" height="'+(100+2*a)+'%" x="-'+o+'%" width="'+(100+2*o)+`%" >
	<feGaussianBlur in="SourceAlpha" stdDeviation="`+u(this.blur?this.blur/2:0,s)+`"></feGaussianBlur>
	<feOffset dx="`+u(l.x,s)+'" dy="'+u(l.y,s)+`" result="oBlur" ></feOffset>
	<feFlood flood-color="`+c.toRgb()+'" flood-opacity="'+c.getAlpha()+`"/>
	<feComposite in2="oBlur" operator="in" />
	<feMerge>
		<feMergeNode></feMergeNode>
		<feMergeNode in="SourceGraphic"></feMergeNode>
	</feMerge>
</filter>
`},toObject:function(){if(this.includeDefaultValues)return{color:this.color,blur:this.blur,offsetX:this.offsetX,offsetY:this.offsetY,affectStroke:this.affectStroke,nonScaling:this.nonScaling};var f={},o=i.Shadow.prototype;return["color","blur","offsetX","offsetY","affectStroke","nonScaling"].forEach(function(a){this[a]!==o[a]&&(f[a]=this[a])},this),f}}),i.Shadow.reOffsetsAndBlur=/(?:\s|^)(-?\d+(?:\.\d*)?(?:px)?(?:\s?|$))?(-?\d+(?:\.\d*)?(?:px)?(?:\s?|$))?(\d+(?:\.\d*)?(?:px)?)?(?:\s?|$)(?:$|\s)/}(e),function(){if(t.StaticCanvas){t.warn("fabric.StaticCanvas is already defined.");return}var h=t.util.object.extend,i=t.util.getElementOffset,u=t.util.removeFromArray,f=t.util.toFixed,o=t.util.transformPoint,a=t.util.invertTransform,s=t.util.getNodeCanvas,l=t.util.createCanvasElement,d=new Error("Could not initialize `canvas` element");t.StaticCanvas=t.util.createClass(t.CommonMethods,{initialize:function(c,g){g||(g={}),this.renderAndResetBound=this.renderAndReset.bind(this),this.requestRenderAllBound=this.requestRenderAll.bind(this),this._initStatic(c,g)},backgroundColor:"",backgroundImage:null,overlayColor:"",overlayImage:null,includeDefaultValues:!0,stateful:!1,renderOnAddRemove:!0,controlsAboveOverlay:!1,allowTouchScrolling:!1,imageSmoothingEnabled:!0,viewportTransform:t.iMatrix.concat(),backgroundVpt:!0,overlayVpt:!0,enableRetinaScaling:!0,vptCoords:{},skipOffscreen:!0,clipPath:void 0,_initStatic:function(c,g){var v=this.requestRenderAllBound;this._objects=[],this._createLowerCanvas(c),this._initOptions(g),this.interactive||this._initRetinaScaling(),g.overlayImage&&this.setOverlayImage(g.overlayImage,v),g.backgroundImage&&this.setBackgroundImage(g.backgroundImage,v),g.backgroundColor&&this.setBackgroundColor(g.backgroundColor,v),g.overlayColor&&this.setOverlayColor(g.overlayColor,v),this.calcOffset()},_isRetinaScaling:function(){return t.devicePixelRatio>1&&this.enableRetinaScaling},getRetinaScaling:function(){return this._isRetinaScaling()?Math.max(1,t.devicePixelRatio):1},_initRetinaScaling:function(){if(this._isRetinaScaling()){var c=t.devicePixelRatio;this.__initRetinaScaling(c,this.lowerCanvasEl,this.contextContainer),this.upperCanvasEl&&this.__initRetinaScaling(c,this.upperCanvasEl,this.contextTop)}},__initRetinaScaling:function(c,g,v){g.setAttribute("width",this.width*c),g.setAttribute("height",this.height*c),v.scale(c,c)},calcOffset:function(){return this._offset=i(this.lowerCanvasEl),this},setOverlayImage:function(c,g,v){return this.__setBgOverlayImage("overlayImage",c,g,v)},setBackgroundImage:function(c,g,v){return this.__setBgOverlayImage("backgroundImage",c,g,v)},setOverlayColor:function(c,g){return this.__setBgOverlayColor("overlayColor",c,g)},setBackgroundColor:function(c,g){return this.__setBgOverlayColor("backgroundColor",c,g)},__setBgOverlayImage:function(c,g,v,y){return typeof g=="string"?t.util.loadImage(g,function(_,w){if(_){var C=new t.Image(_,y);this[c]=C,C.canvas=this}v&&v(_,w)},this,y&&y.crossOrigin):(y&&g.setOptions(y),this[c]=g,g&&(g.canvas=this),v&&v(g,!1)),this},__setBgOverlayColor:function(c,g,v){return this[c]=g,this._initGradient(g,c),this._initPattern(g,c,v),this},_createCanvasElement:function(){var c=l();if(!c||(c.style||(c.style={}),typeof c.getContext>"u"))throw d;return c},_initOptions:function(c){var g=this.lowerCanvasEl;this._setOptions(c),this.width=this.width||parseInt(g.width,10)||0,this.height=this.height||parseInt(g.height,10)||0,this.lowerCanvasEl.style&&(g.width=this.width,g.height=this.height,g.style.width=this.width+"px",g.style.height=this.height+"px",this.viewportTransform=this.viewportTransform.slice())},_createLowerCanvas:function(c){c&&c.getContext?this.lowerCanvasEl=c:this.lowerCanvasEl=t.util.getById(c)||this._createCanvasElement(),t.util.addClass(this.lowerCanvasEl,"lower-canvas"),this._originalCanvasStyle=this.lowerCanvasEl.style,this.interactive&&this._applyCanvasStyle(this.lowerCanvasEl),this.contextContainer=this.lowerCanvasEl.getContext("2d")},getWidth:function(){return this.width},getHeight:function(){return this.height},setWidth:function(c,g){return this.setDimensions({width:c},g)},setHeight:function(c,g){return this.setDimensions({height:c},g)},setDimensions:function(c,g){var v;g=g||{};for(var y in c)v=c[y],g.cssOnly||(this._setBackstoreDimension(y,c[y]),v+="px",this.hasLostContext=!0),g.backstoreOnly||this._setCssDimension(y,v);return this._isCurrentlyDrawing&&this.freeDrawingBrush&&this.freeDrawingBrush._setBrushStyles(this.contextTop),this._initRetinaScaling(),this.calcOffset(),g.cssOnly||this.requestRenderAll(),this},_setBackstoreDimension:function(c,g){return this.lowerCanvasEl[c]=g,this.upperCanvasEl&&(this.upperCanvasEl[c]=g),this.cacheCanvasEl&&(this.cacheCanvasEl[c]=g),this[c]=g,this},_setCssDimension:function(c,g){return this.lowerCanvasEl.style[c]=g,this.upperCanvasEl&&(this.upperCanvasEl.style[c]=g),this.wrapperEl&&(this.wrapperEl.style[c]=g),this},getZoom:function(){return this.viewportTransform[0]},setViewportTransform:function(c){var g=this._activeObject,v=this.backgroundImage,y=this.overlayImage,_,w,C;for(this.viewportTransform=c,w=0,C=this._objects.length;w<C;w++)_=this._objects[w],_.group||_.setCoords(!0);return g&&g.setCoords(),v&&v.setCoords(!0),y&&y.setCoords(!0),this.calcViewportBoundaries(),this.renderOnAddRemove&&this.requestRenderAll(),this},zoomToPoint:function(c,g){var v=c,y=this.viewportTransform.slice(0);c=o(c,a(this.viewportTransform)),y[0]=g,y[3]=g;var _=o(c,y);return y[4]+=v.x-_.x,y[5]+=v.y-_.y,this.setViewportTransform(y)},setZoom:function(c){return this.zoomToPoint(new t.Point(0,0),c),this},absolutePan:function(c){var g=this.viewportTransform.slice(0);return g[4]=-c.x,g[5]=-c.y,this.setViewportTransform(g)},relativePan:function(c){return this.absolutePan(new t.Point(-c.x-this.viewportTransform[4],-c.y-this.viewportTransform[5]))},getElement:function(){return this.lowerCanvasEl},_onObjectAdded:function(c){this.stateful&&c.setupState(),c._set("canvas",this),c.setCoords(),this.fire("object:added",{target:c}),c.fire("added")},_onObjectRemoved:function(c){this.fire("object:removed",{target:c}),c.fire("removed"),delete c.canvas},clearContext:function(c){return c.clearRect(0,0,this.width,this.height),this},getContext:function(){return this.contextContainer},clear:function(){return this.remove.apply(this,this.getObjects()),this.backgroundImage=null,this.overlayImage=null,this.backgroundColor="",this.overlayColor="",this._hasITextHandlers&&(this.off("mouse:up",this._mouseUpITextHandler),this._iTextInstances=null,this._hasITextHandlers=!1),this.clearContext(this.contextContainer),this.fire("canvas:cleared"),this.renderOnAddRemove&&this.requestRenderAll(),this},renderAll:function(){var c=this.contextContainer;return this.renderCanvas(c,this._objects),this},renderAndReset:function(){this.isRendering=0,this.renderAll()},requestRenderAll:function(){return this.isRendering||(this.isRendering=t.util.requestAnimFrame(this.renderAndResetBound)),this},calcViewportBoundaries:function(){var c={},g=this.width,v=this.height,y=a(this.viewportTransform);return c.tl=o({x:0,y:0},y),c.br=o({x:g,y:v},y),c.tr=new t.Point(c.br.x,c.tl.y),c.bl=new t.Point(c.tl.x,c.br.y),this.vptCoords=c,c},cancelRequestedRender:function(){this.isRendering&&(t.util.cancelAnimFrame(this.isRendering),this.isRendering=0)},renderCanvas:function(c,g){var v=this.viewportTransform,y=this.clipPath;this.cancelRequestedRender(),this.calcViewportBoundaries(),this.clearContext(c),t.util.setImageSmoothing(c,this.imageSmoothingEnabled),this.fire("before:render",{ctx:c}),this._renderBackground(c),c.save(),c.transform(v[0],v[1],v[2],v[3],v[4],v[5]),this._renderObjects(c,g),c.restore(),!this.controlsAboveOverlay&&this.interactive&&this.drawControls(c),y&&(y.canvas=this,y.shouldCache(),y._transformDone=!0,y.renderCache({forClipping:!0}),this.drawClipPathOnCanvas(c)),this._renderOverlay(c),this.controlsAboveOverlay&&this.interactive&&this.drawControls(c),this.fire("after:render",{ctx:c})},drawClipPathOnCanvas:function(c){var g=this.viewportTransform,v=this.clipPath;c.save(),c.transform(g[0],g[1],g[2],g[3],g[4],g[5]),c.globalCompositeOperation="destination-in",v.transform(c),c.scale(1/v.zoomX,1/v.zoomY),c.drawImage(v._cacheCanvas,-v.cacheTranslationX,-v.cacheTranslationY),c.restore()},_renderObjects:function(c,g){var v,y;for(v=0,y=g.length;v<y;++v)g[v]&&g[v].render(c)},_renderBackgroundOrOverlay:function(c,g){var v=this[g+"Color"],y=this[g+"Image"],_=this.viewportTransform,w=this[g+"Vpt"];if(!(!v&&!y)){if(v){c.save(),c.beginPath(),c.moveTo(0,0),c.lineTo(this.width,0),c.lineTo(this.width,this.height),c.lineTo(0,this.height),c.closePath(),c.fillStyle=v.toLive?v.toLive(c,this):v,w&&c.transform(_[0],_[1],_[2],_[3],_[4],_[5]),c.transform(1,0,0,1,v.offsetX||0,v.offsetY||0);var C=v.gradientTransform||v.patternTransform;C&&c.transform(C[0],C[1],C[2],C[3],C[4],C[5]),c.fill(),c.restore()}y&&(c.save(),w&&c.transform(_[0],_[1],_[2],_[3],_[4],_[5]),y.render(c),c.restore())}},_renderBackground:function(c){this._renderBackgroundOrOverlay(c,"background")},_renderOverlay:function(c){this._renderBackgroundOrOverlay(c,"overlay")},getCenter:function(){return{top:this.height/2,left:this.width/2}},getCenterPoint:function(){return new t.Point(this.width/2,this.height/2)},centerObjectH:function(c){return this._centerObject(c,new t.Point(this.getCenterPoint().x,c.getCenterPoint().y))},centerObjectV:function(c){return this._centerObject(c,new t.Point(c.getCenterPoint().x,this.getCenterPoint().y))},centerObject:function(c){var g=this.getCenterPoint();return this._centerObject(c,g)},viewportCenterObject:function(c){var g=this.getVpCenter();return this._centerObject(c,g)},viewportCenterObjectH:function(c){var g=this.getVpCenter();return this._centerObject(c,new t.Point(g.x,c.getCenterPoint().y)),this},viewportCenterObjectV:function(c){var g=this.getVpCenter();return this._centerObject(c,new t.Point(c.getCenterPoint().x,g.y))},getVpCenter:function(){var c=this.getCenterPoint(),g=a(this.viewportTransform);return o(c,g)},_centerObject:function(c,g){return c.setPositionByOrigin(g,"center","center"),c.setCoords(),this.renderOnAddRemove&&this.requestRenderAll(),this},toDatalessJSON:function(c){return this.toDatalessObject(c)},toObject:function(c){return this._toObjectMethod("toObject",c)},toDatalessObject:function(c){return this._toObjectMethod("toDatalessObject",c)},_toObjectMethod:function(c,g){var v=this.clipPath,y={version:t.version,objects:this._toObjects(c,g)};return v&&!v.excludeFromExport&&(y.clipPath=this._toObject(this.clipPath,c,g)),h(y,this.__serializeBgOverlay(c,g)),t.util.populateWithProperties(this,y,g),y},_toObjects:function(c,g){return this._objects.filter(function(v){return!v.excludeFromExport}).map(function(v){return this._toObject(v,c,g)},this)},_toObject:function(c,g,v){var y;this.includeDefaultValues||(y=c.includeDefaultValues,c.includeDefaultValues=!1);var _=c[g](v);return this.includeDefaultValues||(c.includeDefaultValues=y),_},__serializeBgOverlay:function(c,g){var v={},y=this.backgroundImage,_=this.overlayImage,w=this.backgroundColor,C=this.overlayColor;return w&&w.toObject?w.excludeFromExport||(v.background=w.toObject(g)):w&&(v.background=w),C&&C.toObject?C.excludeFromExport||(v.overlay=C.toObject(g)):C&&(v.overlay=C),y&&!y.excludeFromExport&&(v.backgroundImage=this._toObject(y,c,g)),_&&!_.excludeFromExport&&(v.overlayImage=this._toObject(_,c,g)),v},svgViewportTransformation:!0,toSVG:function(c,g){c||(c={}),c.reviver=g;var v=[];return this._setSVGPreamble(v,c),this._setSVGHeader(v,c),this.clipPath&&v.push('<g clip-path="url(#'+this.clipPath.clipPathId+`)" >
`),this._setSVGBgOverlayColor(v,"background"),this._setSVGBgOverlayImage(v,"backgroundImage",g),this._setSVGObjects(v,g),this.clipPath&&v.push(`</g>
`),this._setSVGBgOverlayColor(v,"overlay"),this._setSVGBgOverlayImage(v,"overlayImage",g),v.push("</svg>"),v.join("")},_setSVGPreamble:function(c,g){g.suppressPreamble||c.push('<?xml version="1.0" encoding="',g.encoding||"UTF-8",`" standalone="no" ?>
`,'<!DOCTYPE svg PUBLIC "-//W3C//DTD SVG 1.1//EN" ',`"http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd">
`)},_setSVGHeader:function(c,g){var v=g.width||this.width,y=g.height||this.height,_,w='viewBox="0 0 '+this.width+" "+this.height+'" ',C=t.Object.NUM_FRACTION_DIGITS;g.viewBox?w='viewBox="'+g.viewBox.x+" "+g.viewBox.y+" "+g.viewBox.width+" "+g.viewBox.height+'" ':this.svgViewportTransformation&&(_=this.viewportTransform,w='viewBox="'+f(-_[4]/_[0],C)+" "+f(-_[5]/_[3],C)+" "+f(this.width/_[0],C)+" "+f(this.height/_[3],C)+'" '),c.push("<svg ",'xmlns="http://www.w3.org/2000/svg" ','xmlns:xlink="http://www.w3.org/1999/xlink" ','version="1.1" ','width="',v,'" ','height="',y,'" ',w,`xml:space="preserve">
`,"<desc>Created with Fabric.js ",t.version,`</desc>
`,`<defs>
`,this.createSVGFontFacesMarkup(),this.createSVGRefElementsMarkup(),this.createSVGClipPathMarkup(g),`</defs>
`)},createSVGClipPathMarkup:function(c){var g=this.clipPath;return g?(g.clipPathId="CLIPPATH_"+t.Object.__uid++,'<clipPath id="'+g.clipPathId+`" >
`+this.clipPath.toClipPathSVG(c.reviver)+`</clipPath>
`):""},createSVGRefElementsMarkup:function(){var c=this,g=["background","overlay"].map(function(v){var y=c[v+"Color"];if(y&&y.toLive){var _=c[v+"Vpt"],w=c.viewportTransform,C={width:c.width/(_?w[0]:1),height:c.height/(_?w[3]:1)};return y.toSVG(C,{additionalTransform:_?t.util.matrixToSVG(w):""})}});return g.join("")},createSVGFontFacesMarkup:function(){var c="",g={},v,y,_,w,C,x,O,M,F,V=t.fontPaths,$=[];for(this._objects.forEach(function ee(re){$.push(re),re._objects&&re._objects.forEach(ee)}),M=0,F=$.length;M<F;M++)if(v=$[M],y=v.fontFamily,!(v.type.indexOf("text")===-1||g[y]||!V[y])&&(g[y]=!0,!!v.styles)){_=v.styles;for(C in _){w=_[C];for(O in w)x=w[O],y=x.fontFamily,!g[y]&&V[y]&&(g[y]=!0)}}for(var ne in g)c+=[`		@font-face {
`,"			font-family: '",ne,`';
`,"			src: url('",V[ne],`');
`,`		}
`].join("");return c&&(c=['	<style type="text/css">',`<![CDATA[
`,c,"]]>",`</style>
`].join("")),c},_setSVGObjects:function(c,g){var v,y,_,w=this._objects;for(y=0,_=w.length;y<_;y++)v=w[y],!v.excludeFromExport&&this._setSVGObject(c,v,g)},_setSVGObject:function(c,g,v){c.push(g.toSVG(v))},_setSVGBgOverlayImage:function(c,g,v){this[g]&&!this[g].excludeFromExport&&this[g].toSVG&&c.push(this[g].toSVG(v))},_setSVGBgOverlayColor:function(c,g){var v=this[g+"Color"],y=this.viewportTransform,_=this.width,w=this.height;if(v)if(v.toLive){var C=v.repeat,x=t.util.invertTransform(y),O=this[g+"Vpt"],M=O?t.util.matrixToSVG(x):"";c.push('<rect transform="'+M+" translate(",_/2,",",w/2,')"',' x="',v.offsetX-_/2,'" y="',v.offsetY-w/2,'" ','width="',C==="repeat-y"||C==="no-repeat"?v.source.width:_,'" height="',C==="repeat-x"||C==="no-repeat"?v.source.height:w,'" fill="url(#SVGID_'+v.id+')"',`></rect>
`)}else c.push('<rect x="0" y="0" width="100%" height="100%" ','fill="',v,'"',`></rect>
`)},sendToBack:function(c){if(!c)return this;var g=this._activeObject,v,y,_;if(c===g&&c.type==="activeSelection")for(_=g._objects,v=_.length;v--;)y=_[v],u(this._objects,y),this._objects.unshift(y);else u(this._objects,c),this._objects.unshift(c);return this.renderOnAddRemove&&this.requestRenderAll(),this},bringToFront:function(c){if(!c)return this;var g=this._activeObject,v,y,_;if(c===g&&c.type==="activeSelection")for(_=g._objects,v=0;v<_.length;v++)y=_[v],u(this._objects,y),this._objects.push(y);else u(this._objects,c),this._objects.push(c);return this.renderOnAddRemove&&this.requestRenderAll(),this},sendBackwards:function(c,g){if(!c)return this;var v=this._activeObject,y,_,w,C,x,O=0;if(c===v&&c.type==="activeSelection")for(x=v._objects,y=0;y<x.length;y++)_=x[y],w=this._objects.indexOf(_),w>0+O&&(C=w-1,u(this._objects,_),this._objects.splice(C,0,_)),O++;else w=this._objects.indexOf(c),w!==0&&(C=this._findNewLowerIndex(c,w,g),u(this._objects,c),this._objects.splice(C,0,c));return this.renderOnAddRemove&&this.requestRenderAll(),this},_findNewLowerIndex:function(c,g,v){var y,_;if(v)for(y=g,_=g-1;_>=0;--_){var w=c.intersectsWithObject(this._objects[_])||c.isContainedWithinObject(this._objects[_])||this._objects[_].isContainedWithinObject(c);if(w){y=_;break}}else y=g-1;return y},bringForward:function(c,g){if(!c)return this;var v=this._activeObject,y,_,w,C,x,O=0;if(c===v&&c.type==="activeSelection")for(x=v._objects,y=x.length;y--;)_=x[y],w=this._objects.indexOf(_),w<this._objects.length-1-O&&(C=w+1,u(this._objects,_),this._objects.splice(C,0,_)),O++;else w=this._objects.indexOf(c),w!==this._objects.length-1&&(C=this._findNewUpperIndex(c,w,g),u(this._objects,c),this._objects.splice(C,0,c));return this.renderOnAddRemove&&this.requestRenderAll(),this},_findNewUpperIndex:function(c,g,v){var y,_,w;if(v)for(y=g,_=g+1,w=this._objects.length;_<w;++_){var C=c.intersectsWithObject(this._objects[_])||c.isContainedWithinObject(this._objects[_])||this._objects[_].isContainedWithinObject(c);if(C){y=_;break}}else y=g+1;return y},moveTo:function(c,g){return u(this._objects,c),this._objects.splice(g,0,c),this.renderOnAddRemove&&this.requestRenderAll()},dispose:function(){return this.isRendering&&(t.util.cancelAnimFrame(this.isRendering),this.isRendering=0),this.forEachObject(function(c){c.dispose&&c.dispose()}),this._objects=[],this.backgroundImage&&this.backgroundImage.dispose&&this.backgroundImage.dispose(),this.backgroundImage=null,this.overlayImage&&this.overlayImage.dispose&&this.overlayImage.dispose(),this.overlayImage=null,this._iTextInstances=null,this.contextContainer=null,this.lowerCanvasEl.classList.remove("lower-canvas"),t.util.setStyle(this.lowerCanvasEl,this._originalCanvasStyle),delete this._originalCanvasStyle,this.lowerCanvasEl.setAttribute("width",this.width),this.lowerCanvasEl.setAttribute("height",this.height),t.util.cleanUpJsdomNode(this.lowerCanvasEl),this.lowerCanvasEl=void 0,this},toString:function(){return"#<fabric.Canvas ("+this.complexity()+"): { objects: "+this._objects.length+" }>"}}),h(t.StaticCanvas.prototype,t.Observable),h(t.StaticCanvas.prototype,t.Collection),h(t.StaticCanvas.prototype,t.DataURLExporter),h(t.StaticCanvas,{EMPTY_JSON:'{"objects": [], "background": "white"}',supports:function(c){var g=l();if(!g||!g.getContext)return null;var v=g.getContext("2d");if(!v)return null;switch(c){case"setLineDash":return typeof v.setLineDash<"u";default:return null}}}),t.StaticCanvas.prototype.toJSON=t.StaticCanvas.prototype.toObject,t.isLikelyNode&&(t.StaticCanvas.prototype.createPNGStream=function(){var c=s(this.lowerCanvasEl);return c&&c.createPNGStream()},t.StaticCanvas.prototype.createJPEGStream=function(c){var g=s(this.lowerCanvasEl);return g&&g.createJPEGStream(c)})}(),t.BaseBrush=t.util.createClass({color:"rgb(0, 0, 0)",width:1,shadow:null,strokeLineCap:"round",strokeLineJoin:"round",strokeMiterLimit:10,strokeDashArray:null,limitedToCanvasSize:!1,_setBrushStyles:function(h){h.strokeStyle=this.color,h.lineWidth=this.width,h.lineCap=this.strokeLineCap,h.miterLimit=this.strokeMiterLimit,h.lineJoin=this.strokeLineJoin,h.setLineDash(this.strokeDashArray||[])},_saveAndTransform:function(h){var i=this.canvas.viewportTransform;h.save(),h.transform(i[0],i[1],i[2],i[3],i[4],i[5])},_setShadow:function(){if(this.shadow){var h=this.canvas,i=this.shadow,u=h.contextTop,f=h.getZoom();h&&h._isRetinaScaling()&&(f*=t.devicePixelRatio),u.shadowColor=i.color,u.shadowBlur=i.blur*f,u.shadowOffsetX=i.offsetX*f,u.shadowOffsetY=i.offsetY*f}},needsFullRender:function(){var h=new t.Color(this.color);return h.getAlpha()<1||!!this.shadow},_resetShadow:function(){var h=this.canvas.contextTop;h.shadowColor="",h.shadowBlur=h.shadowOffsetX=h.shadowOffsetY=0},_isOutSideCanvas:function(h){return h.x<0||h.x>this.canvas.getWidth()||h.y<0||h.y>this.canvas.getHeight()}}),function(){t.PencilBrush=t.util.createClass(t.BaseBrush,{decimate:.4,drawStraightLine:!1,straightLineKey:"shiftKey",initialize:function(h){this.canvas=h,this._points=[]},needsFullRender:function(){return this.callSuper("needsFullRender")||this._hasStraightLine},_drawSegment:function(h,i,u){var f=i.midPointFrom(u);return h.quadraticCurveTo(i.x,i.y,f.x,f.y),f},onMouseDown:function(h,i){this.canvas._isMainEvent(i.e)&&(this.drawStraightLine=i.e[this.straightLineKey],this._prepareForDrawing(h),this._captureDrawingPath(h),this._render())},onMouseMove:function(h,i){if(this.canvas._isMainEvent(i.e)&&(this.drawStraightLine=i.e[this.straightLineKey],!(this.limitedToCanvasSize===!0&&this._isOutSideCanvas(h))&&this._captureDrawingPath(h)&&this._points.length>1))if(this.needsFullRender())this.canvas.clearContext(this.canvas.contextTop),this._render();else{var u=this._points,f=u.length,o=this.canvas.contextTop;this._saveAndTransform(o),this.oldEnd&&(o.beginPath(),o.moveTo(this.oldEnd.x,this.oldEnd.y)),this.oldEnd=this._drawSegment(o,u[f-2],u[f-1],!0),o.stroke(),o.restore()}},onMouseUp:function(h){return this.canvas._isMainEvent(h.e)?(this.drawStraightLine=!1,this.oldEnd=void 0,this._finalizeAndAddPath(),!1):!0},_prepareForDrawing:function(h){var i=new t.Point(h.x,h.y);this._reset(),this._addPoint(i),this.canvas.contextTop.moveTo(i.x,i.y)},_addPoint:function(h){return this._points.length>1&&h.eq(this._points[this._points.length-1])?!1:(this.drawStraightLine&&this._points.length>1&&(this._hasStraightLine=!0,this._points.pop()),this._points.push(h),!0)},_reset:function(){this._points=[],this._setBrushStyles(this.canvas.contextTop),this._setShadow(),this._hasStraightLine=!1},_captureDrawingPath:function(h){var i=new t.Point(h.x,h.y);return this._addPoint(i)},_render:function(h){var i,u,f=this._points[0],o=this._points[1];if(h=h||this.canvas.contextTop,this._saveAndTransform(h),h.beginPath(),this._points.length===2&&f.x===o.x&&f.y===o.y){var a=this.width/1e3;f=new t.Point(f.x,f.y),o=new t.Point(o.x,o.y),f.x-=a,o.x+=a}for(h.moveTo(f.x,f.y),i=1,u=this._points.length;i<u;i++)this._drawSegment(h,f,o),f=this._points[i],o=this._points[i+1];h.lineTo(f.x,f.y),h.stroke(),h.restore()},convertPointsToSVGPath:function(h){var i=this.width/1e3;return t.util.getSmoothPathFromPoints(h,i)},_isEmptySVGPath:function(h){var i=t.util.joinPath(h);return i==="M 0 0 Q 0 0 0 0 L 0 0"},createPath:function(h){var i=new t.Path(h,{fill:null,stroke:this.color,strokeWidth:this.width,strokeLineCap:this.strokeLineCap,strokeMiterLimit:this.strokeMiterLimit,strokeLineJoin:this.strokeLineJoin,strokeDashArray:this.strokeDashArray});return this.shadow&&(this.shadow.affectStroke=!0,i.shadow=new t.Shadow(this.shadow)),i},decimatePoints:function(h,i){if(h.length<=2)return h;var u=this.canvas.getZoom(),f=Math.pow(i/u,2),o,a=h.length-1,s=h[0],l=[s],d;for(o=1;o<a-1;o++)d=Math.pow(s.x-h[o].x,2)+Math.pow(s.y-h[o].y,2),d>=f&&(s=h[o],l.push(s));return l.push(h[a]),l},_finalizeAndAddPath:function(){var h=this.canvas.contextTop;h.closePath(),this.decimate&&(this._points=this.decimatePoints(this._points,this.decimate));var i=this.convertPointsToSVGPath(this._points);if(this._isEmptySVGPath(i)){this.canvas.requestRenderAll();return}var u=this.createPath(i);this.canvas.clearContext(this.canvas.contextTop),this.canvas.fire("before:path:created",{path:u}),this.canvas.add(u),this.canvas.requestRenderAll(),u.setCoords(),this._resetShadow(),this.canvas.fire("path:created",{path:u})}})}(),t.CircleBrush=t.util.createClass(t.BaseBrush,{width:10,initialize:function(h){this.canvas=h,this.points=[]},drawDot:function(h){var i=this.addPoint(h),u=this.canvas.contextTop;this._saveAndTransform(u),this.dot(u,i),u.restore()},dot:function(h,i){h.fillStyle=i.fill,h.beginPath(),h.arc(i.x,i.y,i.radius,0,Math.PI*2,!1),h.closePath(),h.fill()},onMouseDown:function(h){this.points.length=0,this.canvas.clearContext(this.canvas.contextTop),this._setShadow(),this.drawDot(h)},_render:function(){var h=this.canvas.contextTop,i,u,f=this.points;for(this._saveAndTransform(h),i=0,u=f.length;i<u;i++)this.dot(h,f[i]);h.restore()},onMouseMove:function(h){this.limitedToCanvasSize===!0&&this._isOutSideCanvas(h)||(this.needsFullRender()?(this.canvas.clearContext(this.canvas.contextTop),this.addPoint(h),this._render()):this.drawDot(h))},onMouseUp:function(){var h=this.canvas.renderOnAddRemove,i,u;this.canvas.renderOnAddRemove=!1;var f=[];for(i=0,u=this.points.length;i<u;i++){var o=this.points[i],a=new t.Circle({radius:o.radius,left:o.x,top:o.y,originX:"center",originY:"center",fill:o.fill});this.shadow&&(a.shadow=new t.Shadow(this.shadow)),f.push(a)}var s=new t.Group(f);s.canvas=this.canvas,this.canvas.fire("before:path:created",{path:s}),this.canvas.add(s),this.canvas.fire("path:created",{path:s}),this.canvas.clearContext(this.canvas.contextTop),this._resetShadow(),this.canvas.renderOnAddRemove=h,this.canvas.requestRenderAll()},addPoint:function(h){var i=new t.Point(h.x,h.y),u=t.util.getRandomInt(Math.max(0,this.width-20),this.width+20)/2,f=new t.Color(this.color).setAlpha(t.util.getRandomInt(0,100)/100).toRgba();return i.radius=u,i.fill=f,this.points.push(i),i}}),t.SprayBrush=t.util.createClass(t.BaseBrush,{width:10,density:20,dotWidth:1,dotWidthVariance:1,randomOpacity:!1,optimizeOverlapping:!0,initialize:function(h){this.canvas=h,this.sprayChunks=[]},onMouseDown:function(h){this.sprayChunks.length=0,this.canvas.clearContext(this.canvas.contextTop),this._setShadow(),this.addSprayChunk(h),this.render(this.sprayChunkPoints)},onMouseMove:function(h){this.limitedToCanvasSize===!0&&this._isOutSideCanvas(h)||(this.addSprayChunk(h),this.render(this.sprayChunkPoints))},onMouseUp:function(){var h=this.canvas.renderOnAddRemove;this.canvas.renderOnAddRemove=!1;for(var i=[],u=0,f=this.sprayChunks.length;u<f;u++)for(var o=this.sprayChunks[u],a=0,s=o.length;a<s;a++){var l=new t.Rect({width:o[a].width,height:o[a].width,left:o[a].x+1,top:o[a].y+1,originX:"center",originY:"center",fill:this.color});i.push(l)}this.optimizeOverlapping&&(i=this._getOptimizedRects(i));var d=new t.Group(i);this.shadow&&d.set("shadow",new t.Shadow(this.shadow)),this.canvas.fire("before:path:created",{path:d}),this.canvas.add(d),this.canvas.fire("path:created",{path:d}),this.canvas.clearContext(this.canvas.contextTop),this._resetShadow(),this.canvas.renderOnAddRemove=h,this.canvas.requestRenderAll()},_getOptimizedRects:function(h){var i={},u,f,o;for(f=0,o=h.length;f<o;f++)u=h[f].left+""+h[f].top,i[u]||(i[u]=h[f]);var a=[];for(u in i)a.push(i[u]);return a},render:function(h){var i=this.canvas.contextTop,u,f;for(i.fillStyle=this.color,this._saveAndTransform(i),u=0,f=h.length;u<f;u++){var o=h[u];typeof o.opacity<"u"&&(i.globalAlpha=o.opacity),i.fillRect(o.x,o.y,o.width,o.width)}i.restore()},_render:function(){var h=this.canvas.contextTop,i,u;for(h.fillStyle=this.color,this._saveAndTransform(h),i=0,u=this.sprayChunks.length;i<u;i++)this.render(this.sprayChunks[i]);h.restore()},addSprayChunk:function(h){this.sprayChunkPoints=[];var i,u,f,o=this.width/2,a;for(a=0;a<this.density;a++){i=t.util.getRandomInt(h.x-o,h.x+o),u=t.util.getRandomInt(h.y-o,h.y+o),this.dotWidthVariance?f=t.util.getRandomInt(Math.max(1,this.dotWidth-this.dotWidthVariance),this.dotWidth+this.dotWidthVariance):f=this.dotWidth;var s=new t.Point(i,u);s.width=f,this.randomOpacity&&(s.opacity=t.util.getRandomInt(0,100)/100),this.sprayChunkPoints.push(s)}this.sprayChunks.push(this.sprayChunkPoints)}}),t.PatternBrush=t.util.createClass(t.PencilBrush,{getPatternSrc:function(){var h=20,i=5,u=t.util.createCanvasElement(),f=u.getContext("2d");return u.width=u.height=h+i,f.fillStyle=this.color,f.beginPath(),f.arc(h/2,h/2,h/2,0,Math.PI*2,!1),f.closePath(),f.fill(),u},getPatternSrcFunction:function(){return String(this.getPatternSrc).replace("this.color",'"'+this.color+'"')},getPattern:function(h){return h.createPattern(this.source||this.getPatternSrc(),"repeat")},_setBrushStyles:function(h){this.callSuper("_setBrushStyles",h),h.strokeStyle=this.getPattern(h)},createPath:function(h){var i=this.callSuper("createPath",h),u=i._getLeftTopCoords().scalarAdd(i.strokeWidth/2);return i.stroke=new t.Pattern({source:this.source||this.getPatternSrcFunction(),offsetX:-u.x,offsetY:-u.y}),i}}),function(){var h=t.util.getPointer,i=t.util.degreesToRadians,u=t.util.isTouchEvent;t.Canvas=t.util.createClass(t.StaticCanvas,{initialize:function(o,a){a||(a={}),this.renderAndResetBound=this.renderAndReset.bind(this),this.requestRenderAllBound=this.requestRenderAll.bind(this),this._initStatic(o,a),this._initInteractive(),this._createCacheCanvas()},uniformScaling:!0,uniScaleKey:"shiftKey",centeredScaling:!1,centeredRotation:!1,centeredKey:"altKey",altActionKey:"shiftKey",interactive:!0,selection:!0,selectionKey:"shiftKey",altSelectionKey:null,selectionColor:"rgba(100, 100, 255, 0.3)",selectionDashArray:[],selectionBorderColor:"rgba(255, 255, 255, 0.3)",selectionLineWidth:1,selectionFullyContained:!1,hoverCursor:"move",moveCursor:"move",defaultCursor:"default",freeDrawingCursor:"crosshair",notAllowedCursor:"not-allowed",containerClass:"canvas-container",perPixelTargetFind:!1,targetFindTolerance:0,skipTargetFind:!1,isDrawingMode:!1,preserveObjectStacking:!1,snapAngle:0,snapThreshold:null,stopContextMenu:!1,fireRightClick:!1,fireMiddleClick:!1,targets:[],enablePointerEvents:!1,_hoveredTarget:null,_hoveredTargets:[],_initInteractive:function(){this._currentTransform=null,this._groupSelector=null,this._initWrapperElement(),this._createUpperCanvas(),this._initEventListeners(),this._initRetinaScaling(),this.freeDrawingBrush=t.PencilBrush&&new t.PencilBrush(this),this.calcOffset()},_chooseObjectsToRender:function(){var o=this.getActiveObjects(),a,s,l;if(o.length>0&&!this.preserveObjectStacking){s=[],l=[];for(var d=0,c=this._objects.length;d<c;d++)a=this._objects[d],o.indexOf(a)===-1?s.push(a):l.push(a);o.length>1&&(this._activeObject._objects=l),s.push.apply(s,l)}else s=this._objects;return s},renderAll:function(){this.contextTopDirty&&!this._groupSelector&&!this.isDrawingMode&&(this.clearContext(this.contextTop),this.contextTopDirty=!1),this.hasLostContext&&(this.renderTopLayer(this.contextTop),this.hasLostContext=!1);var o=this.contextContainer;return this.renderCanvas(o,this._chooseObjectsToRender()),this},renderTopLayer:function(o){o.save(),this.isDrawingMode&&this._isCurrentlyDrawing&&(this.freeDrawingBrush&&this.freeDrawingBrush._render(),this.contextTopDirty=!0),this.selection&&this._groupSelector&&(this._drawSelection(o),this.contextTopDirty=!0),o.restore()},renderTop:function(){var o=this.contextTop;return this.clearContext(o),this.renderTopLayer(o),this.fire("after:render"),this},_normalizePointer:function(o,a){var s=o.calcTransformMatrix(),l=t.util.invertTransform(s),d=this.restorePointerVpt(a);return t.util.transformPoint(d,l)},isTargetTransparent:function(o,a,s){if(o.shouldCache()&&o._cacheCanvas&&o!==this._activeObject){var l=this._normalizePointer(o,{x:a,y:s}),d=Math.max(o.cacheTranslationX+l.x*o.zoomX,0),c=Math.max(o.cacheTranslationY+l.y*o.zoomY,0),_=t.util.isTransparent(o._cacheContext,Math.round(d),Math.round(c),this.targetFindTolerance);return _}var g=this.contextCache,v=o.selectionBackgroundColor,y=this.viewportTransform;o.selectionBackgroundColor="",this.clearContext(g),g.save(),g.transform(y[0],y[1],y[2],y[3],y[4],y[5]),o.render(g),g.restore(),o.selectionBackgroundColor=v;var _=t.util.isTransparent(g,a,s,this.targetFindTolerance);return _},_isSelectionKeyPressed:function(o){var a=!1;return Array.isArray(this.selectionKey)?a=!!this.selectionKey.find(function(s){return o[s]===!0}):a=o[this.selectionKey],a},_shouldClearSelection:function(o,a){var s=this.getActiveObjects(),l=this._activeObject;return!a||a&&l&&s.length>1&&s.indexOf(a)===-1&&l!==a&&!this._isSelectionKeyPressed(o)||a&&!a.evented||a&&!a.selectable&&l&&l!==a},_shouldCenterTransform:function(o,a,s){if(o){var l;return a==="scale"||a==="scaleX"||a==="scaleY"||a==="resizing"?l=this.centeredScaling||o.centeredScaling:a==="rotate"&&(l=this.centeredRotation||o.centeredRotation),l?!s:s}},_getOriginFromCorner:function(o,a){var s={x:o.originX,y:o.originY};return a==="ml"||a==="tl"||a==="bl"?s.x="right":(a==="mr"||a==="tr"||a==="br")&&(s.x="left"),a==="tl"||a==="mt"||a==="tr"?s.y="bottom":(a==="bl"||a==="mb"||a==="br")&&(s.y="top"),s},_getActionFromCorner:function(o,a,s,l){if(!a||!o)return"drag";var d=l.controls[a];return d.getActionName(s,d,l)},_setupCurrentTransform:function(o,a,s){if(a){var l=this.getPointer(o),d=a.__corner,c=a.controls[d],g=s&&d?c.getActionHandler(o,a,c):t.controlsUtils.dragHandler,v=this._getActionFromCorner(s,d,o,a),y=this._getOriginFromCorner(a,d),_=o[this.centeredKey],w={target:a,action:v,actionHandler:g,corner:d,scaleX:a.scaleX,scaleY:a.scaleY,skewX:a.skewX,skewY:a.skewY,offsetX:l.x-a.left,offsetY:l.y-a.top,originX:y.x,originY:y.y,ex:l.x,ey:l.y,lastX:l.x,lastY:l.y,theta:i(a.angle),width:a.width*a.scaleX,shiftKey:o.shiftKey,altKey:_,original:t.util.saveObjectTransform(a)};this._shouldCenterTransform(a,v,_)&&(w.originX="center",w.originY="center"),w.original.originX=y.x,w.original.originY=y.y,this._currentTransform=w,this._beforeTransform(o)}},setCursor:function(o){this.upperCanvasEl.style.cursor=o},_drawSelection:function(o){var a=this._groupSelector,s=new t.Point(a.ex,a.ey),l=t.util.transformPoint(s,this.viewportTransform),d=new t.Point(a.ex+a.left,a.ey+a.top),c=t.util.transformPoint(d,this.viewportTransform),g=Math.min(l.x,c.x),v=Math.min(l.y,c.y),y=Math.max(l.x,c.x),_=Math.max(l.y,c.y),w=this.selectionLineWidth/2;this.selectionColor&&(o.fillStyle=this.selectionColor,o.fillRect(g,v,y-g,_-v)),!(!this.selectionLineWidth||!this.selectionBorderColor)&&(o.lineWidth=this.selectionLineWidth,o.strokeStyle=this.selectionBorderColor,g+=w,v+=w,y-=w,_-=w,t.Object.prototype._setLineDash.call(this,o,this.selectionDashArray),o.strokeRect(g,v,y-g,_-v))},findTarget:function(o,a){if(!this.skipTargetFind){var s=!0,l=this.getPointer(o,s),d=this._activeObject,c=this.getActiveObjects(),g,v,y=u(o),_=c.length>1&&!a||c.length===1;if(this.targets=[],_&&d._findTargetCorner(l,y)||c.length>1&&!a&&d===this._searchPossibleTargets([d],l))return d;if(c.length===1&&d===this._searchPossibleTargets([d],l))if(this.preserveObjectStacking)g=d,v=this.targets,this.targets=[];else return d;var w=this._searchPossibleTargets(this._objects,l);return o[this.altSelectionKey]&&w&&g&&w!==g&&(w=g,this.targets=v),w}},_checkTarget:function(o,a,s){if(a&&a.visible&&a.evented&&a.containsPoint(o))if((this.perPixelTargetFind||a.perPixelTargetFind)&&!a.isEditing){var l=this.isTargetTransparent(a,s.x,s.y);if(!l)return!0}else return!0},_searchPossibleTargets:function(o,a){for(var s,l=o.length,d;l--;){var c=o[l],g=c.group?this._normalizePointer(c.group,a):a;if(this._checkTarget(g,c,a)){s=o[l],s.subTargetCheck&&s instanceof t.Group&&(d=this._searchPossibleTargets(s._objects,a),d&&this.targets.push(d));break}}return s},restorePointerVpt:function(o){return t.util.transformPoint(o,t.util.invertTransform(this.viewportTransform))},getPointer:function(o,a){if(this._absolutePointer&&!a)return this._absolutePointer;if(this._pointer&&a)return this._pointer;var s=h(o),l=this.upperCanvasEl,d=l.getBoundingClientRect(),c=d.width||0,g=d.height||0,v;(!c||!g)&&("top"in d&&"bottom"in d&&(g=Math.abs(d.top-d.bottom)),"right"in d&&"left"in d&&(c=Math.abs(d.right-d.left))),this.calcOffset(),s.x=s.x-this._offset.left,s.y=s.y-this._offset.top,a||(s=this.restorePointerVpt(s));var y=this.getRetinaScaling();return y!==1&&(s.x/=y,s.y/=y),c===0||g===0?v={width:1,height:1}:v={width:l.width/c,height:l.height/g},{x:s.x*v.width,y:s.y*v.height}},_createUpperCanvas:function(){var o=this.lowerCanvasEl.className.replace(/\s*lower-canvas\s*/,""),a=this.lowerCanvasEl,s=this.upperCanvasEl;s?s.className="":(s=this._createCanvasElement(),this.upperCanvasEl=s),t.util.addClass(s,"upper-canvas "+o),this.wrapperEl.appendChild(s),this._copyCanvasStyle(a,s),this._applyCanvasStyle(s),this.contextTop=s.getContext("2d")},getTopContext:function(){return this.contextTop},_createCacheCanvas:function(){this.cacheCanvasEl=this._createCanvasElement(),this.cacheCanvasEl.setAttribute("width",this.width),this.cacheCanvasEl.setAttribute("height",this.height),this.contextCache=this.cacheCanvasEl.getContext("2d")},_initWrapperElement:function(){this.wrapperEl=t.util.wrapElement(this.lowerCanvasEl,"div",{class:this.containerClass}),t.util.setStyle(this.wrapperEl,{width:this.width+"px",height:this.height+"px",position:"relative"}),t.util.makeElementUnselectable(this.wrapperEl)},_applyCanvasStyle:function(o){var a=this.width||o.width,s=this.height||o.height;t.util.setStyle(o,{position:"absolute",width:a+"px",height:s+"px",left:0,top:0,"touch-action":this.allowTouchScrolling?"manipulation":"none","-ms-touch-action":this.allowTouchScrolling?"manipulation":"none"}),o.width=a,o.height=s,t.util.makeElementUnselectable(o)},_copyCanvasStyle:function(o,a){a.style.cssText=o.style.cssText},getSelectionContext:function(){return this.contextTop},getSelectionElement:function(){return this.upperCanvasEl},getActiveObject:function(){return this._activeObject},getActiveObjects:function(){var o=this._activeObject;return o?o.type==="activeSelection"&&o._objects?o._objects.slice(0):[o]:[]},_onObjectRemoved:function(o){o===this._activeObject&&(this.fire("before:selection:cleared",{target:o}),this._discardActiveObject(),this.fire("selection:cleared",{target:o}),o.fire("deselected")),o===this._hoveredTarget&&(this._hoveredTarget=null,this._hoveredTargets=[]),this.callSuper("_onObjectRemoved",o)},_fireSelectionEvents:function(o,a){var s=!1,l=this.getActiveObjects(),d=[],c=[];o.forEach(function(g){l.indexOf(g)===-1&&(s=!0,g.fire("deselected",{e:a,target:g}),c.push(g))}),l.forEach(function(g){o.indexOf(g)===-1&&(s=!0,g.fire("selected",{e:a,target:g}),d.push(g))}),o.length>0&&l.length>0?s&&this.fire("selection:updated",{e:a,selected:d,deselected:c}):l.length>0?this.fire("selection:created",{e:a,selected:d}):o.length>0&&this.fire("selection:cleared",{e:a,deselected:c})},setActiveObject:function(o,a){var s=this.getActiveObjects();return this._setActiveObject(o,a),this._fireSelectionEvents(s,a),this},_setActiveObject:function(o,a){return this._activeObject===o||!this._discardActiveObject(a,o)||o.onSelect({e:a})?!1:(this._activeObject=o,!0)},_discardActiveObject:function(o,a){var s=this._activeObject;if(s){if(s.onDeselect({e:o,object:a}))return!1;this._activeObject=null}return!0},discardActiveObject:function(o){var a=this.getActiveObjects(),s=this.getActiveObject();return a.length&&this.fire("before:selection:cleared",{target:s,e:o}),this._discardActiveObject(o),this._fireSelectionEvents(a,o),this},dispose:function(){var o=this.wrapperEl;return this.removeListeners(),o.removeChild(this.upperCanvasEl),o.removeChild(this.lowerCanvasEl),this.contextCache=null,this.contextTop=null,["upperCanvasEl","cacheCanvasEl"].forEach((function(a){t.util.cleanUpJsdomNode(this[a]),this[a]=void 0}).bind(this)),o.parentNode&&o.parentNode.replaceChild(this.lowerCanvasEl,this.wrapperEl),delete this.wrapperEl,t.StaticCanvas.prototype.dispose.call(this),this},clear:function(){return this.discardActiveObject(),this.clearContext(this.contextTop),this.callSuper("clear")},drawControls:function(o){var a=this._activeObject;a&&a._renderControls(o)},_toObject:function(o,a,s){var l=this._realizeGroupTransformOnObject(o),d=this.callSuper("_toObject",o,a,s);return this._unwindGroupTransformOnObject(o,l),d},_realizeGroupTransformOnObject:function(o){if(o.group&&o.group.type==="activeSelection"&&this._activeObject===o.group){var a=["angle","flipX","flipY","left","scaleX","scaleY","skewX","skewY","top"],s={};return a.forEach(function(l){s[l]=o[l]}),t.util.addTransformToObject(o,this._activeObject.calcOwnMatrix()),s}else return null},_unwindGroupTransformOnObject:function(o,a){a&&o.set(a)},_setSVGObject:function(o,a,s){var l=this._realizeGroupTransformOnObject(a);this.callSuper("_setSVGObject",o,a,s),this._unwindGroupTransformOnObject(a,l)},setViewportTransform:function(o){this.renderOnAddRemove&&this._activeObject&&this._activeObject.isEditing&&this._activeObject.clearContextTop(),t.StaticCanvas.prototype.setViewportTransform.call(this,o)}});for(var f in t.StaticCanvas)f!=="prototype"&&(t.Canvas[f]=t.StaticCanvas[f])}(),function(){var h=t.util.addListener,i=t.util.removeListener,u=3,f=2,o=1,a={passive:!1};function s(l,d){return l.button&&l.button===d-1}t.util.object.extend(t.Canvas.prototype,{mainTouchId:null,_initEventListeners:function(){this.removeListeners(),this._bindEvents(),this.addOrRemove(h,"add")},_getEventPrefix:function(){return this.enablePointerEvents?"pointer":"mouse"},addOrRemove:function(l,d){var c=this.upperCanvasEl,g=this._getEventPrefix();l(t.window,"resize",this._onResize),l(c,g+"down",this._onMouseDown),l(c,g+"move",this._onMouseMove,a),l(c,g+"out",this._onMouseOut),l(c,g+"enter",this._onMouseEnter),l(c,"wheel",this._onMouseWheel),l(c,"contextmenu",this._onContextMenu),l(c,"dblclick",this._onDoubleClick),l(c,"dragover",this._onDragOver),l(c,"dragenter",this._onDragEnter),l(c,"dragleave",this._onDragLeave),l(c,"drop",this._onDrop),this.enablePointerEvents||l(c,"touchstart",this._onTouchStart,a),typeof eventjs<"u"&&d in eventjs&&(eventjs[d](c,"gesture",this._onGesture),eventjs[d](c,"drag",this._onDrag),eventjs[d](c,"orientation",this._onOrientationChange),eventjs[d](c,"shake",this._onShake),eventjs[d](c,"longpress",this._onLongPress))},removeListeners:function(){this.addOrRemove(i,"remove");var l=this._getEventPrefix();i(t.document,l+"up",this._onMouseUp),i(t.document,"touchend",this._onTouchEnd,a),i(t.document,l+"move",this._onMouseMove,a),i(t.document,"touchmove",this._onMouseMove,a)},_bindEvents:function(){this.eventsBound||(this._onMouseDown=this._onMouseDown.bind(this),this._onTouchStart=this._onTouchStart.bind(this),this._onMouseMove=this._onMouseMove.bind(this),this._onMouseUp=this._onMouseUp.bind(this),this._onTouchEnd=this._onTouchEnd.bind(this),this._onResize=this._onResize.bind(this),this._onGesture=this._onGesture.bind(this),this._onDrag=this._onDrag.bind(this),this._onShake=this._onShake.bind(this),this._onLongPress=this._onLongPress.bind(this),this._onOrientationChange=this._onOrientationChange.bind(this),this._onMouseWheel=this._onMouseWheel.bind(this),this._onMouseOut=this._onMouseOut.bind(this),this._onMouseEnter=this._onMouseEnter.bind(this),this._onContextMenu=this._onContextMenu.bind(this),this._onDoubleClick=this._onDoubleClick.bind(this),this._onDragOver=this._onDragOver.bind(this),this._onDragEnter=this._simpleEventHandler.bind(this,"dragenter"),this._onDragLeave=this._simpleEventHandler.bind(this,"dragleave"),this._onDrop=this._onDrop.bind(this),this.eventsBound=!0)},_onGesture:function(l,d){this.__onTransformGesture&&this.__onTransformGesture(l,d)},_onDrag:function(l,d){this.__onDrag&&this.__onDrag(l,d)},_onMouseWheel:function(l){this.__onMouseWheel(l)},_onMouseOut:function(l){var d=this._hoveredTarget;this.fire("mouse:out",{target:d,e:l}),this._hoveredTarget=null,d&&d.fire("mouseout",{e:l});var c=this;this._hoveredTargets.forEach(function(g){c.fire("mouse:out",{target:d,e:l}),g&&d.fire("mouseout",{e:l})}),this._hoveredTargets=[]},_onMouseEnter:function(l){!this._currentTransform&&!this.findTarget(l)&&(this.fire("mouse:over",{target:null,e:l}),this._hoveredTarget=null,this._hoveredTargets=[])},_onOrientationChange:function(l,d){this.__onOrientationChange&&this.__onOrientationChange(l,d)},_onShake:function(l,d){this.__onShake&&this.__onShake(l,d)},_onLongPress:function(l,d){this.__onLongPress&&this.__onLongPress(l,d)},_onDragOver:function(l){l.preventDefault();var d=this._simpleEventHandler("dragover",l);this._fireEnterLeaveEvents(d,l)},_onDrop:function(l){return this._simpleEventHandler("drop:before",l),this._simpleEventHandler("drop",l)},_onContextMenu:function(l){return this.stopContextMenu&&(l.stopPropagation(),l.preventDefault()),!1},_onDoubleClick:function(l){this._cacheTransformEventData(l),this._handleEvent(l,"dblclick"),this._resetTransformEventData(l)},getPointerId:function(l){var d=l.changedTouches;return d?d[0]&&d[0].identifier:this.enablePointerEvents?l.pointerId:-1},_isMainEvent:function(l){return l.isPrimary===!0?!0:l.isPrimary===!1?!1:l.type==="touchend"&&l.touches.length===0?!0:l.changedTouches?l.changedTouches[0].identifier===this.mainTouchId:!0},_onTouchStart:function(l){l.preventDefault(),this.mainTouchId===null&&(this.mainTouchId=this.getPointerId(l)),this.__onMouseDown(l),this._resetTransformEventData();var d=this.upperCanvasEl,c=this._getEventPrefix();h(t.document,"touchend",this._onTouchEnd,a),h(t.document,"touchmove",this._onMouseMove,a),i(d,c+"down",this._onMouseDown)},_onMouseDown:function(l){this.__onMouseDown(l),this._resetTransformEventData();var d=this.upperCanvasEl,c=this._getEventPrefix();i(d,c+"move",this._onMouseMove,a),h(t.document,c+"up",this._onMouseUp),h(t.document,c+"move",this._onMouseMove,a)},_onTouchEnd:function(l){if(!(l.touches.length>0)){this.__onMouseUp(l),this._resetTransformEventData(),this.mainTouchId=null;var d=this._getEventPrefix();i(t.document,"touchend",this._onTouchEnd,a),i(t.document,"touchmove",this._onMouseMove,a);var c=this;this._willAddMouseDown&&clearTimeout(this._willAddMouseDown),this._willAddMouseDown=setTimeout(function(){h(c.upperCanvasEl,d+"down",c._onMouseDown),c._willAddMouseDown=0},400)}},_onMouseUp:function(l){this.__onMouseUp(l),this._resetTransformEventData();var d=this.upperCanvasEl,c=this._getEventPrefix();this._isMainEvent(l)&&(i(t.document,c+"up",this._onMouseUp),i(t.document,c+"move",this._onMouseMove,a),h(d,c+"move",this._onMouseMove,a))},_onMouseMove:function(l){!this.allowTouchScrolling&&l.preventDefault&&l.preventDefault(),this.__onMouseMove(l)},_onResize:function(){this.calcOffset()},_shouldRender:function(l){var d=this._activeObject;return!!d!=!!l||d&&l&&d!==l?!0:(d&&d.isEditing,!1)},__onMouseUp:function(l){var d,c=this._currentTransform,g=this._groupSelector,v=!1,y=!g||g.left===0&&g.top===0;if(this._cacheTransformEventData(l),d=this._target,this._handleEvent(l,"up:before"),s(l,u)){this.fireRightClick&&this._handleEvent(l,"up",u,y);return}if(s(l,f)){this.fireMiddleClick&&this._handleEvent(l,"up",f,y),this._resetTransformEventData();return}if(this.isDrawingMode&&this._isCurrentlyDrawing){this._onMouseUpInDrawingMode(l);return}if(this._isMainEvent(l)){if(c&&(this._finalizeCurrentTransform(l),v=c.actionPerformed),!y){var _=d===this._activeObject;this._maybeGroupObjects(l),v||(v=this._shouldRender(d)||!_&&d===this._activeObject)}var w,C;if(d){if(w=d._findTargetCorner(this.getPointer(l,!0),t.util.isTouchEvent(l)),d.selectable&&d!==this._activeObject&&d.activeOn==="up")this.setActiveObject(d,l),v=!0;else{var x=d.controls[w],O=x&&x.getMouseUpHandler(l,d,x);O&&(C=this.getPointer(l),O(l,c,C.x,C.y))}d.isMoving=!1}if(c&&(c.target!==d||c.corner!==w)){var M=c.target&&c.target.controls[c.corner],F=M&&M.getMouseUpHandler(l,d,x);C=C||this.getPointer(l),F&&F(l,c,C.x,C.y)}this._setCursorFromEvent(l,d),this._handleEvent(l,"up",o,y),this._groupSelector=null,this._currentTransform=null,d&&(d.__corner=0),v?this.requestRenderAll():y||this.renderTop()}},_simpleEventHandler:function(l,d){var c=this.findTarget(d),g=this.targets,v={e:d,target:c,subTargets:g};if(this.fire(l,v),c&&c.fire(l,v),!g)return c;for(var y=0;y<g.length;y++)g[y].fire(l,v);return c},_handleEvent:function(l,d,c,g){var v=this._target,y=this.targets||[],_={e:l,target:v,subTargets:y,button:c||o,isClick:g||!1,pointer:this._pointer,absolutePointer:this._absolutePointer,transform:this._currentTransform};d==="up"&&(_.currentTarget=this.findTarget(l),_.currentSubTargets=this.targets),this.fire("mouse:"+d,_),v&&v.fire("mouse"+d,_);for(var w=0;w<y.length;w++)y[w].fire("mouse"+d,_)},_finalizeCurrentTransform:function(l){var d=this._currentTransform,c=d.target,g={e:l,target:c,transform:d,action:d.action};c._scaling&&(c._scaling=!1),c.setCoords(),(d.actionPerformed||this.stateful&&c.hasStateChanged())&&this._fire("modified",g)},_onMouseDownInDrawingMode:function(l){this._isCurrentlyDrawing=!0,this.getActiveObject()&&this.discardActiveObject(l).requestRenderAll();var d=this.getPointer(l);this.freeDrawingBrush.onMouseDown(d,{e:l,pointer:d}),this._handleEvent(l,"down")},_onMouseMoveInDrawingMode:function(l){if(this._isCurrentlyDrawing){var d=this.getPointer(l);this.freeDrawingBrush.onMouseMove(d,{e:l,pointer:d})}this.setCursor(this.freeDrawingCursor),this._handleEvent(l,"move")},_onMouseUpInDrawingMode:function(l){var d=this.getPointer(l);this._isCurrentlyDrawing=this.freeDrawingBrush.onMouseUp({e:l,pointer:d}),this._handleEvent(l,"up")},__onMouseDown:function(l){this._cacheTransformEventData(l),this._handleEvent(l,"down:before");var d=this._target;if(s(l,u)){this.fireRightClick&&this._handleEvent(l,"down",u);return}if(s(l,f)){this.fireMiddleClick&&this._handleEvent(l,"down",f);return}if(this.isDrawingMode){this._onMouseDownInDrawingMode(l);return}if(this._isMainEvent(l)&&!this._currentTransform){var c=this._pointer;this._previousPointer=c;var g=this._shouldRender(d),v=this._shouldGroup(l,d);if(this._shouldClearSelection(l,d)?this.discardActiveObject(l):v&&(this._handleGrouping(l,d),d=this._activeObject),this.selection&&(!d||!d.selectable&&!d.isEditing&&d!==this._activeObject)&&(this._groupSelector={ex:this._absolutePointer.x,ey:this._absolutePointer.y,top:0,left:0}),d){var y=d===this._activeObject;d.selectable&&d.activeOn==="down"&&this.setActiveObject(d,l);var _=d._findTargetCorner(this.getPointer(l,!0),t.util.isTouchEvent(l));if(d.__corner=_,d===this._activeObject&&(_||!v)){this._setupCurrentTransform(l,d,y);var w=d.controls[_],c=this.getPointer(l),C=w&&w.getMouseDownHandler(l,d,w);C&&C(l,this._currentTransform,c.x,c.y)}}this._handleEvent(l,"down"),(g||v)&&this.requestRenderAll()}},_resetTransformEventData:function(){this._target=null,this._pointer=null,this._absolutePointer=null},_cacheTransformEventData:function(l){this._resetTransformEventData(),this._pointer=this.getPointer(l,!0),this._absolutePointer=this.restorePointerVpt(this._pointer),this._target=this._currentTransform?this._currentTransform.target:this.findTarget(l)||null},_beforeTransform:function(l){var d=this._currentTransform;this.stateful&&d.target.saveState(),this.fire("before:transform",{e:l,transform:d})},__onMouseMove:function(l){this._handleEvent(l,"move:before"),this._cacheTransformEventData(l);var d,c;if(this.isDrawingMode){this._onMouseMoveInDrawingMode(l);return}if(this._isMainEvent(l)){var g=this._groupSelector;g?(c=this._absolutePointer,g.left=c.x-g.ex,g.top=c.y-g.ey,this.renderTop()):this._currentTransform?this._transformObject(l):(d=this.findTarget(l)||null,this._setCursorFromEvent(l,d),this._fireOverOutEvents(d,l)),this._handleEvent(l,"move"),this._resetTransformEventData()}},_fireOverOutEvents:function(l,d){var c=this._hoveredTarget,g=this._hoveredTargets,v=this.targets,y=Math.max(g.length,v.length);this.fireSyntheticInOutEvents(l,d,{oldTarget:c,evtOut:"mouseout",canvasEvtOut:"mouse:out",evtIn:"mouseover",canvasEvtIn:"mouse:over"});for(var _=0;_<y;_++)this.fireSyntheticInOutEvents(v[_],d,{oldTarget:g[_],evtOut:"mouseout",evtIn:"mouseover"});this._hoveredTarget=l,this._hoveredTargets=this.targets.concat()},_fireEnterLeaveEvents:function(l,d){var c=this._draggedoverTarget,g=this._hoveredTargets,v=this.targets,y=Math.max(g.length,v.length);this.fireSyntheticInOutEvents(l,d,{oldTarget:c,evtOut:"dragleave",evtIn:"dragenter"});for(var _=0;_<y;_++)this.fireSyntheticInOutEvents(v[_],d,{oldTarget:g[_],evtOut:"dragleave",evtIn:"dragenter"});this._draggedoverTarget=l},fireSyntheticInOutEvents:function(l,d,c){var g,v,y=c.oldTarget,_,w,C=y!==l,x=c.canvasEvtIn,O=c.canvasEvtOut;C&&(g={e:d,target:l,previousTarget:y},v={e:d,target:y,nextTarget:l}),w=l&&C,_=y&&C,_&&(O&&this.fire(O,v),y.fire(c.evtOut,v)),w&&(x&&this.fire(x,g),l.fire(c.evtIn,g))},__onMouseWheel:function(l){this._cacheTransformEventData(l),this._handleEvent(l,"wheel"),this._resetTransformEventData()},_transformObject:function(l){var d=this.getPointer(l),c=this._currentTransform;c.reset=!1,c.shiftKey=l.shiftKey,c.altKey=l[this.centeredKey],this._performTransformAction(l,c,d),c.actionPerformed&&this.requestRenderAll()},_performTransformAction:function(l,d,c){var g=c.x,v=c.y,y=d.action,_=!1,w=d.actionHandler;w&&(_=w(l,d,g,v)),y==="drag"&&_&&(d.target.isMoving=!0,this.setCursor(d.target.moveCursor||this.moveCursor)),d.actionPerformed=d.actionPerformed||_},_fire:t.controlsUtils.fireEvent,_setCursorFromEvent:function(l,d){if(!d)return this.setCursor(this.defaultCursor),!1;var c=d.hoverCursor||this.hoverCursor,g=this._activeObject&&this._activeObject.type==="activeSelection"?this._activeObject:null,v=(!g||!g.contains(d))&&d._findTargetCorner(this.getPointer(l,!0));v?this.setCursor(this.getCornerCursor(v,d,l)):(d.subTargetCheck&&this.targets.concat().reverse().map(function(y){c=y.hoverCursor||c}),this.setCursor(c))},getCornerCursor:function(l,d,c){var g=d.controls[l];return g.cursorStyleHandler(c,g,d)}})}(),function(){var h=Math.min,i=Math.max;t.util.object.extend(t.Canvas.prototype,{_shouldGroup:function(u,f){var o=this._activeObject;return o&&this._isSelectionKeyPressed(u)&&f&&f.selectable&&this.selection&&(o!==f||o.type==="activeSelection")&&!f.onSelect({e:u})},_handleGrouping:function(u,f){var o=this._activeObject;o.__corner||f===o&&(f=this.findTarget(u,!0),!f||!f.selectable)||(o&&o.type==="activeSelection"?this._updateActiveSelection(f,u):this._createActiveSelection(f,u))},_updateActiveSelection:function(u,f){var o=this._activeObject,a=o._objects.slice(0);o.contains(u)?(o.removeWithUpdate(u),this._hoveredTarget=u,this._hoveredTargets=this.targets.concat(),o.size()===1&&this._setActiveObject(o.item(0),f)):(o.addWithUpdate(u),this._hoveredTarget=o,this._hoveredTargets=this.targets.concat()),this._fireSelectionEvents(a,f)},_createActiveSelection:function(u,f){var o=this.getActiveObjects(),a=this._createGroup(u);this._hoveredTarget=a,this._setActiveObject(a,f),this._fireSelectionEvents(o,f)},_createGroup:function(u){var f=this._objects,o=f.indexOf(this._activeObject)<f.indexOf(u),a=o?[this._activeObject,u]:[u,this._activeObject];return this._activeObject.isEditing&&this._activeObject.exitEditing(),new t.ActiveSelection(a,{canvas:this})},_groupSelectedObjects:function(u){var f=this._collectObjects(u),o;f.length===1?this.setActiveObject(f[0],u):f.length>1&&(o=new t.ActiveSelection(f.reverse(),{canvas:this}),this.setActiveObject(o,u))},_collectObjects:function(u){for(var f=[],o,a=this._groupSelector.ex,s=this._groupSelector.ey,l=a+this._groupSelector.left,d=s+this._groupSelector.top,c=new t.Point(h(a,l),h(s,d)),g=new t.Point(i(a,l),i(s,d)),v=!this.selectionFullyContained,y=a===l&&s===d,_=this._objects.length;_--&&(o=this._objects[_],!(!(!o||!o.selectable||!o.visible)&&(v&&o.intersectsWithRect(c,g,!0)||o.isContainedWithinRect(c,g,!0)||v&&o.containsPoint(c,null,!0)||v&&o.containsPoint(g,null,!0))&&(f.push(o),y))););return f.length>1&&(f=f.filter(function(w){return!w.onSelect({e:u})})),f},_maybeGroupObjects:function(u){this.selection&&this._groupSelector&&this._groupSelectedObjects(u),this.setCursor(this.defaultCursor),this._groupSelector=null}})}(),function(){t.util.object.extend(t.StaticCanvas.prototype,{toDataURL:function(h){h||(h={});var i=h.format||"png",u=h.quality||1,f=(h.multiplier||1)*(h.enableRetinaScaling?this.getRetinaScaling():1),o=this.toCanvasElement(f,h);return t.util.toDataURL(o,i,u)},toCanvasElement:function(h,i){h=h||1,i=i||{};var u=(i.width||this.width)*h,f=(i.height||this.height)*h,o=this.getZoom(),a=this.width,s=this.height,l=o*h,d=this.viewportTransform,c=(d[4]-(i.left||0))*h,g=(d[5]-(i.top||0))*h,v=this.interactive,y=[l,0,0,l,c,g],_=this.enableRetinaScaling,w=t.util.createCanvasElement(),C=this.contextTop;return w.width=u,w.height=f,this.contextTop=null,this.enableRetinaScaling=!1,this.interactive=!1,this.viewportTransform=y,this.width=u,this.height=f,this.calcViewportBoundaries(),this.renderCanvas(w.getContext("2d"),this._objects),this.viewportTransform=d,this.width=a,this.height=s,this.calcViewportBoundaries(),this.interactive=v,this.enableRetinaScaling=_,this.contextTop=C,w}})}(),t.util.object.extend(t.StaticCanvas.prototype,{loadFromJSON:function(h,i,u){if(h){var f=typeof h=="string"?JSON.parse(h):t.util.object.clone(h),o=this,a=f.clipPath,s=this.renderOnAddRemove;return this.renderOnAddRemove=!1,delete f.clipPath,this._enlivenObjects(f.objects,function(l){o.clear(),o._setBgOverlay(f,function(){a?o._enlivenObjects([a],function(d){o.clipPath=d[0],o.__setupCanvas.call(o,f,l,s,i)}):o.__setupCanvas.call(o,f,l,s,i)})},u),this}},__setupCanvas:function(h,i,u,f){var o=this;i.forEach(function(a,s){o.insertAt(a,s)}),this.renderOnAddRemove=u,delete h.objects,delete h.backgroundImage,delete h.overlayImage,delete h.background,delete h.overlay,this._setOptions(h),this.renderAll(),f&&f()},_setBgOverlay:function(h,i){var u={backgroundColor:!1,overlayColor:!1,backgroundImage:!1,overlayImage:!1};if(!h.backgroundImage&&!h.overlayImage&&!h.background&&!h.overlay){i&&i();return}var f=function(){u.backgroundImage&&u.overlayImage&&u.backgroundColor&&u.overlayColor&&i&&i()};this.__setBgOverlay("backgroundImage",h.backgroundImage,u,f),this.__setBgOverlay("overlayImage",h.overlayImage,u,f),this.__setBgOverlay("backgroundColor",h.background,u,f),this.__setBgOverlay("overlayColor",h.overlay,u,f)},__setBgOverlay:function(h,i,u,f){var o=this;if(!i){u[h]=!0,f&&f();return}h==="backgroundImage"||h==="overlayImage"?t.util.enlivenObjects([i],function(a){o[h]=a[0],u[h]=!0,f&&f()}):this["set"+t.util.string.capitalize(h,!0)](i,function(){u[h]=!0,f&&f()})},_enlivenObjects:function(h,i,u){if(!h||h.length===0){i&&i([]);return}t.util.enlivenObjects(h,function(f){i&&i(f)},null,u)},_toDataURL:function(h,i){this.clone(function(u){i(u.toDataURL(h))})},_toDataURLWithMultiplier:function(h,i,u){this.clone(function(f){u(f.toDataURLWithMultiplier(h,i))})},clone:function(h,i){var u=JSON.stringify(this.toJSON(i));this.cloneWithoutData(function(f){f.loadFromJSON(u,function(){h&&h(f)})})},cloneWithoutData:function(h){var i=t.util.createCanvasElement();i.width=this.width,i.height=this.height;var u=new t.Canvas(i);this.backgroundImage?(u.setBackgroundImage(this.backgroundImage.src,function(){u.renderAll(),h&&h(u)}),u.backgroundImageOpacity=this.backgroundImageOpacity,u.backgroundImageStretch=this.backgroundImageStretch):h&&h(u)}}),function(h){var i=h.fabric||(h.fabric={}),u=i.util.object.extend,f=i.util.object.clone,o=i.util.toFixed,a=i.util.string.capitalize,s=i.util.degreesToRadians,l=!i.isLikelyNode,d=2;i.Object||(i.Object=i.util.createClass(i.CommonMethods,{type:"object",originX:"left",originY:"top",top:0,left:0,width:0,height:0,scaleX:1,scaleY:1,flipX:!1,flipY:!1,opacity:1,angle:0,skewX:0,skewY:0,cornerSize:13,touchCornerSize:24,transparentCorners:!0,hoverCursor:null,moveCursor:null,padding:0,borderColor:"rgb(178,204,255)",borderDashArray:null,cornerColor:"rgb(178,204,255)",cornerStrokeColor:null,cornerStyle:"rect",cornerDashArray:null,centeredScaling:!1,centeredRotation:!0,fill:"rgb(0,0,0)",fillRule:"nonzero",globalCompositeOperation:"source-over",backgroundColor:"",selectionBackgroundColor:"",stroke:null,strokeWidth:1,strokeDashArray:null,strokeDashOffset:0,strokeLineCap:"butt",strokeLineJoin:"miter",strokeMiterLimit:4,shadow:null,borderOpacityWhenMoving:.4,borderScaleFactor:1,minScaleLimit:0,selectable:!0,evented:!0,visible:!0,hasControls:!0,hasBorders:!0,perPixelTargetFind:!1,includeDefaultValues:!0,lockMovementX:!1,lockMovementY:!1,lockRotation:!1,lockScalingX:!1,lockScalingY:!1,lockSkewingX:!1,lockSkewingY:!1,lockScalingFlip:!1,excludeFromExport:!1,objectCaching:l,statefullCache:!1,noScaleCache:!0,strokeUniform:!1,dirty:!0,__corner:0,paintFirst:"fill",activeOn:"down",stateProperties:"top left width height scaleX scaleY flipX flipY originX originY transformMatrix stroke strokeWidth strokeDashArray strokeLineCap strokeDashOffset strokeLineJoin strokeMiterLimit angle opacity fill globalCompositeOperation shadow visible backgroundColor skewX skewY fillRule paintFirst clipPath strokeUniform".split(" "),cacheProperties:"fill stroke strokeWidth strokeDashArray width height paintFirst strokeUniform strokeLineCap strokeDashOffset strokeLineJoin strokeMiterLimit backgroundColor clipPath".split(" "),colorProperties:"fill stroke backgroundColor".split(" "),clipPath:void 0,inverted:!1,absolutePositioned:!1,initialize:function(c){c&&this.setOptions(c)},_createCacheCanvas:function(){this._cacheProperties={},this._cacheCanvas=i.util.createCanvasElement(),this._cacheContext=this._cacheCanvas.getContext("2d"),this._updateCacheCanvas(),this.dirty=!0},_limitCacheSize:function(c){var g=i.perfLimitSizeTotal,v=c.width,y=c.height,_=i.maxCacheSideLimit,w=i.minCacheSideLimit;if(v<=_&&y<=_&&v*y<=g)return v<w&&(c.width=w),y<w&&(c.height=w),c;var C=v/y,x=i.util.limitDimsByArea(C,g),O=i.util.capValue,M=O(w,x.x,_),F=O(w,x.y,_);return v>M&&(c.zoomX/=v/M,c.width=M,c.capped=!0),y>F&&(c.zoomY/=y/F,c.height=F,c.capped=!0),c},_getCacheCanvasDimensions:function(){var c=this.getTotalObjectScaling(),g=this._getTransformedDimensions(0,0),v=g.x*c.scaleX/this.scaleX,y=g.y*c.scaleY/this.scaleY;return{width:v+d,height:y+d,zoomX:c.scaleX,zoomY:c.scaleY,x:v,y}},_updateCacheCanvas:function(){var c=this.canvas;if(this.noScaleCache&&c&&c._currentTransform){var g=c._currentTransform.target,v=c._currentTransform.action;if(this===g&&v.slice&&v.slice(0,5)==="scale")return!1}var y=this._cacheCanvas,_=this._limitCacheSize(this._getCacheCanvasDimensions()),w=i.minCacheSideLimit,C=_.width,x=_.height,O,M,F=_.zoomX,V=_.zoomY,$=C!==this.cacheWidth||x!==this.cacheHeight,ne=this.zoomX!==F||this.zoomY!==V,ee=$||ne,re=0,se=0,ue=!1;if($){var H=this._cacheCanvas.width,T=this._cacheCanvas.height,P=C>H||x>T,A=(C<H*.9||x<T*.9)&&H>w&&T>w;ue=P||A,P&&!_.capped&&(C>w||x>w)&&(re=C*.1,se=x*.1)}return this instanceof i.Text&&this.path&&(ee=!0,ue=!0,re+=this.getHeightOfLine(0)*this.zoomX,se+=this.getHeightOfLine(0)*this.zoomY),ee?(ue?(y.width=Math.ceil(C+re),y.height=Math.ceil(x+se)):(this._cacheContext.setTransform(1,0,0,1,0,0),this._cacheContext.clearRect(0,0,y.width,y.height)),O=_.x/2,M=_.y/2,this.cacheTranslationX=Math.round(y.width/2-O)+O,this.cacheTranslationY=Math.round(y.height/2-M)+M,this.cacheWidth=C,this.cacheHeight=x,this._cacheContext.translate(this.cacheTranslationX,this.cacheTranslationY),this._cacheContext.scale(F,V),this.zoomX=F,this.zoomY=V,!0):!1},setOptions:function(c){this._setOptions(c),this._initGradient(c.fill,"fill"),this._initGradient(c.stroke,"stroke"),this._initPattern(c.fill,"fill"),this._initPattern(c.stroke,"stroke")},transform:function(c){var g=this.group&&!this.group._transformDone||this.group&&this.canvas&&c===this.canvas.contextTop,v=this.calcTransformMatrix(!g);c.transform(v[0],v[1],v[2],v[3],v[4],v[5])},toObject:function(c){var g=i.Object.NUM_FRACTION_DIGITS,v={type:this.type,version:i.version,originX:this.originX,originY:this.originY,left:o(this.left,g),top:o(this.top,g),width:o(this.width,g),height:o(this.height,g),fill:this.fill&&this.fill.toObject?this.fill.toObject():this.fill,stroke:this.stroke&&this.stroke.toObject?this.stroke.toObject():this.stroke,strokeWidth:o(this.strokeWidth,g),strokeDashArray:this.strokeDashArray?this.strokeDashArray.concat():this.strokeDashArray,strokeLineCap:this.strokeLineCap,strokeDashOffset:this.strokeDashOffset,strokeLineJoin:this.strokeLineJoin,strokeUniform:this.strokeUniform,strokeMiterLimit:o(this.strokeMiterLimit,g),scaleX:o(this.scaleX,g),scaleY:o(this.scaleY,g),angle:o(this.angle,g),flipX:this.flipX,flipY:this.flipY,opacity:o(this.opacity,g),shadow:this.shadow&&this.shadow.toObject?this.shadow.toObject():this.shadow,visible:this.visible,backgroundColor:this.backgroundColor,fillRule:this.fillRule,paintFirst:this.paintFirst,globalCompositeOperation:this.globalCompositeOperation,skewX:o(this.skewX,g),skewY:o(this.skewY,g)};return this.clipPath&&!this.clipPath.excludeFromExport&&(v.clipPath=this.clipPath.toObject(c),v.clipPath.inverted=this.clipPath.inverted,v.clipPath.absolutePositioned=this.clipPath.absolutePositioned),i.util.populateWithProperties(this,v,c),this.includeDefaultValues||(v=this._removeDefaultValues(v)),v},toDatalessObject:function(c){return this.toObject(c)},_removeDefaultValues:function(c){var g=i.util.getKlass(c.type).prototype,v=g.stateProperties;return v.forEach(function(y){y==="left"||y==="top"||(c[y]===g[y]&&delete c[y],Array.isArray(c[y])&&Array.isArray(g[y])&&c[y].length===0&&g[y].length===0&&delete c[y])}),c},toString:function(){return"#<fabric."+a(this.type)+">"},getObjectScaling:function(){if(!this.group)return{scaleX:this.scaleX,scaleY:this.scaleY};var c=i.util.qrDecompose(this.calcTransformMatrix());return{scaleX:Math.abs(c.scaleX),scaleY:Math.abs(c.scaleY)}},getTotalObjectScaling:function(){var c=this.getObjectScaling(),g=c.scaleX,v=c.scaleY;if(this.canvas){var y=this.canvas.getZoom(),_=this.canvas.getRetinaScaling();g*=y*_,v*=y*_}return{scaleX:g,scaleY:v}},getObjectOpacity:function(){var c=this.opacity;return this.group&&(c*=this.group.getObjectOpacity()),c},_set:function(c,g){var v=c==="scaleX"||c==="scaleY",y=this[c]!==g,_=!1;return v&&(g=this._constrainScale(g)),c==="scaleX"&&g<0?(this.flipX=!this.flipX,g*=-1):c==="scaleY"&&g<0?(this.flipY=!this.flipY,g*=-1):c==="shadow"&&g&&!(g instanceof i.Shadow)?g=new i.Shadow(g):c==="dirty"&&this.group&&this.group.set("dirty",g),this[c]=g,y&&(_=this.group&&this.group.isOnACache(),this.cacheProperties.indexOf(c)>-1?(this.dirty=!0,_&&this.group.set("dirty",!0)):_&&this.stateProperties.indexOf(c)>-1&&this.group.set("dirty",!0)),this},setOnGroup:function(){},getViewportTransform:function(){return this.canvas&&this.canvas.viewportTransform?this.canvas.viewportTransform:i.iMatrix.concat()},isNotVisible:function(){return this.opacity===0||!this.width&&!this.height&&this.strokeWidth===0||!this.visible},render:function(c){this.isNotVisible()||this.canvas&&this.canvas.skipOffscreen&&!this.group&&!this.isOnScreen()||(c.save(),this._setupCompositeOperation(c),this.drawSelectionBackground(c),this.transform(c),this._setOpacity(c),this._setShadow(c,this),this.shouldCache()?(this.renderCache(),this.drawCacheOnCanvas(c)):(this._removeCacheCanvas(),this.dirty=!1,this.drawObject(c),this.objectCaching&&this.statefullCache&&this.saveState({propertySet:"cacheProperties"})),c.restore())},renderCache:function(c){c=c||{},(!this._cacheCanvas||!this._cacheContext)&&this._createCacheCanvas(),this.isCacheDirty()&&(this.statefullCache&&this.saveState({propertySet:"cacheProperties"}),this.drawObject(this._cacheContext,c.forClipping),this.dirty=!1)},_removeCacheCanvas:function(){this._cacheCanvas=null,this._cacheContext=null,this.cacheWidth=0,this.cacheHeight=0},hasStroke:function(){return this.stroke&&this.stroke!=="transparent"&&this.strokeWidth!==0},hasFill:function(){return this.fill&&this.fill!=="transparent"},needsItsOwnCache:function(){return!!(this.paintFirst==="stroke"&&this.hasFill()&&this.hasStroke()&&typeof this.shadow=="object"||this.clipPath)},shouldCache:function(){return this.ownCaching=this.needsItsOwnCache()||this.objectCaching&&(!this.group||!this.group.isOnACache()),this.ownCaching},willDrawShadow:function(){return!!this.shadow&&(this.shadow.offsetX!==0||this.shadow.offsetY!==0)},drawClipPathOnCache:function(c,g){if(c.save(),g.inverted?c.globalCompositeOperation="destination-out":c.globalCompositeOperation="destination-in",g.absolutePositioned){var v=i.util.invertTransform(this.calcTransformMatrix());c.transform(v[0],v[1],v[2],v[3],v[4],v[5])}g.transform(c),c.scale(1/g.zoomX,1/g.zoomY),c.drawImage(g._cacheCanvas,-g.cacheTranslationX,-g.cacheTranslationY),c.restore()},drawObject:function(c,g){var v=this.fill,y=this.stroke;g?(this.fill="black",this.stroke="",this._setClippingProperties(c)):this._renderBackground(c),this._render(c),this._drawClipPath(c,this.clipPath),this.fill=v,this.stroke=y},_drawClipPath:function(c,g){g&&(g.canvas=this.canvas,g.shouldCache(),g._transformDone=!0,g.renderCache({forClipping:!0}),this.drawClipPathOnCache(c,g))},drawCacheOnCanvas:function(c){c.scale(1/this.zoomX,1/this.zoomY),c.drawImage(this._cacheCanvas,-this.cacheTranslationX,-this.cacheTranslationY)},isCacheDirty:function(c){if(this.isNotVisible())return!1;if(this._cacheCanvas&&this._cacheContext&&!c&&this._updateCacheCanvas())return!0;if(this.dirty||this.clipPath&&this.clipPath.absolutePositioned||this.statefullCache&&this.hasStateChanged("cacheProperties")){if(this._cacheCanvas&&this._cacheContext&&!c){var g=this.cacheWidth/this.zoomX,v=this.cacheHeight/this.zoomY;this._cacheContext.clearRect(-g/2,-v/2,g,v)}return!0}return!1},_renderBackground:function(c){if(this.backgroundColor){var g=this._getNonTransformedDimensions();c.fillStyle=this.backgroundColor,c.fillRect(-g.x/2,-g.y/2,g.x,g.y),this._removeShadow(c)}},_setOpacity:function(c){this.group&&!this.group._transformDone?c.globalAlpha=this.getObjectOpacity():c.globalAlpha*=this.opacity},_setStrokeStyles:function(c,g){var v=g.stroke;v&&(c.lineWidth=g.strokeWidth,c.lineCap=g.strokeLineCap,c.lineDashOffset=g.strokeDashOffset,c.lineJoin=g.strokeLineJoin,c.miterLimit=g.strokeMiterLimit,v.toLive?v.gradientUnits==="percentage"||v.gradientTransform||v.patternTransform?this._applyPatternForTransformedGradient(c,v):(c.strokeStyle=v.toLive(c,this),this._applyPatternGradientTransform(c,v)):c.strokeStyle=g.stroke)},_setFillStyles:function(c,g){var v=g.fill;v&&(v.toLive?(c.fillStyle=v.toLive(c,this),this._applyPatternGradientTransform(c,g.fill)):c.fillStyle=v)},_setClippingProperties:function(c){c.globalAlpha=1,c.strokeStyle="transparent",c.fillStyle="#000000"},_setLineDash:function(c,g){!g||g.length===0||(1&g.length&&g.push.apply(g,g),c.setLineDash(g))},_renderControls:function(c,g){var v=this.getViewportTransform(),y=this.calcTransformMatrix(),_,w,C;g=g||{},w=typeof g.hasBorders<"u"?g.hasBorders:this.hasBorders,C=typeof g.hasControls<"u"?g.hasControls:this.hasControls,y=i.util.multiplyTransformMatrices(v,y),_=i.util.qrDecompose(y),c.save(),c.translate(_.translateX,_.translateY),c.lineWidth=1*this.borderScaleFactor,this.group||(c.globalAlpha=this.isMoving?this.borderOpacityWhenMoving:1),this.flipX&&(_.angle-=180),c.rotate(s(this.group?_.angle:this.angle)),g.forActiveSelection||this.group?w&&this.drawBordersInGroup(c,_,g):w&&this.drawBorders(c,g),C&&this.drawControls(c,g),c.restore()},_setShadow:function(c){if(this.shadow){var g=this.shadow,v=this.canvas,y,_=v&&v.viewportTransform[0]||1,w=v&&v.viewportTransform[3]||1;g.nonScaling?y={scaleX:1,scaleY:1}:y=this.getObjectScaling(),v&&v._isRetinaScaling()&&(_*=i.devicePixelRatio,w*=i.devicePixelRatio),c.shadowColor=g.color,c.shadowBlur=g.blur*i.browserShadowBlurConstant*(_+w)*(y.scaleX+y.scaleY)/4,c.shadowOffsetX=g.offsetX*_*y.scaleX,c.shadowOffsetY=g.offsetY*w*y.scaleY}},_removeShadow:function(c){this.shadow&&(c.shadowColor="",c.shadowBlur=c.shadowOffsetX=c.shadowOffsetY=0)},_applyPatternGradientTransform:function(c,g){if(!g||!g.toLive)return{offsetX:0,offsetY:0};var v=g.gradientTransform||g.patternTransform,y=-this.width/2+g.offsetX||0,_=-this.height/2+g.offsetY||0;return g.gradientUnits==="percentage"?c.transform(this.width,0,0,this.height,y,_):c.transform(1,0,0,1,y,_),v&&c.transform(v[0],v[1],v[2],v[3],v[4],v[5]),{offsetX:y,offsetY:_}},_renderPaintInOrder:function(c){this.paintFirst==="stroke"?(this._renderStroke(c),this._renderFill(c)):(this._renderFill(c),this._renderStroke(c))},_render:function(){},_renderFill:function(c){this.fill&&(c.save(),this._setFillStyles(c,this),this.fillRule==="evenodd"?c.fill("evenodd"):c.fill(),c.restore())},_renderStroke:function(c){if(!(!this.stroke||this.strokeWidth===0)){if(this.shadow&&!this.shadow.affectStroke&&this._removeShadow(c),c.save(),this.strokeUniform&&this.group){var g=this.getObjectScaling();c.scale(1/g.scaleX,1/g.scaleY)}else this.strokeUniform&&c.scale(1/this.scaleX,1/this.scaleY);this._setLineDash(c,this.strokeDashArray),this._setStrokeStyles(c,this),c.stroke(),c.restore()}},_applyPatternForTransformedGradient:function(c,g){var v=this._limitCacheSize(this._getCacheCanvasDimensions()),y=i.util.createCanvasElement(),_,w=this.canvas.getRetinaScaling(),C=v.x/this.scaleX/w,x=v.y/this.scaleY/w;y.width=C,y.height=x,_=y.getContext("2d"),_.beginPath(),_.moveTo(0,0),_.lineTo(C,0),_.lineTo(C,x),_.lineTo(0,x),_.closePath(),_.translate(C/2,x/2),_.scale(v.zoomX/this.scaleX/w,v.zoomY/this.scaleY/w),this._applyPatternGradientTransform(_,g),_.fillStyle=g.toLive(c),_.fill(),c.translate(-this.width/2-this.strokeWidth/2,-this.height/2-this.strokeWidth/2),c.scale(w*this.scaleX/v.zoomX,w*this.scaleY/v.zoomY),c.strokeStyle=_.createPattern(y,"no-repeat")},_findCenterFromElement:function(){return{x:this.left+this.width/2,y:this.top+this.height/2}},_assignTransformMatrixProps:function(){if(this.transformMatrix){var c=i.util.qrDecompose(this.transformMatrix);this.flipX=!1,this.flipY=!1,this.set("scaleX",c.scaleX),this.set("scaleY",c.scaleY),this.angle=c.angle,this.skewX=c.skewX,this.skewY=0}},_removeTransformMatrix:function(c){var g=this._findCenterFromElement();this.transformMatrix&&(this._assignTransformMatrixProps(),g=i.util.transformPoint(g,this.transformMatrix)),this.transformMatrix=null,c&&(this.scaleX*=c.scaleX,this.scaleY*=c.scaleY,this.cropX=c.cropX,this.cropY=c.cropY,g.x+=c.offsetLeft,g.y+=c.offsetTop,this.width=c.width,this.height=c.height),this.setPositionByOrigin(g,"center","center")},clone:function(c,g){var v=this.toObject(g);this.constructor.fromObject?this.constructor.fromObject(v,c):i.Object._fromObject("Object",v,c)},cloneAsImage:function(c,g){var v=this.toCanvasElement(g);return c&&c(new i.Image(v)),this},toCanvasElement:function(c){c||(c={});var g=i.util,v=g.saveObjectTransform(this),y=this.group,_=this.shadow,w=Math.abs,C=(c.multiplier||1)*(c.enableRetinaScaling?i.devicePixelRatio:1);delete this.group,c.withoutTransform&&g.resetObjectTransform(this),c.withoutShadow&&(this.shadow=null);var x=i.util.createCanvasElement(),O=this.getBoundingRect(!0,!0),M=this.shadow,F,V={x:0,y:0},$,ne,ee;M&&($=M.blur,M.nonScaling?F={scaleX:1,scaleY:1}:F=this.getObjectScaling(),V.x=2*Math.round(w(M.offsetX)+$)*w(F.scaleX),V.y=2*Math.round(w(M.offsetY)+$)*w(F.scaleY)),ne=O.width+V.x,ee=O.height+V.y,x.width=Math.ceil(ne),x.height=Math.ceil(ee);var re=new i.StaticCanvas(x,{enableRetinaScaling:!1,renderOnAddRemove:!1,skipOffscreen:!1});c.format==="jpeg"&&(re.backgroundColor="#fff"),this.setPositionByOrigin(new i.Point(re.width/2,re.height/2),"center","center");var se=this.canvas;re.add(this);var ue=re.toCanvasElement(C||1,c);return this.shadow=_,this.set("canvas",se),y&&(this.group=y),this.set(v).setCoords(),re._objects=[],re.dispose(),re=null,ue},toDataURL:function(c){return c||(c={}),i.util.toDataURL(this.toCanvasElement(c),c.format||"png",c.quality||1)},isType:function(c){return arguments.length>1?Array.from(arguments).includes(this.type):this.type===c},complexity:function(){return 1},toJSON:function(c){return this.toObject(c)},rotate:function(c){var g=(this.originX!=="center"||this.originY!=="center")&&this.centeredRotation;return g&&this._setOriginToCenter(),this.set("angle",c),g&&this._resetOrigin(),this},centerH:function(){return this.canvas&&this.canvas.centerObjectH(this),this},viewportCenterH:function(){return this.canvas&&this.canvas.viewportCenterObjectH(this),this},centerV:function(){return this.canvas&&this.canvas.centerObjectV(this),this},viewportCenterV:function(){return this.canvas&&this.canvas.viewportCenterObjectV(this),this},center:function(){return this.canvas&&this.canvas.centerObject(this),this},viewportCenter:function(){return this.canvas&&this.canvas.viewportCenterObject(this),this},getLocalPointer:function(c,g){g=g||this.canvas.getPointer(c);var v=new i.Point(g.x,g.y),y=this._getLeftTopCoords();return this.angle&&(v=i.util.rotatePoint(v,y,s(-this.angle))),{x:v.x-y.x,y:v.y-y.y}},_setupCompositeOperation:function(c){this.globalCompositeOperation&&(c.globalCompositeOperation=this.globalCompositeOperation)},dispose:function(){i.runningAnimations&&i.runningAnimations.cancelByTarget(this)}}),i.util.createAccessors&&i.util.createAccessors(i.Object),u(i.Object.prototype,i.Observable),i.Object.NUM_FRACTION_DIGITS=2,i.Object.ENLIVEN_PROPS=["clipPath"],i.Object._fromObject=function(c,g,v,y){var _=i[c];g=f(g,!0),i.util.enlivenPatterns([g.fill,g.stroke],function(w){typeof w[0]<"u"&&(g.fill=w[0]),typeof w[1]<"u"&&(g.stroke=w[1]),i.util.enlivenObjectEnlivables(g,g,function(){var C=y?new _(g[y],g):new _(g);v&&v(C)})})},i.Object.__uid=0)}(e),function(){var h=t.util.degreesToRadians,i={left:-.5,center:0,right:.5},u={top:-.5,center:0,bottom:.5};t.util.object.extend(t.Object.prototype,{translateToGivenOrigin:function(f,o,a,s,l){var d=f.x,c=f.y,g,v,y;return typeof o=="string"?o=i[o]:o-=.5,typeof s=="string"?s=i[s]:s-=.5,g=s-o,typeof a=="string"?a=u[a]:a-=.5,typeof l=="string"?l=u[l]:l-=.5,v=l-a,(g||v)&&(y=this._getTransformedDimensions(),d=f.x+g*y.x,c=f.y+v*y.y),new t.Point(d,c)},translateToCenterPoint:function(f,o,a){var s=this.translateToGivenOrigin(f,o,a,"center","center");return this.angle?t.util.rotatePoint(s,f,h(this.angle)):s},translateToOriginPoint:function(f,o,a){var s=this.translateToGivenOrigin(f,"center","center",o,a);return this.angle?t.util.rotatePoint(s,f,h(this.angle)):s},getCenterPoint:function(){var f=new t.Point(this.left,this.top);return this.translateToCenterPoint(f,this.originX,this.originY)},getPointByOrigin:function(f,o){var a=this.getCenterPoint();return this.translateToOriginPoint(a,f,o)},toLocalPoint:function(f,o,a){var s=this.getCenterPoint(),l,d;return typeof o<"u"&&typeof a<"u"?l=this.translateToGivenOrigin(s,"center","center",o,a):l=new t.Point(this.left,this.top),d=new t.Point(f.x,f.y),this.angle&&(d=t.util.rotatePoint(d,s,-h(this.angle))),d.subtractEquals(l)},setPositionByOrigin:function(f,o,a){var s=this.translateToCenterPoint(f,o,a),l=this.translateToOriginPoint(s,this.originX,this.originY);this.set("left",l.x),this.set("top",l.y)},adjustPosition:function(f){var o=h(this.angle),a=this.getScaledWidth(),s=t.util.cos(o)*a,l=t.util.sin(o)*a,d,c;typeof this.originX=="string"?d=i[this.originX]:d=this.originX-.5,typeof f=="string"?c=i[f]:c=f-.5,this.left+=s*(c-d),this.top+=l*(c-d),this.setCoords(),this.originX=f},_setOriginToCenter:function(){this._originalOriginX=this.originX,this._originalOriginY=this.originY;var f=this.getCenterPoint();this.originX="center",this.originY="center",this.left=f.x,this.top=f.y},_resetOrigin:function(){var f=this.translateToOriginPoint(this.getCenterPoint(),this._originalOriginX,this._originalOriginY);this.originX=this._originalOriginX,this.originY=this._originalOriginY,this.left=f.x,this.top=f.y,this._originalOriginX=null,this._originalOriginY=null},_getLeftTopCoords:function(){return this.translateToOriginPoint(this.getCenterPoint(),"left","top")}})}(),function(){function h(a){return[new t.Point(a.tl.x,a.tl.y),new t.Point(a.tr.x,a.tr.y),new t.Point(a.br.x,a.br.y),new t.Point(a.bl.x,a.bl.y)]}var i=t.util,u=i.degreesToRadians,f=i.multiplyTransformMatrices,o=i.transformPoint;i.object.extend(t.Object.prototype,{oCoords:null,aCoords:null,lineCoords:null,ownMatrixCache:null,matrixCache:null,controls:{},_getCoords:function(a,s){return s?a?this.calcACoords():this.calcLineCoords():((!this.aCoords||!this.lineCoords)&&this.setCoords(!0),a?this.aCoords:this.lineCoords)},getCoords:function(a,s){return h(this._getCoords(a,s))},intersectsWithRect:function(a,s,l,d){var c=this.getCoords(l,d),g=t.Intersection.intersectPolygonRectangle(c,a,s);return g.status==="Intersection"},intersectsWithObject:function(a,s,l){var d=t.Intersection.intersectPolygonPolygon(this.getCoords(s,l),a.getCoords(s,l));return d.status==="Intersection"||a.isContainedWithinObject(this,s,l)||this.isContainedWithinObject(a,s,l)},isContainedWithinObject:function(a,s,l){for(var d=this.getCoords(s,l),c=s?a.aCoords:a.lineCoords,g=0,v=a._getImageLines(c);g<4;g++)if(!a.containsPoint(d[g],v))return!1;return!0},isContainedWithinRect:function(a,s,l,d){var c=this.getBoundingRect(l,d);return c.left>=a.x&&c.left+c.width<=s.x&&c.top>=a.y&&c.top+c.height<=s.y},containsPoint:function(a,g,l,d){var c=this._getCoords(l,d),g=g||this._getImageLines(c),v=this._findCrossPoints(a,g);return v!==0&&v%2===1},isOnScreen:function(a){if(!this.canvas)return!1;var s=this.canvas.vptCoords.tl,l=this.canvas.vptCoords.br,d=this.getCoords(!0,a);return d.some(function(c){return c.x<=l.x&&c.x>=s.x&&c.y<=l.y&&c.y>=s.y})||this.intersectsWithRect(s,l,!0,a)?!0:this._containsCenterOfCanvas(s,l,a)},_containsCenterOfCanvas:function(a,s,l){var d={x:(a.x+s.x)/2,y:(a.y+s.y)/2};return!!this.containsPoint(d,null,!0,l)},isPartiallyOnScreen:function(a){if(!this.canvas)return!1;var s=this.canvas.vptCoords.tl,l=this.canvas.vptCoords.br;if(this.intersectsWithRect(s,l,!0,a))return!0;var d=this.getCoords(!0,a).every(function(c){return(c.x>=l.x||c.x<=s.x)&&(c.y>=l.y||c.y<=s.y)});return d&&this._containsCenterOfCanvas(s,l,a)},_getImageLines:function(a){var s={topline:{o:a.tl,d:a.tr},rightline:{o:a.tr,d:a.br},bottomline:{o:a.br,d:a.bl},leftline:{o:a.bl,d:a.tl}};return s},_findCrossPoints:function(a,s){var l,d,c,g,v,y=0,_;for(var w in s)if(_=s[w],!(_.o.y<a.y&&_.d.y<a.y)&&!(_.o.y>=a.y&&_.d.y>=a.y)&&(_.o.x===_.d.x&&_.o.x>=a.x?v=_.o.x:(l=0,d=(_.d.y-_.o.y)/(_.d.x-_.o.x),c=a.y-l*a.x,g=_.o.y-d*_.o.x,v=-(c-g)/(l-d)),v>=a.x&&(y+=1),y===2))break;return y},getBoundingRect:function(a,s){var l=this.getCoords(a,s);return i.makeBoundingBoxFromPoints(l)},getScaledWidth:function(){return this._getTransformedDimensions().x},getScaledHeight:function(){return this._getTransformedDimensions().y},_constrainScale:function(a){return Math.abs(a)<this.minScaleLimit?a<0?-this.minScaleLimit:this.minScaleLimit:a===0?1e-4:a},scale:function(a){return this._set("scaleX",a),this._set("scaleY",a),this.setCoords()},scaleToWidth:function(a,s){var l=this.getBoundingRect(s).width/this.getScaledWidth();return this.scale(a/this.width/l)},scaleToHeight:function(a,s){var l=this.getBoundingRect(s).height/this.getScaledHeight();return this.scale(a/this.height/l)},calcLineCoords:function(){var a=this.getViewportTransform(),s=this.padding,l=u(this.angle),d=i.cos(l),c=i.sin(l),g=d*s,v=c*s,y=g+v,_=g-v,w=this.calcACoords(),C={tl:o(w.tl,a),tr:o(w.tr,a),bl:o(w.bl,a),br:o(w.br,a)};return s&&(C.tl.x-=_,C.tl.y-=y,C.tr.x+=y,C.tr.y-=_,C.bl.x-=y,C.bl.y+=_,C.br.x+=_,C.br.y+=y),C},calcOCoords:function(){var a=this._calcRotateMatrix(),s=this._calcTranslateMatrix(),l=this.getViewportTransform(),d=f(l,s),c=f(d,a),c=f(c,[1/l[0],0,0,1/l[3],0,0]),g=this._calculateCurrentDimensions(),v={};return this.forEachControl(function(y,_,w){v[_]=y.positionHandler(g,c,w)}),v},calcACoords:function(){var a=this._calcRotateMatrix(),s=this._calcTranslateMatrix(),l=f(s,a),d=this._getTransformedDimensions(),c=d.x/2,g=d.y/2;return{tl:o({x:-c,y:-g},l),tr:o({x:c,y:-g},l),bl:o({x:-c,y:g},l),br:o({x:c,y:g},l)}},setCoords:function(a){return this.aCoords=this.calcACoords(),this.lineCoords=this.group?this.aCoords:this.calcLineCoords(),a?this:(this.oCoords=this.calcOCoords(),this._setCornerCoords&&this._setCornerCoords(),this)},_calcRotateMatrix:function(){return i.calcRotateMatrix(this)},_calcTranslateMatrix:function(){var a=this.getCenterPoint();return[1,0,0,1,a.x,a.y]},transformMatrixKey:function(a){var s="_",l="";return!a&&this.group&&(l=this.group.transformMatrixKey(a)+s),l+this.top+s+this.left+s+this.scaleX+s+this.scaleY+s+this.skewX+s+this.skewY+s+this.angle+s+this.originX+s+this.originY+s+this.width+s+this.height+s+this.strokeWidth+this.flipX+this.flipY},calcTransformMatrix:function(a){var s=this.calcOwnMatrix();if(a||!this.group)return s;var l=this.transformMatrixKey(a),d=this.matrixCache||(this.matrixCache={});return d.key===l?d.value:(this.group&&(s=f(this.group.calcTransformMatrix(!1),s)),d.key=l,d.value=s,s)},calcOwnMatrix:function(){var a=this.transformMatrixKey(!0),s=this.ownMatrixCache||(this.ownMatrixCache={});if(s.key===a)return s.value;var l=this._calcTranslateMatrix(),d={angle:this.angle,translateX:l[4],translateY:l[5],scaleX:this.scaleX,scaleY:this.scaleY,skewX:this.skewX,skewY:this.skewY,flipX:this.flipX,flipY:this.flipY};return s.key=a,s.value=i.composeMatrix(d),s.value},_getNonTransformedDimensions:function(){var a=this.strokeWidth,s=this.width+a,l=this.height+a;return{x:s,y:l}},_getTransformedDimensions:function(a,s){typeof a>"u"&&(a=this.skewX),typeof s>"u"&&(s=this.skewY);var l,d,c,g=a===0&&s===0;if(this.strokeUniform?(d=this.width,c=this.height):(l=this._getNonTransformedDimensions(),d=l.x,c=l.y),g)return this._finalizeDimensions(d*this.scaleX,c*this.scaleY);var v=i.sizeAfterTransform(d,c,{scaleX:this.scaleX,scaleY:this.scaleY,skewX:a,skewY:s});return this._finalizeDimensions(v.x,v.y)},_finalizeDimensions:function(a,s){return this.strokeUniform?{x:a+this.strokeWidth,y:s+this.strokeWidth}:{x:a,y:s}},_calculateCurrentDimensions:function(){var a=this.getViewportTransform(),s=this._getTransformedDimensions(),l=o(s,a,!0);return l.scalarAdd(2*this.padding)}})}(),t.util.object.extend(t.Object.prototype,{sendToBack:function(){return this.group?t.StaticCanvas.prototype.sendToBack.call(this.group,this):this.canvas&&this.canvas.sendToBack(this),this},bringToFront:function(){return this.group?t.StaticCanvas.prototype.bringToFront.call(this.group,this):this.canvas&&this.canvas.bringToFront(this),this},sendBackwards:function(h){return this.group?t.StaticCanvas.prototype.sendBackwards.call(this.group,this,h):this.canvas&&this.canvas.sendBackwards(this,h),this},bringForward:function(h){return this.group?t.StaticCanvas.prototype.bringForward.call(this.group,this,h):this.canvas&&this.canvas.bringForward(this,h),this},moveTo:function(h){return this.group&&this.group.type!=="activeSelection"?t.StaticCanvas.prototype.moveTo.call(this.group,this,h):this.canvas&&this.canvas.moveTo(this,h),this}}),function(){function h(u,f){if(f){if(f.toLive)return u+": url(#SVGID_"+f.id+"); ";var o=new t.Color(f),a=u+": "+o.toRgb()+"; ",s=o.getAlpha();return s!==1&&(a+=u+"-opacity: "+s.toString()+"; "),a}else return u+": none; "}var i=t.util.toFixed;t.util.object.extend(t.Object.prototype,{getSvgStyles:function(u){var f=this.fillRule?this.fillRule:"nonzero",o=this.strokeWidth?this.strokeWidth:"0",a=this.strokeDashArray?this.strokeDashArray.join(" "):"none",s=this.strokeDashOffset?this.strokeDashOffset:"0",l=this.strokeLineCap?this.strokeLineCap:"butt",d=this.strokeLineJoin?this.strokeLineJoin:"miter",c=this.strokeMiterLimit?this.strokeMiterLimit:"4",g=typeof this.opacity<"u"?this.opacity:"1",v=this.visible?"":" visibility: hidden;",y=u?"":this.getSvgFilter(),_=h("fill",this.fill),w=h("stroke",this.stroke);return[w,"stroke-width: ",o,"; ","stroke-dasharray: ",a,"; ","stroke-linecap: ",l,"; ","stroke-dashoffset: ",s,"; ","stroke-linejoin: ",d,"; ","stroke-miterlimit: ",c,"; ",_,"fill-rule: ",f,"; ","opacity: ",g,";",y,v].join("")},getSvgSpanStyles:function(u,f){var o="; ",s=u.fontFamily?"font-family: "+(u.fontFamily.indexOf("'")===-1&&u.fontFamily.indexOf('"')===-1?"'"+u.fontFamily+"'":u.fontFamily)+o:"",a=u.strokeWidth?"stroke-width: "+u.strokeWidth+o:"",s=s,l=u.fontSize?"font-size: "+u.fontSize+"px"+o:"",d=u.fontStyle?"font-style: "+u.fontStyle+o:"",c=u.fontWeight?"font-weight: "+u.fontWeight+o:"",g=u.fill?h("fill",u.fill):"",v=u.stroke?h("stroke",u.stroke):"",y=this.getSvgTextDecoration(u),_=u.deltaY?"baseline-shift: "+-u.deltaY+"; ":"";return y&&(y="text-decoration: "+y+o),[v,a,s,l,d,c,y,g,_,f?"white-space: pre; ":""].join("")},getSvgTextDecoration:function(u){return["overline","underline","line-through"].filter(function(f){return u[f.replace("-","")]}).join(" ")},getSvgFilter:function(){return this.shadow?"filter: url(#SVGID_"+this.shadow.id+");":""},getSvgCommons:function(){return[this.id?'id="'+this.id+'" ':"",this.clipPath?'clip-path="url(#'+this.clipPath.clipPathId+')" ':""].join("")},getSvgTransform:function(u,f){var o=u?this.calcTransformMatrix():this.calcOwnMatrix(),a='transform="'+t.util.matrixToSVG(o);return a+(f||"")+'" '},_setSVGBg:function(u){if(this.backgroundColor){var f=t.Object.NUM_FRACTION_DIGITS;u.push("		<rect ",this._getFillAttributes(this.backgroundColor),' x="',i(-this.width/2,f),'" y="',i(-this.height/2,f),'" width="',i(this.width,f),'" height="',i(this.height,f),`"></rect>
`)}},toSVG:function(u){return this._createBaseSVGMarkup(this._toSVG(u),{reviver:u})},toClipPathSVG:function(u){return"	"+this._createBaseClipPathSVGMarkup(this._toSVG(u),{reviver:u})},_createBaseClipPathSVGMarkup:function(u,f){f=f||{};var o=f.reviver,a=f.additionalTransform||"",s=[this.getSvgTransform(!0,a),this.getSvgCommons()].join(""),l=u.indexOf("COMMON_PARTS");return u[l]=s,o?o(u.join("")):u.join("")},_createBaseSVGMarkup:function(u,f){f=f||{};var o=f.noStyle,a=f.reviver,s=o?"":'style="'+this.getSvgStyles()+'" ',l=f.withShadow?'style="'+this.getSvgFilter()+'" ':"",d=this.clipPath,c=this.strokeUniform?'vector-effect="non-scaling-stroke" ':"",g=d&&d.absolutePositioned,v=this.stroke,y=this.fill,_=this.shadow,w,C=[],x,O=u.indexOf("COMMON_PARTS"),M=f.additionalTransform;return d&&(d.clipPathId="CLIPPATH_"+t.Object.__uid++,x='<clipPath id="'+d.clipPathId+`" >
`+d.toClipPathSVG(a)+`</clipPath>
`),g&&C.push("<g ",l,this.getSvgCommons(),` >
`),C.push("<g ",this.getSvgTransform(!1),g?"":l+this.getSvgCommons(),` >
`),w=[s,c,o?"":this.addPaintOrder()," ",M?'transform="'+M+'" ':""].join(""),u[O]=w,y&&y.toLive&&C.push(y.toSVG(this)),v&&v.toLive&&C.push(v.toSVG(this)),_&&C.push(_.toSVG(this)),d&&C.push(x),C.push(u.join("")),C.push(`</g>
`),g&&C.push(`</g>
`),a?a(C.join("")):C.join("")},addPaintOrder:function(){return this.paintFirst!=="fill"?' paint-order="'+this.paintFirst+'" ':""}})}(),function(){var h=t.util.object.extend,i="stateProperties";function u(o,a,s){var l={},d=!0;s.forEach(function(c){l[c]=o[c]}),h(o[a],l,d)}function f(o,a,s){if(o===a)return!0;if(Array.isArray(o)){if(!Array.isArray(a)||o.length!==a.length)return!1;for(var l=0,d=o.length;l<d;l++)if(!f(o[l],a[l]))return!1;return!0}else if(o&&typeof o=="object"){var c=Object.keys(o),g;if(!a||typeof a!="object"||!s&&c.length!==Object.keys(a).length)return!1;for(var l=0,d=c.length;l<d;l++)if(g=c[l],!(g==="canvas"||g==="group")&&!f(o[g],a[g]))return!1;return!0}}t.util.object.extend(t.Object.prototype,{hasStateChanged:function(o){o=o||i;var a="_"+o;return Object.keys(this[a]).length<this[o].length?!0:!f(this[a],this,!0)},saveState:function(o){var a=o&&o.propertySet||i,s="_"+a;return this[s]?(u(this,s,this[a]),o&&o.stateProperties&&u(this,s,o.stateProperties),this):this.setupState(o)},setupState:function(o){o=o||{};var a=o.propertySet||i;return o.propertySet=a,this["_"+a]={},this.saveState(o),this}})}(),function(){var h=t.util.degreesToRadians;t.util.object.extend(t.Object.prototype,{_findTargetCorner:function(i,u){if(!this.hasControls||this.group||!this.canvas||this.canvas._activeObject!==this)return!1;var f=i.x,o=i.y,a,s,l=Object.keys(this.oCoords),d=l.length-1,c;for(this.__corner=0;d>=0;d--)if(c=l[d],!!this.isControlVisible(c)&&(s=this._getImageLines(u?this.oCoords[c].touchCorner:this.oCoords[c].corner),a=this._findCrossPoints({x:f,y:o},s),a!==0&&a%2===1))return this.__corner=c,c;return!1},forEachControl:function(i){for(var u in this.controls)i(this.controls[u],u,this)},_setCornerCoords:function(){var i=this.oCoords;for(var u in i){var f=this.controls[u];i[u].corner=f.calcCornerCoords(this.angle,this.cornerSize,i[u].x,i[u].y,!1),i[u].touchCorner=f.calcCornerCoords(this.angle,this.touchCornerSize,i[u].x,i[u].y,!0)}},drawSelectionBackground:function(i){if(!this.selectionBackgroundColor||this.canvas&&!this.canvas.interactive||this.canvas&&this.canvas._activeObject!==this)return this;i.save();var u=this.getCenterPoint(),f=this._calculateCurrentDimensions(),o=this.canvas.viewportTransform;return i.translate(u.x,u.y),i.scale(1/o[0],1/o[3]),i.rotate(h(this.angle)),i.fillStyle=this.selectionBackgroundColor,i.fillRect(-f.x/2,-f.y/2,f.x,f.y),i.restore(),this},drawBorders:function(i,u){u=u||{};var f=this._calculateCurrentDimensions(),o=this.borderScaleFactor,a=f.x+o,s=f.y+o,l=typeof u.hasControls<"u"?u.hasControls:this.hasControls,d=!1;return i.save(),i.strokeStyle=u.borderColor||this.borderColor,this._setLineDash(i,u.borderDashArray||this.borderDashArray),i.strokeRect(-a/2,-s/2,a,s),l&&(i.beginPath(),this.forEachControl(function(c,g,v){c.withConnection&&c.getVisibility(v,g)&&(d=!0,i.moveTo(c.x*a,c.y*s),i.lineTo(c.x*a+c.offsetX,c.y*s+c.offsetY))}),d&&i.stroke()),i.restore(),this},drawBordersInGroup:function(i,u,f){f=f||{};var o=t.util.sizeAfterTransform(this.width,this.height,u),a=this.strokeWidth,s=this.strokeUniform,l=this.borderScaleFactor,d=o.x+a*(s?this.canvas.getZoom():u.scaleX)+l,c=o.y+a*(s?this.canvas.getZoom():u.scaleY)+l;return i.save(),this._setLineDash(i,f.borderDashArray||this.borderDashArray),i.strokeStyle=f.borderColor||this.borderColor,i.strokeRect(-d/2,-c/2,d,c),i.restore(),this},drawControls:function(i,u){u=u||{},i.save();var f=this.canvas.getRetinaScaling(),o,a;return i.setTransform(f,0,0,f,0,0),i.strokeStyle=i.fillStyle=u.cornerColor||this.cornerColor,this.transparentCorners||(i.strokeStyle=u.cornerStrokeColor||this.cornerStrokeColor),this._setLineDash(i,u.cornerDashArray||this.cornerDashArray),this.setCoords(),this.group&&(o=this.group.calcTransformMatrix()),this.forEachControl(function(s,l,d){a=d.oCoords[l],s.getVisibility(d,l)&&(o&&(a=t.util.transformPoint(a,o)),s.render(i,a.x,a.y,u,d))}),i.restore(),this},isControlVisible:function(i){return this.controls[i]&&this.controls[i].getVisibility(this,i)},setControlVisible:function(i,u){return this._controlsVisibility||(this._controlsVisibility={}),this._controlsVisibility[i]=u,this},setControlsVisibility:function(i){i||(i={});for(var u in i)this.setControlVisible(u,i[u]);return this},onDeselect:function(){},onSelect:function(){}})}(),t.util.object.extend(t.StaticCanvas.prototype,{FX_DURATION:500,fxCenterObjectH:function(h,i){i=i||{};var u=function(){},f=i.onComplete||u,o=i.onChange||u,a=this;return t.util.animate({target:this,startValue:h.left,endValue:this.getCenterPoint().x,duration:this.FX_DURATION,onChange:function(s){h.set("left",s),a.requestRenderAll(),o()},onComplete:function(){h.setCoords(),f()}})},fxCenterObjectV:function(h,i){i=i||{};var u=function(){},f=i.onComplete||u,o=i.onChange||u,a=this;return t.util.animate({target:this,startValue:h.top,endValue:this.getCenterPoint().y,duration:this.FX_DURATION,onChange:function(s){h.set("top",s),a.requestRenderAll(),o()},onComplete:function(){h.setCoords(),f()}})},fxRemove:function(h,i){i=i||{};var u=function(){},f=i.onComplete||u,o=i.onChange||u,a=this;return t.util.animate({target:this,startValue:h.opacity,endValue:0,duration:this.FX_DURATION,onChange:function(s){h.set("opacity",s),a.requestRenderAll(),o()},onComplete:function(){a.remove(h),f()}})}}),t.util.object.extend(t.Object.prototype,{animate:function(){if(arguments[0]&&typeof arguments[0]=="object"){var h=[],i,u,f=[];for(i in arguments[0])h.push(i);for(var o=0,a=h.length;o<a;o++)i=h[o],u=o!==a-1,f.push(this._animate(i,arguments[0][i],arguments[1],u));return f}else return this._animate.apply(this,arguments)},_animate:function(h,i,u,f){var o=this,a;i=i.toString(),u?u=t.util.object.clone(u):u={},~h.indexOf(".")&&(a=h.split("."));var s=o.colorProperties.indexOf(h)>-1||a&&o.colorProperties.indexOf(a[1])>-1,l=a?this.get(a[0])[a[1]]:this.get(h);"from"in u||(u.from=l),s||(~i.indexOf("=")?i=l+parseFloat(i.replace("=","")):i=parseFloat(i));var d={target:this,startValue:u.from,endValue:i,byValue:u.by,easing:u.easing,duration:u.duration,abort:u.abort&&function(c,g,v){return u.abort.call(o,c,g,v)},onChange:function(c,g,v){a?o[a[0]][a[1]]=c:o.set(h,c),!f&&u.onChange&&u.onChange(c,g,v)},onComplete:function(c,g,v){f||(o.setCoords(),u.onComplete&&u.onComplete(c,g,v))}};return s?t.util.animateColor(d.startValue,d.endValue,d.duration,d):t.util.animate(d)}}),function(h){var i=h.fabric||(h.fabric={}),u=i.util.object.extend,f=i.util.object.clone,o={x1:1,x2:1,y1:1,y2:1};if(i.Line){i.warn("fabric.Line is already defined");return}i.Line=i.util.createClass(i.Object,{type:"line",x1:0,y1:0,x2:0,y2:0,cacheProperties:i.Object.prototype.cacheProperties.concat("x1","x2","y1","y2"),initialize:function(s,l){s||(s=[0,0,0,0]),this.callSuper("initialize",l),this.set("x1",s[0]),this.set("y1",s[1]),this.set("x2",s[2]),this.set("y2",s[3]),this._setWidthHeight(l)},_setWidthHeight:function(s){s||(s={}),this.width=Math.abs(this.x2-this.x1),this.height=Math.abs(this.y2-this.y1),this.left="left"in s?s.left:this._getLeftToOriginX(),this.top="top"in s?s.top:this._getTopToOriginY()},_set:function(s,l){return this.callSuper("_set",s,l),typeof o[s]<"u"&&this._setWidthHeight(),this},_getLeftToOriginX:a({origin:"originX",axis1:"x1",axis2:"x2",dimension:"width"},{nearest:"left",center:"center",farthest:"right"}),_getTopToOriginY:a({origin:"originY",axis1:"y1",axis2:"y2",dimension:"height"},{nearest:"top",center:"center",farthest:"bottom"}),_render:function(s){s.beginPath();var l=this.calcLinePoints();s.moveTo(l.x1,l.y1),s.lineTo(l.x2,l.y2),s.lineWidth=this.strokeWidth;var d=s.strokeStyle;s.strokeStyle=this.stroke||s.fillStyle,this.stroke&&this._renderStroke(s),s.strokeStyle=d},_findCenterFromElement:function(){return{x:(this.x1+this.x2)/2,y:(this.y1+this.y2)/2}},toObject:function(s){return u(this.callSuper("toObject",s),this.calcLinePoints())},_getNonTransformedDimensions:function(){var s=this.callSuper("_getNonTransformedDimensions");return this.strokeLineCap==="butt"&&(this.width===0&&(s.y-=this.strokeWidth),this.height===0&&(s.x-=this.strokeWidth)),s},calcLinePoints:function(){var s=this.x1<=this.x2?-1:1,l=this.y1<=this.y2?-1:1,d=s*this.width*.5,c=l*this.height*.5,g=s*this.width*-.5,v=l*this.height*-.5;return{x1:d,x2:g,y1:c,y2:v}},_toSVG:function(){var s=this.calcLinePoints();return["<line ","COMMON_PARTS",'x1="',s.x1,'" y1="',s.y1,'" x2="',s.x2,'" y2="',s.y2,`" />
`]}}),i.Line.ATTRIBUTE_NAMES=i.SHARED_ATTRIBUTES.concat("x1 y1 x2 y2".split(" ")),i.Line.fromElement=function(s,l,d){d=d||{};var c=i.parseAttributes(s,i.Line.ATTRIBUTE_NAMES),g=[c.x1||0,c.y1||0,c.x2||0,c.y2||0];l(new i.Line(g,u(c,d)))},i.Line.fromObject=function(s,l){function d(g){delete g.points,l&&l(g)}var c=f(s,!0);c.points=[s.x1,s.y1,s.x2,s.y2],i.Object._fromObject("Line",c,d,"points")};function a(s,l){var d=s.origin,c=s.axis1,g=s.axis2,v=s.dimension,y=l.nearest,_=l.center,w=l.farthest;return function(){switch(this.get(d)){case y:return Math.min(this.get(c),this.get(g));case _:return Math.min(this.get(c),this.get(g))+.5*this.get(v);case w:return Math.max(this.get(c),this.get(g))}}}}(e),function(h){var i=h.fabric||(h.fabric={}),u=i.util.degreesToRadians;if(i.Circle){i.warn("fabric.Circle is already defined.");return}i.Circle=i.util.createClass(i.Object,{type:"circle",radius:0,startAngle:0,endAngle:360,cacheProperties:i.Object.prototype.cacheProperties.concat("radius","startAngle","endAngle"),_set:function(o,a){return this.callSuper("_set",o,a),o==="radius"&&this.setRadius(a),this},toObject:function(o){return this.callSuper("toObject",["radius","startAngle","endAngle"].concat(o))},_toSVG:function(){var o,a=0,s=0,l=(this.endAngle-this.startAngle)%360;if(l===0)o=["<circle ","COMMON_PARTS",'cx="'+a+'" cy="'+s+'" ','r="',this.radius,`" />
`];else{var d=u(this.startAngle),c=u(this.endAngle),g=this.radius,v=i.util.cos(d)*g,y=i.util.sin(d)*g,_=i.util.cos(c)*g,w=i.util.sin(c)*g,C=l>180?"1":"0";o=['<path d="M '+v+" "+y," A "+g+" "+g," 0 ",+C+" 1"," "+_+" "+w,'" ',"COMMON_PARTS",` />
`]}return o},_render:function(o){o.beginPath(),o.arc(0,0,this.radius,u(this.startAngle),u(this.endAngle),!1),this._renderPaintInOrder(o)},getRadiusX:function(){return this.get("radius")*this.get("scaleX")},getRadiusY:function(){return this.get("radius")*this.get("scaleY")},setRadius:function(o){return this.radius=o,this.set("width",o*2).set("height",o*2)}}),i.Circle.ATTRIBUTE_NAMES=i.SHARED_ATTRIBUTES.concat("cx cy r".split(" ")),i.Circle.fromElement=function(o,a){var s=i.parseAttributes(o,i.Circle.ATTRIBUTE_NAMES);if(!f(s))throw new Error("value of `r` attribute is required and can not be negative");s.left=(s.left||0)-s.radius,s.top=(s.top||0)-s.radius,a(new i.Circle(s))};function f(o){return"radius"in o&&o.radius>=0}i.Circle.fromObject=function(o,a){i.Object._fromObject("Circle",o,a)}}(e),function(h){var i=h.fabric||(h.fabric={});if(i.Triangle){i.warn("fabric.Triangle is already defined");return}i.Triangle=i.util.createClass(i.Object,{type:"triangle",width:100,height:100,_render:function(u){var f=this.width/2,o=this.height/2;u.beginPath(),u.moveTo(-f,o),u.lineTo(0,-o),u.lineTo(f,o),u.closePath(),this._renderPaintInOrder(u)},_toSVG:function(){var u=this.width/2,f=this.height/2,o=[-u+" "+f,"0 "+-f,u+" "+f].join(",");return["<polygon ","COMMON_PARTS",'points="',o,'" />']}}),i.Triangle.fromObject=function(u,f){return i.Object._fromObject("Triangle",u,f)}}(e),function(h){var i=h.fabric||(h.fabric={}),u=Math.PI*2;if(i.Ellipse){i.warn("fabric.Ellipse is already defined.");return}i.Ellipse=i.util.createClass(i.Object,{type:"ellipse",rx:0,ry:0,cacheProperties:i.Object.prototype.cacheProperties.concat("rx","ry"),initialize:function(f){this.callSuper("initialize",f),this.set("rx",f&&f.rx||0),this.set("ry",f&&f.ry||0)},_set:function(f,o){switch(this.callSuper("_set",f,o),f){case"rx":this.rx=o,this.set("width",o*2);break;case"ry":this.ry=o,this.set("height",o*2);break}return this},getRx:function(){return this.get("rx")*this.get("scaleX")},getRy:function(){return this.get("ry")*this.get("scaleY")},toObject:function(f){return this.callSuper("toObject",["rx","ry"].concat(f))},_toSVG:function(){return["<ellipse ","COMMON_PARTS",'cx="0" cy="0" ','rx="',this.rx,'" ry="',this.ry,`" />
`]},_render:function(f){f.beginPath(),f.save(),f.transform(1,0,0,this.ry/this.rx,0,0),f.arc(0,0,this.rx,0,u,!1),f.restore(),this._renderPaintInOrder(f)}}),i.Ellipse.ATTRIBUTE_NAMES=i.SHARED_ATTRIBUTES.concat("cx cy rx ry".split(" ")),i.Ellipse.fromElement=function(f,o){var a=i.parseAttributes(f,i.Ellipse.ATTRIBUTE_NAMES);a.left=(a.left||0)-a.rx,a.top=(a.top||0)-a.ry,o(new i.Ellipse(a))},i.Ellipse.fromObject=function(f,o){i.Object._fromObject("Ellipse",f,o)}}(e),function(h){var i=h.fabric||(h.fabric={}),u=i.util.object.extend;if(i.Rect){i.warn("fabric.Rect is already defined");return}i.Rect=i.util.createClass(i.Object,{stateProperties:i.Object.prototype.stateProperties.concat("rx","ry"),type:"rect",rx:0,ry:0,cacheProperties:i.Object.prototype.cacheProperties.concat("rx","ry"),initialize:function(f){this.callSuper("initialize",f),this._initRxRy()},_initRxRy:function(){this.rx&&!this.ry?this.ry=this.rx:this.ry&&!this.rx&&(this.rx=this.ry)},_render:function(f){var o=this.rx?Math.min(this.rx,this.width/2):0,a=this.ry?Math.min(this.ry,this.height/2):0,s=this.width,l=this.height,d=-this.width/2,c=-this.height/2,g=o!==0||a!==0,v=1-.5522847498;f.beginPath(),f.moveTo(d+o,c),f.lineTo(d+s-o,c),g&&f.bezierCurveTo(d+s-v*o,c,d+s,c+v*a,d+s,c+a),f.lineTo(d+s,c+l-a),g&&f.bezierCurveTo(d+s,c+l-v*a,d+s-v*o,c+l,d+s-o,c+l),f.lineTo(d+o,c+l),g&&f.bezierCurveTo(d+v*o,c+l,d,c+l-v*a,d,c+l-a),f.lineTo(d,c+a),g&&f.bezierCurveTo(d,c+v*a,d+v*o,c,d+o,c),f.closePath(),this._renderPaintInOrder(f)},toObject:function(f){return this.callSuper("toObject",["rx","ry"].concat(f))},_toSVG:function(){var f=-this.width/2,o=-this.height/2;return["<rect ","COMMON_PARTS",'x="',f,'" y="',o,'" rx="',this.rx,'" ry="',this.ry,'" width="',this.width,'" height="',this.height,`" />
`]}}),i.Rect.ATTRIBUTE_NAMES=i.SHARED_ATTRIBUTES.concat("x y rx ry width height".split(" ")),i.Rect.fromElement=function(f,o,a){if(!f)return o(null);a=a||{};var s=i.parseAttributes(f,i.Rect.ATTRIBUTE_NAMES);s.left=s.left||0,s.top=s.top||0,s.height=s.height||0,s.width=s.width||0;var l=new i.Rect(u(a?i.util.object.clone(a):{},s));l.visible=l.visible&&l.width>0&&l.height>0,o(l)},i.Rect.fromObject=function(f,o){return i.Object._fromObject("Rect",f,o)}}(e),function(h){var i=h.fabric||(h.fabric={}),u=i.util.object.extend,f=i.util.array.min,o=i.util.array.max,a=i.util.toFixed,s=i.util.projectStrokeOnPoints;if(i.Polyline){i.warn("fabric.Polyline is already defined");return}i.Polyline=i.util.createClass(i.Object,{type:"polyline",points:null,exactBoundingBox:!1,cacheProperties:i.Object.prototype.cacheProperties.concat("points"),initialize:function(l,d){d=d||{},this.points=l||[],this.callSuper("initialize",d),this._setPositionDimensions(d)},_projectStrokeOnPoints:function(){return s(this.points,this,!0)},_setPositionDimensions:function(l){var d=this._calcDimensions(l),c,g=this.exactBoundingBox?this.strokeWidth:0;this.width=d.width-g,this.height=d.height-g,l.fromSVG||(c=this.translateToGivenOrigin({x:d.left-this.strokeWidth/2+g/2,y:d.top-this.strokeWidth/2+g/2},"left","top",this.originX,this.originY)),typeof l.left>"u"&&(this.left=l.fromSVG?d.left:c.x),typeof l.top>"u"&&(this.top=l.fromSVG?d.top:c.y),this.pathOffset={x:d.left+this.width/2+g/2,y:d.top+this.height/2+g/2}},_calcDimensions:function(){var l=this.exactBoundingBox?this._projectStrokeOnPoints():this.points,d=f(l,"x")||0,c=f(l,"y")||0,g=o(l,"x")||0,v=o(l,"y")||0,y=g-d,_=v-c;return{left:d,top:c,width:y,height:_}},toObject:function(l){return u(this.callSuper("toObject",l),{points:this.points.concat()})},_toSVG:function(){for(var l=[],d=this.pathOffset.x,c=this.pathOffset.y,g=i.Object.NUM_FRACTION_DIGITS,v=0,y=this.points.length;v<y;v++)l.push(a(this.points[v].x-d,g),",",a(this.points[v].y-c,g)," ");return["<"+this.type+" ","COMMON_PARTS",'points="',l.join(""),`" />
`]},commonRender:function(l){var d,c=this.points.length,g=this.pathOffset.x,v=this.pathOffset.y;if(!c||isNaN(this.points[c-1].y))return!1;l.beginPath(),l.moveTo(this.points[0].x-g,this.points[0].y-v);for(var y=0;y<c;y++)d=this.points[y],l.lineTo(d.x-g,d.y-v);return!0},_render:function(l){this.commonRender(l)&&this._renderPaintInOrder(l)},complexity:function(){return this.get("points").length}}),i.Polyline.ATTRIBUTE_NAMES=i.SHARED_ATTRIBUTES.concat(),i.Polyline.fromElementGenerator=function(l){return function(d,c,g){if(!d)return c(null);g||(g={});var v=i.parsePointsAttribute(d.getAttribute("points")),y=i.parseAttributes(d,i[l].ATTRIBUTE_NAMES);y.fromSVG=!0,c(new i[l](v,u(y,g)))}},i.Polyline.fromElement=i.Polyline.fromElementGenerator("Polyline"),i.Polyline.fromObject=function(l,d){return i.Object._fromObject("Polyline",l,d,"points")}}(e),function(h){var i=h.fabric||(h.fabric={}),u=i.util.projectStrokeOnPoints;if(i.Polygon){i.warn("fabric.Polygon is already defined");return}i.Polygon=i.util.createClass(i.Polyline,{type:"polygon",_projectStrokeOnPoints:function(){return u(this.points,this)},_render:function(f){this.commonRender(f)&&(f.closePath(),this._renderPaintInOrder(f))}}),i.Polygon.ATTRIBUTE_NAMES=i.SHARED_ATTRIBUTES.concat(),i.Polygon.fromElement=i.Polyline.fromElementGenerator("Polygon"),i.Polygon.fromObject=function(f,o){i.Object._fromObject("Polygon",f,o,"points")}}(e),function(h){var i=h.fabric||(h.fabric={}),u=i.util.array.min,f=i.util.array.max,o=i.util.object.extend,a=i.util.object.clone,s=i.util.toFixed;if(i.Path){i.warn("fabric.Path is already defined");return}i.Path=i.util.createClass(i.Object,{type:"path",path:null,cacheProperties:i.Object.prototype.cacheProperties.concat("path","fillRule"),stateProperties:i.Object.prototype.stateProperties.concat("path"),initialize:function(l,d){d=a(d||{}),delete d.path,this.callSuper("initialize",d),this._setPath(l||[],d)},_setPath:function(l,d){this.path=i.util.makePathSimpler(Array.isArray(l)?l:i.util.parsePath(l)),i.Polyline.prototype._setPositionDimensions.call(this,d||{})},_renderPathCommands:function(l){var d,c=0,g=0,v=0,y=0,_=0,w=0,C=-this.pathOffset.x,x=-this.pathOffset.y;l.beginPath();for(var O=0,M=this.path.length;O<M;++O)switch(d=this.path[O],d[0]){case"L":v=d[1],y=d[2],l.lineTo(v+C,y+x);break;case"M":v=d[1],y=d[2],c=v,g=y,l.moveTo(v+C,y+x);break;case"C":v=d[5],y=d[6],_=d[3],w=d[4],l.bezierCurveTo(d[1]+C,d[2]+x,_+C,w+x,v+C,y+x);break;case"Q":l.quadraticCurveTo(d[1]+C,d[2]+x,d[3]+C,d[4]+x),v=d[3],y=d[4],_=d[1],w=d[2];break;case"z":case"Z":v=c,y=g,l.closePath();break}},_render:function(l){this._renderPathCommands(l),this._renderPaintInOrder(l)},toString:function(){return"#<fabric.Path ("+this.complexity()+'): { "top": '+this.top+', "left": '+this.left+" }>"},toObject:function(l){return o(this.callSuper("toObject",l),{path:this.path.map(function(d){return d.slice()})})},toDatalessObject:function(l){var d=this.toObject(["sourcePath"].concat(l));return d.sourcePath&&delete d.path,d},_toSVG:function(){var l=i.util.joinPath(this.path);return["<path ","COMMON_PARTS",'d="',l,'" stroke-linecap="round" ',`/>
`]},_getOffsetTransform:function(){var l=i.Object.NUM_FRACTION_DIGITS;return" translate("+s(-this.pathOffset.x,l)+", "+s(-this.pathOffset.y,l)+")"},toClipPathSVG:function(l){var d=this._getOffsetTransform();return"	"+this._createBaseClipPathSVGMarkup(this._toSVG(),{reviver:l,additionalTransform:d})},toSVG:function(l){var d=this._getOffsetTransform();return this._createBaseSVGMarkup(this._toSVG(),{reviver:l,additionalTransform:d})},complexity:function(){return this.path.length},_calcDimensions:function(){for(var l=[],d=[],c,g=0,v=0,y=0,_=0,w,C=0,x=this.path.length;C<x;++C){switch(c=this.path[C],c[0]){case"L":y=c[1],_=c[2],w=[];break;case"M":y=c[1],_=c[2],g=y,v=_,w=[];break;case"C":w=i.util.getBoundsOfCurve(y,_,c[1],c[2],c[3],c[4],c[5],c[6]),y=c[5],_=c[6];break;case"Q":w=i.util.getBoundsOfCurve(y,_,c[1],c[2],c[1],c[2],c[3],c[4]),y=c[3],_=c[4];break;case"z":case"Z":y=g,_=v;break}w.forEach(function(ee){l.push(ee.x),d.push(ee.y)}),l.push(y),d.push(_)}var O=u(l)||0,M=u(d)||0,F=f(l)||0,V=f(d)||0,$=F-O,ne=V-M;return{left:O,top:M,width:$,height:ne}}}),i.Path.fromObject=function(l,d){if(typeof l.sourcePath=="string"){var c=l.sourcePath;i.loadSVGFromURL(c,function(g){var v=g[0];v.setOptions(l),l.clipPath?i.util.enlivenObjects([l.clipPath],function(y){v.clipPath=y[0],d&&d(v)}):d&&d(v)})}else i.Object._fromObject("Path",l,d,"path")},i.Path.ATTRIBUTE_NAMES=i.SHARED_ATTRIBUTES.concat(["d"]),i.Path.fromElement=function(l,d,c){var g=i.parseAttributes(l,i.Path.ATTRIBUTE_NAMES);g.fromSVG=!0,d(new i.Path(g.d,o(g,c)))}}(e),function(h){var i=h.fabric||(h.fabric={}),u=i.util.array.min,f=i.util.array.max;i.Group||(i.Group=i.util.createClass(i.Object,i.Collection,{type:"group",strokeWidth:0,subTargetCheck:!1,cacheProperties:[],useSetOnGroup:!1,initialize:function(o,a,s){a=a||{},this._objects=[],s&&this.callSuper("initialize",a),this._objects=o||[];for(var l=this._objects.length;l--;)this._objects[l].group=this;if(s)this._updateObjectsACoords();else{var d=a&&a.centerPoint;a.originX!==void 0&&(this.originX=a.originX),a.originY!==void 0&&(this.originY=a.originY),d||this._calcBounds(),this._updateObjectsCoords(d),delete a.centerPoint,this.callSuper("initialize",a)}this.setCoords()},_updateObjectsACoords:function(){for(var o=!0,a=this._objects.length;a--;)this._objects[a].setCoords(o)},_updateObjectsCoords:function(a){for(var a=a||this.getCenterPoint(),s=this._objects.length;s--;)this._updateObjectCoords(this._objects[s],a)},_updateObjectCoords:function(o,a){var s=o.left,l=o.top,d=!0;o.set({left:s-a.x,top:l-a.y}),o.group=this,o.setCoords(d)},toString:function(){return"#<fabric.Group: ("+this.complexity()+")>"},addWithUpdate:function(o){var a=!!this.group;return this._restoreObjectsState(),i.util.resetObjectTransform(this),o&&(a&&i.util.removeTransformFromObject(o,this.group.calcTransformMatrix()),this._objects.push(o),o.group=this,o._set("canvas",this.canvas)),this._calcBounds(),this._updateObjectsCoords(),this.dirty=!0,a?this.group.addWithUpdate():this.setCoords(),this},removeWithUpdate:function(o){return this._restoreObjectsState(),i.util.resetObjectTransform(this),this.remove(o),this._calcBounds(),this._updateObjectsCoords(),this.setCoords(),this.dirty=!0,this},_onObjectAdded:function(o){this.dirty=!0,o.group=this,o._set("canvas",this.canvas)},_onObjectRemoved:function(o){this.dirty=!0,delete o.group},_set:function(o,a){var s=this._objects.length;if(this.useSetOnGroup)for(;s--;)this._objects[s].setOnGroup(o,a);if(o==="canvas")for(;s--;)this._objects[s]._set(o,a);i.Object.prototype._set.call(this,o,a)},toObject:function(o){var a=this.includeDefaultValues,s=this._objects.filter(function(d){return!d.excludeFromExport}).map(function(d){var c=d.includeDefaultValues;d.includeDefaultValues=a;var g=d.toObject(o);return d.includeDefaultValues=c,g}),l=i.Object.prototype.toObject.call(this,o);return l.objects=s,l},toDatalessObject:function(o){var a,s=this.sourcePath;if(s)a=s;else{var l=this.includeDefaultValues;a=this._objects.map(function(c){var g=c.includeDefaultValues;c.includeDefaultValues=l;var v=c.toDatalessObject(o);return c.includeDefaultValues=g,v})}var d=i.Object.prototype.toDatalessObject.call(this,o);return d.objects=a,d},render:function(o){this._transformDone=!0,this.callSuper("render",o),this._transformDone=!1},shouldCache:function(){var o=i.Object.prototype.shouldCache.call(this);if(o){for(var a=0,s=this._objects.length;a<s;a++)if(this._objects[a].willDrawShadow())return this.ownCaching=!1,!1}return o},willDrawShadow:function(){if(i.Object.prototype.willDrawShadow.call(this))return!0;for(var o=0,a=this._objects.length;o<a;o++)if(this._objects[o].willDrawShadow())return!0;return!1},isOnACache:function(){return this.ownCaching||this.group&&this.group.isOnACache()},drawObject:function(o){for(var a=0,s=this._objects.length;a<s;a++)this._objects[a].render(o);this._drawClipPath(o,this.clipPath)},isCacheDirty:function(o){if(this.callSuper("isCacheDirty",o))return!0;if(!this.statefullCache)return!1;for(var a=0,s=this._objects.length;a<s;a++)if(this._objects[a].isCacheDirty(!0)){if(this._cacheCanvas){var l=this.cacheWidth/this.zoomX,d=this.cacheHeight/this.zoomY;this._cacheContext.clearRect(-l/2,-d/2,l,d)}return!0}return!1},_restoreObjectsState:function(){var o=this.calcOwnMatrix();return this._objects.forEach(function(a){i.util.addTransformToObject(a,o),delete a.group,a.setCoords()}),this},destroy:function(){return this._objects.forEach(function(o){o.set("dirty",!0)}),this._restoreObjectsState()},dispose:function(){this.callSuper("dispose"),this.forEachObject(function(o){o.dispose&&o.dispose()}),this._objects=[]},toActiveSelection:function(){if(this.canvas){var o=this._objects,a=this.canvas;this._objects=[];var s=this.toObject();delete s.objects;var l=new i.ActiveSelection([]);return l.set(s),l.type="activeSelection",a.remove(this),o.forEach(function(d){d.group=l,d.dirty=!0,a.add(d)}),l.canvas=a,l._objects=o,a._activeObject=l,l.setCoords(),l}},ungroupOnCanvas:function(){return this._restoreObjectsState()},setObjectsCoords:function(){var o=!0;return this.forEachObject(function(a){a.setCoords(o)}),this},_calcBounds:function(o){for(var a=[],s=[],l,d,c,g=["tr","br","bl","tl"],v=0,y=this._objects.length,_,w=g.length;v<y;++v){for(l=this._objects[v],c=l.calcACoords(),_=0;_<w;_++)d=g[_],a.push(c[d].x),s.push(c[d].y);l.aCoords=c}this._getBounds(a,s,o)},_getBounds:function(o,a,s){var l=new i.Point(u(o),u(a)),d=new i.Point(f(o),f(a)),c=l.y||0,g=l.x||0,v=d.x-l.x||0,y=d.y-l.y||0;this.width=v,this.height=y,s||this.setPositionByOrigin({x:g,y:c},"left","top")},_toSVG:function(o){for(var a=["<g ","COMMON_PARTS",` >
`],s=0,l=this._objects.length;s<l;s++)a.push("		",this._objects[s].toSVG(o));return a.push(`</g>
`),a},getSvgStyles:function(){var o=typeof this.opacity<"u"&&this.opacity!==1?"opacity: "+this.opacity+";":"",a=this.visible?"":" visibility: hidden;";return[o,this.getSvgFilter(),a].join("")},toClipPathSVG:function(o){for(var a=[],s=0,l=this._objects.length;s<l;s++)a.push("	",this._objects[s].toClipPathSVG(o));return this._createBaseClipPathSVGMarkup(a,{reviver:o})}}),i.Group.fromObject=function(o,a){var s=o.objects,l=i.util.object.clone(o,!0);if(delete l.objects,typeof s=="string"){i.loadSVGFromURL(s,function(d){var c=i.util.groupSVGElements(d,o,s),g=l.clipPath;delete l.clipPath,c.set(l),g?i.util.enlivenObjects([g],function(v){c.clipPath=v[0],a&&a(c)}):a&&a(c)});return}i.util.enlivenObjects(s,function(d){i.util.enlivenObjectEnlivables(o,l,function(){a&&a(new i.Group(d,l,!0))})})})}(e),function(h){var i=h.fabric||(h.fabric={});i.ActiveSelection||(i.ActiveSelection=i.util.createClass(i.Group,{type:"activeSelection",initialize:function(u,f){f=f||{},this._objects=u||[];for(var o=this._objects.length;o--;)this._objects[o].group=this;f.originX&&(this.originX=f.originX),f.originY&&(this.originY=f.originY),this._calcBounds(),this._updateObjectsCoords(),i.Object.prototype.initialize.call(this,f),this.setCoords()},toGroup:function(){var u=this._objects.concat();this._objects=[];var f=i.Object.prototype.toObject.call(this),o=new i.Group([]);if(delete f.type,o.set(f),u.forEach(function(s){s.canvas.remove(s),s.group=o}),o._objects=u,!this.canvas)return o;var a=this.canvas;return a.add(o),a._activeObject=o,o.setCoords(),o},onDeselect:function(){return this.destroy(),!1},toString:function(){return"#<fabric.ActiveSelection: ("+this.complexity()+")>"},shouldCache:function(){return!1},isOnACache:function(){return!1},_renderControls:function(u,f,o){u.save(),u.globalAlpha=this.isMoving?this.borderOpacityWhenMoving:1,this.callSuper("_renderControls",u,f),o=o||{},typeof o.hasControls>"u"&&(o.hasControls=!1),o.forActiveSelection=!0;for(var a=0,s=this._objects.length;a<s;a++)this._objects[a]._renderControls(u,o);u.restore()}}),i.ActiveSelection.fromObject=function(u,f){i.util.enlivenObjects(u.objects,function(o){delete u.objects,f&&f(new i.ActiveSelection(o,u,!0))})})}(e),function(h){var i=t.util.object.extend;if(h.fabric||(h.fabric={}),h.fabric.Image){t.warn("fabric.Image is already defined.");return}t.Image=t.util.createClass(t.Object,{type:"image",strokeWidth:0,srcFromAttribute:!1,_lastScaleX:1,_lastScaleY:1,_filterScalingX:1,_filterScalingY:1,minimumScaleTrigger:.5,stateProperties:t.Object.prototype.stateProperties.concat("cropX","cropY"),cacheProperties:t.Object.prototype.cacheProperties.concat("cropX","cropY"),cacheKey:"",cropX:0,cropY:0,imageSmoothing:!0,initialize:function(u,f){f||(f={}),this.filters=[],this.cacheKey="texture"+t.Object.__uid++,this.callSuper("initialize",f),this._initElement(u,f)},getElement:function(){return this._element||{}},setElement:function(u,f){return this.removeTexture(this.cacheKey),this.removeTexture(this.cacheKey+"_filtered"),this._element=u,this._originalElement=u,this._initConfig(f),this.filters.length!==0&&this.applyFilters(),this.resizeFilter&&this.applyResizeFilters(),this},removeTexture:function(u){var f=t.filterBackend;f&&f.evictCachesForKey&&f.evictCachesForKey(u)},dispose:function(){this.callSuper("dispose"),this.removeTexture(this.cacheKey),this.removeTexture(this.cacheKey+"_filtered"),this._cacheContext=void 0,["_originalElement","_element","_filteredEl","_cacheCanvas"].forEach((function(u){t.util.cleanUpJsdomNode(this[u]),this[u]=void 0}).bind(this))},getCrossOrigin:function(){return this._originalElement&&(this._originalElement.crossOrigin||null)},getOriginalSize:function(){var u=this.getElement();return{width:u.naturalWidth||u.width,height:u.naturalHeight||u.height}},_stroke:function(u){if(!(!this.stroke||this.strokeWidth===0)){var f=this.width/2,o=this.height/2;u.beginPath(),u.moveTo(-f,-o),u.lineTo(f,-o),u.lineTo(f,o),u.lineTo(-f,o),u.lineTo(-f,-o),u.closePath()}},toObject:function(u){var f=[];this.filters.forEach(function(a){a&&f.push(a.toObject())});var o=i(this.callSuper("toObject",["cropX","cropY"].concat(u)),{src:this.getSrc(),crossOrigin:this.getCrossOrigin(),filters:f});return this.resizeFilter&&(o.resizeFilter=this.resizeFilter.toObject()),o},hasCrop:function(){return this.cropX||this.cropY||this.width<this._element.width||this.height<this._element.height},_toSVG:function(){var u=[],f=[],o,a=this._element,s=-this.width/2,l=-this.height/2,d="",c="";if(!a)return[];if(this.hasCrop()){var g=t.Object.__uid++;u.push('<clipPath id="imageCrop_'+g+`">
`,'	<rect x="'+s+'" y="'+l+'" width="'+this.width+'" height="'+this.height+`" />
`,`</clipPath>
`),d=' clip-path="url(#imageCrop_'+g+')" '}if(this.imageSmoothing||(c='" image-rendering="optimizeSpeed'),f.push("	<image ","COMMON_PARTS",'xlink:href="',this.getSvgSrc(!0),'" x="',s-this.cropX,'" y="',l-this.cropY,'" width="',a.width||a.naturalWidth,'" height="',a.height||a.height,c,'"',d,`></image>
`),this.stroke||this.strokeDashArray){var v=this.fill;this.fill=null,o=["	<rect ",'x="',s,'" y="',l,'" width="',this.width,'" height="',this.height,'" style="',this.getSvgStyles(),`"/>
`],this.fill=v}return this.paintFirst!=="fill"?u=u.concat(o,f):u=u.concat(f,o),u},getSrc:function(u){var f=u?this._element:this._originalElement;return f?f.toDataURL?f.toDataURL():this.srcFromAttribute?f.getAttribute("src"):f.src:this.src||""},setSrc:function(u,f,o){return t.util.loadImage(u,function(a,s){this.setElement(a,o),this._setWidthHeight(),f&&f(this,s)},this,o&&o.crossOrigin),this},toString:function(){return'#<fabric.Image: { src: "'+this.getSrc()+'" }>'},applyResizeFilters:function(){var u=this.resizeFilter,f=this.minimumScaleTrigger,o=this.getTotalObjectScaling(),a=o.scaleX,s=o.scaleY,l=this._filteredEl||this._originalElement;if(this.group&&this.set("dirty",!0),!u||a>f&&s>f){this._element=l,this._filterScalingX=1,this._filterScalingY=1,this._lastScaleX=a,this._lastScaleY=s;return}t.filterBackend||(t.filterBackend=t.initFilterBackend());var d=t.util.createCanvasElement(),c=this._filteredEl?this.cacheKey+"_filtered":this.cacheKey,g=l.width,v=l.height;d.width=g,d.height=v,this._element=d,this._lastScaleX=u.scaleX=a,this._lastScaleY=u.scaleY=s,t.filterBackend.applyFilters([u],l,g,v,this._element,c),this._filterScalingX=d.width/this._originalElement.width,this._filterScalingY=d.height/this._originalElement.height},applyFilters:function(u){if(u=u||this.filters||[],u=u.filter(function(l){return l&&!l.isNeutralState()}),this.set("dirty",!0),this.removeTexture(this.cacheKey+"_filtered"),u.length===0)return this._element=this._originalElement,this._filteredEl=null,this._filterScalingX=1,this._filterScalingY=1,this;var f=this._originalElement,o=f.naturalWidth||f.width,a=f.naturalHeight||f.height;if(this._element===this._originalElement){var s=t.util.createCanvasElement();s.width=o,s.height=a,this._element=s,this._filteredEl=s}else this._element=this._filteredEl,this._filteredEl.getContext("2d").clearRect(0,0,o,a),this._lastScaleX=1,this._lastScaleY=1;return t.filterBackend||(t.filterBackend=t.initFilterBackend()),t.filterBackend.applyFilters(u,this._originalElement,o,a,this._element,this.cacheKey),(this._originalElement.width!==this._element.width||this._originalElement.height!==this._element.height)&&(this._filterScalingX=this._element.width/this._originalElement.width,this._filterScalingY=this._element.height/this._originalElement.height),this},_render:function(u){t.util.setImageSmoothing(u,this.imageSmoothing),this.isMoving!==!0&&this.resizeFilter&&this._needsResize()&&this.applyResizeFilters(),this._stroke(u),this._renderPaintInOrder(u)},drawCacheOnCanvas:function(u){t.util.setImageSmoothing(u,this.imageSmoothing),t.Object.prototype.drawCacheOnCanvas.call(this,u)},shouldCache:function(){return this.needsItsOwnCache()},_renderFill:function(u){var f=this._element;if(f){var o=this._filterScalingX,a=this._filterScalingY,s=this.width,l=this.height,d=Math.min,c=Math.max,g=c(this.cropX,0),v=c(this.cropY,0),y=f.naturalWidth||f.width,_=f.naturalHeight||f.height,w=g*o,C=v*a,x=d(s*o,y-w),O=d(l*a,_-C),M=-s/2,F=-l/2,V=d(s,y/o-g),$=d(l,_/a-v);f&&u.drawImage(f,w,C,x,O,M,F,V,$)}},_needsResize:function(){var u=this.getTotalObjectScaling();return u.scaleX!==this._lastScaleX||u.scaleY!==this._lastScaleY},_resetWidthHeight:function(){this.set(this.getOriginalSize())},_initElement:function(u,f){this.setElement(t.util.getById(u),f),t.util.addClass(this.getElement(),t.Image.CSS_CANVAS)},_initConfig:function(u){u||(u={}),this.setOptions(u),this._setWidthHeight(u)},_initFilters:function(u,f){u&&u.length?t.util.enlivenObjects(u,function(o){f&&f(o)},"fabric.Image.filters"):f&&f()},_setWidthHeight:function(u){u||(u={});var f=this.getElement();this.width=u.width||f.naturalWidth||f.width||0,this.height=u.height||f.naturalHeight||f.height||0},parsePreserveAspectRatioAttribute:function(){var u=t.util.parsePreserveAspectRatioAttribute(this.preserveAspectRatio||""),f=this._element.width,o=this._element.height,a=1,s=1,l=0,d=0,c=0,g=0,v,y=this.width,_=this.height,w={width:y,height:_};return u&&(u.alignX!=="none"||u.alignY!=="none")?(u.meetOrSlice==="meet"&&(a=s=t.util.findScaleToFit(this._element,w),v=(y-f*a)/2,u.alignX==="Min"&&(l=-v),u.alignX==="Max"&&(l=v),v=(_-o*s)/2,u.alignY==="Min"&&(d=-v),u.alignY==="Max"&&(d=v)),u.meetOrSlice==="slice"&&(a=s=t.util.findScaleToCover(this._element,w),v=f-y/a,u.alignX==="Mid"&&(c=v/2),u.alignX==="Max"&&(c=v),v=o-_/s,u.alignY==="Mid"&&(g=v/2),u.alignY==="Max"&&(g=v),f=y/a,o=_/s)):(a=y/f,s=_/o),{width:f,height:o,scaleX:a,scaleY:s,offsetLeft:l,offsetTop:d,cropX:c,cropY:g}}}),t.Image.CSS_CANVAS="canvas-img",t.Image.prototype.getSvgSrc=t.Image.prototype.getSrc,t.Image.fromObject=function(u,f){var o=t.util.object.clone(u);t.util.loadImage(o.src,function(a,s){if(s){f&&f(null,!0);return}t.Image.prototype._initFilters.call(o,o.filters,function(l){o.filters=l||[],t.Image.prototype._initFilters.call(o,[o.resizeFilter],function(d){o.resizeFilter=d[0],t.util.enlivenObjectEnlivables(o,o,function(){var c=new t.Image(a,o);f(c,!1)})})})},null,o.crossOrigin)},t.Image.fromURL=function(u,f,o){t.util.loadImage(u,function(a,s){f&&f(new t.Image(a,o),s)},null,o&&o.crossOrigin)},t.Image.ATTRIBUTE_NAMES=t.SHARED_ATTRIBUTES.concat("x y width height preserveAspectRatio xlink:href crossOrigin image-rendering".split(" ")),t.Image.fromElement=function(u,f,o){var a=t.parseAttributes(u,t.Image.ATTRIBUTE_NAMES);t.Image.fromURL(a["xlink:href"],f,i(o?t.util.object.clone(o):{},a))}}(e),t.util.object.extend(t.Object.prototype,{_getAngleValueForStraighten:function(){var h=this.angle%360;return h>0?Math.round((h-1)/90)*90:Math.round(h/90)*90},straighten:function(){return this.rotate(this._getAngleValueForStraighten())},fxStraighten:function(h){h=h||{};var i=function(){},u=h.onComplete||i,f=h.onChange||i,o=this;return t.util.animate({target:this,startValue:this.get("angle"),endValue:this._getAngleValueForStraighten(),duration:this.FX_DURATION,onChange:function(a){o.rotate(a),f()},onComplete:function(){o.setCoords(),u()}})}}),t.util.object.extend(t.StaticCanvas.prototype,{straightenObject:function(h){return h.straighten(),this.requestRenderAll(),this},fxStraightenObject:function(h){return h.fxStraighten({onChange:this.requestRenderAllBound})}}),function(){function h(u,f){var o="precision "+f+` float;
void main(){}`,a=u.createShader(u.FRAGMENT_SHADER);return u.shaderSource(a,o),u.compileShader(a),!!u.getShaderParameter(a,u.COMPILE_STATUS)}t.isWebglSupported=function(u){if(t.isLikelyNode)return!1;u=u||t.WebglFilterBackend.prototype.tileSize;var f=document.createElement("canvas"),o=f.getContext("webgl")||f.getContext("experimental-webgl"),a=!1;if(o){t.maxTextureSize=o.getParameter(o.MAX_TEXTURE_SIZE),a=t.maxTextureSize>=u;for(var s=["highp","mediump","lowp"],l=0;l<3;l++)if(h(o,s[l])){t.webGlPrecision=s[l];break}}return this.isSupported=a,a},t.WebglFilterBackend=i;function i(u){u&&u.tileSize&&(this.tileSize=u.tileSize),this.setupGLContext(this.tileSize,this.tileSize),this.captureGPUInfo()}i.prototype={tileSize:2048,resources:{},setupGLContext:function(u,f){this.dispose(),this.createWebGLCanvas(u,f),this.aPosition=new Float32Array([0,0,0,1,1,0,1,1]),this.chooseFastestCopyGLTo2DMethod(u,f)},chooseFastestCopyGLTo2DMethod:function(u,f){var o=typeof window.performance<"u",a;try{new ImageData(1,1),a=!0}catch{a=!1}var s=typeof ArrayBuffer<"u",l=typeof Uint8ClampedArray<"u";if(o&&a&&s&&l){var d=t.util.createCanvasElement(),c=new ArrayBuffer(u*f*4);if(t.forceGLPutImageData){this.imageBuffer=c,this.copyGLTo2D=S;return}var g={imageBuffer:c,destinationWidth:u,destinationHeight:f,targetCanvas:d},v,y,_;d.width=u,d.height=f,v=window.performance.now(),m.call(g,this.gl,g),y=window.performance.now()-v,v=window.performance.now(),S.call(g,this.gl,g),_=window.performance.now()-v,y>_?(this.imageBuffer=c,this.copyGLTo2D=S):this.copyGLTo2D=m}},createWebGLCanvas:function(u,f){var o=t.util.createCanvasElement();o.width=u,o.height=f;var a={alpha:!0,premultipliedAlpha:!1,depth:!1,stencil:!1,antialias:!1},s=o.getContext("webgl",a);s||(s=o.getContext("experimental-webgl",a)),s&&(s.clearColor(0,0,0,0),this.canvas=o,this.gl=s)},applyFilters:function(u,f,o,a,s,l){var d=this.gl,c;l&&(c=this.getCachedTexture(l,f));var g={originalWidth:f.width||f.originalWidth,originalHeight:f.height||f.originalHeight,sourceWidth:o,sourceHeight:a,destinationWidth:o,destinationHeight:a,context:d,sourceTexture:this.createTexture(d,o,a,!c&&f),targetTexture:this.createTexture(d,o,a),originalTexture:c||this.createTexture(d,o,a,!c&&f),passes:u.length,webgl:!0,aPosition:this.aPosition,programCache:this.programCache,pass:0,filterBackend:this,targetCanvas:s},v=d.createFramebuffer();return d.bindFramebuffer(d.FRAMEBUFFER,v),u.forEach(function(y){y&&y.applyTo(g)}),p(g),this.copyGLTo2D(d,g),d.bindTexture(d.TEXTURE_2D,null),d.deleteTexture(g.sourceTexture),d.deleteTexture(g.targetTexture),d.deleteFramebuffer(v),s.getContext("2d").setTransform(1,0,0,1,0,0),g},dispose:function(){this.canvas&&(this.canvas=null,this.gl=null),this.clearWebGLCaches()},clearWebGLCaches:function(){this.programCache={},this.textureCache={}},createTexture:function(u,f,o,a,s){var l=u.createTexture();return u.bindTexture(u.TEXTURE_2D,l),u.texParameteri(u.TEXTURE_2D,u.TEXTURE_MAG_FILTER,s||u.NEAREST),u.texParameteri(u.TEXTURE_2D,u.TEXTURE_MIN_FILTER,s||u.NEAREST),u.texParameteri(u.TEXTURE_2D,u.TEXTURE_WRAP_S,u.CLAMP_TO_EDGE),u.texParameteri(u.TEXTURE_2D,u.TEXTURE_WRAP_T,u.CLAMP_TO_EDGE),a?u.texImage2D(u.TEXTURE_2D,0,u.RGBA,u.RGBA,u.UNSIGNED_BYTE,a):u.texImage2D(u.TEXTURE_2D,0,u.RGBA,f,o,0,u.RGBA,u.UNSIGNED_BYTE,null),l},getCachedTexture:function(u,f){if(this.textureCache[u])return this.textureCache[u];var o=this.createTexture(this.gl,f.width,f.height,f);return this.textureCache[u]=o,o},evictCachesForKey:function(u){this.textureCache[u]&&(this.gl.deleteTexture(this.textureCache[u]),delete this.textureCache[u])},copyGLTo2D:m,captureGPUInfo:function(){if(this.gpuInfo)return this.gpuInfo;var u=this.gl,f={renderer:"",vendor:""};if(!u)return f;var o=u.getExtension("WEBGL_debug_renderer_info");if(o){var a=u.getParameter(o.UNMASKED_RENDERER_WEBGL),s=u.getParameter(o.UNMASKED_VENDOR_WEBGL);a&&(f.renderer=a.toLowerCase()),s&&(f.vendor=s.toLowerCase())}return this.gpuInfo=f,f}}}();function p(h){var i=h.targetCanvas,u=i.width,f=i.height,o=h.destinationWidth,a=h.destinationHeight;(u!==o||f!==a)&&(i.width=o,i.height=a)}function m(h,i){var u=h.canvas,f=i.targetCanvas,o=f.getContext("2d");o.translate(0,f.height),o.scale(1,-1);var a=u.height-f.height;o.drawImage(u,0,a,f.width,f.height,0,0,f.width,f.height)}function S(h,i){var u=i.targetCanvas,f=u.getContext("2d"),o=i.destinationWidth,a=i.destinationHeight,s=o*a*4,l=new Uint8Array(this.imageBuffer,0,s),d=new Uint8ClampedArray(this.imageBuffer,0,s);h.readPixels(0,0,o,a,h.RGBA,h.UNSIGNED_BYTE,l);var c=new ImageData(d,o,a);f.putImageData(c,0,0)}(function(){var h=function(){};t.Canvas2dFilterBackend=i;function i(){}i.prototype={evictCachesForKey:h,dispose:h,clearWebGLCaches:h,resources:{},applyFilters:function(u,f,o,a,s){var l=s.getContext("2d");l.drawImage(f,0,0,o,a);var d=l.getImageData(0,0,o,a),c=l.getImageData(0,0,o,a),g={sourceWidth:o,sourceHeight:a,imageData:d,originalEl:f,originalImageData:c,canvasEl:s,ctx:l,filterBackend:this};return u.forEach(function(v){v.applyTo(g)}),(g.imageData.width!==o||g.imageData.height!==a)&&(s.width=g.imageData.width,s.height=g.imageData.height),l.putImageData(g.imageData,0,0),g}}})(),t.Image=t.Image||{},t.Image.filters=t.Image.filters||{},t.Image.filters.BaseFilter=t.util.createClass({type:"BaseFilter",vertexSource:`attribute vec2 aPosition;
varying vec2 vTexCoord;
void main() {
vTexCoord = aPosition;
gl_Position = vec4(aPosition * 2.0 - 1.0, 0.0, 1.0);
}`,fragmentSource:`precision highp float;
varying vec2 vTexCoord;
uniform sampler2D uTexture;
void main() {
gl_FragColor = texture2D(uTexture, vTexCoord);
}`,initialize:function(h){h&&this.setOptions(h)},setOptions:function(h){for(var i in h)this[i]=h[i]},createProgram:function(h,i,u){i=i||this.fragmentSource,u=u||this.vertexSource,t.webGlPrecision!=="highp"&&(i=i.replace(/precision highp float/g,"precision "+t.webGlPrecision+" float"));var f=h.createShader(h.VERTEX_SHADER);if(h.shaderSource(f,u),h.compileShader(f),!h.getShaderParameter(f,h.COMPILE_STATUS))throw new Error("Vertex shader compile error for "+this.type+": "+h.getShaderInfoLog(f));var o=h.createShader(h.FRAGMENT_SHADER);if(h.shaderSource(o,i),h.compileShader(o),!h.getShaderParameter(o,h.COMPILE_STATUS))throw new Error("Fragment shader compile error for "+this.type+": "+h.getShaderInfoLog(o));var a=h.createProgram();if(h.attachShader(a,f),h.attachShader(a,o),h.linkProgram(a),!h.getProgramParameter(a,h.LINK_STATUS))throw new Error('Shader link error for "${this.type}" '+h.getProgramInfoLog(a));var s=this.getAttributeLocations(h,a),l=this.getUniformLocations(h,a)||{};return l.uStepW=h.getUniformLocation(a,"uStepW"),l.uStepH=h.getUniformLocation(a,"uStepH"),{program:a,attributeLocations:s,uniformLocations:l}},getAttributeLocations:function(h,i){return{aPosition:h.getAttribLocation(i,"aPosition")}},getUniformLocations:function(){return{}},sendAttributeData:function(h,i,u){var f=i.aPosition,o=h.createBuffer();h.bindBuffer(h.ARRAY_BUFFER,o),h.enableVertexAttribArray(f),h.vertexAttribPointer(f,2,h.FLOAT,!1,0,0),h.bufferData(h.ARRAY_BUFFER,u,h.STATIC_DRAW)},_setupFrameBuffer:function(h){var i=h.context,u,f;h.passes>1?(u=h.destinationWidth,f=h.destinationHeight,(h.sourceWidth!==u||h.sourceHeight!==f)&&(i.deleteTexture(h.targetTexture),h.targetTexture=h.filterBackend.createTexture(i,u,f)),i.framebufferTexture2D(i.FRAMEBUFFER,i.COLOR_ATTACHMENT0,i.TEXTURE_2D,h.targetTexture,0)):(i.bindFramebuffer(i.FRAMEBUFFER,null),i.finish())},_swapTextures:function(h){h.passes--,h.pass++;var i=h.targetTexture;h.targetTexture=h.sourceTexture,h.sourceTexture=i},isNeutralState:function(){var h=this.mainParameter,i=t.Image.filters[this.type].prototype;if(h)if(Array.isArray(i[h])){for(var u=i[h].length;u--;)if(this[h][u]!==i[h][u])return!1;return!0}else return i[h]===this[h];else return!1},applyTo:function(h){h.webgl?(this._setupFrameBuffer(h),this.applyToWebGL(h),this._swapTextures(h)):this.applyTo2d(h)},retrieveShader:function(h){return h.programCache.hasOwnProperty(this.type)||(h.programCache[this.type]=this.createProgram(h.context)),h.programCache[this.type]},applyToWebGL:function(h){var i=h.context,u=this.retrieveShader(h);h.pass===0&&h.originalTexture?i.bindTexture(i.TEXTURE_2D,h.originalTexture):i.bindTexture(i.TEXTURE_2D,h.sourceTexture),i.useProgram(u.program),this.sendAttributeData(i,u.attributeLocations,h.aPosition),i.uniform1f(u.uniformLocations.uStepW,1/h.sourceWidth),i.uniform1f(u.uniformLocations.uStepH,1/h.sourceHeight),this.sendUniformData(i,u.uniformLocations),i.viewport(0,0,h.destinationWidth,h.destinationHeight),i.drawArrays(i.TRIANGLE_STRIP,0,4)},bindAdditionalTexture:function(h,i,u){h.activeTexture(u),h.bindTexture(h.TEXTURE_2D,i),h.activeTexture(h.TEXTURE0)},unbindAdditionalTexture:function(h,i){h.activeTexture(i),h.bindTexture(h.TEXTURE_2D,null),h.activeTexture(h.TEXTURE0)},getMainParameter:function(){return this[this.mainParameter]},setMainParameter:function(h){this[this.mainParameter]=h},sendUniformData:function(){},createHelpLayer:function(h){if(!h.helpLayer){var i=document.createElement("canvas");i.width=h.sourceWidth,i.height=h.sourceHeight,h.helpLayer=i}},toObject:function(){var h={type:this.type},i=this.mainParameter;return i&&(h[i]=this[i]),h},toJSON:function(){return this.toObject()}}),t.Image.filters.BaseFilter.fromObject=function(h,i){var u=new t.Image.filters[h.type](h);return i&&i(u),u},function(h){var i=h.fabric||(h.fabric={}),u=i.Image.filters,f=i.util.createClass;u.ColorMatrix=f(u.BaseFilter,{type:"ColorMatrix",fragmentSource:`precision highp float;
uniform sampler2D uTexture;
varying vec2 vTexCoord;
uniform mat4 uColorMatrix;
uniform vec4 uConstants;
void main() {
vec4 color = texture2D(uTexture, vTexCoord);
color *= uColorMatrix;
color += uConstants;
gl_FragColor = color;
}`,matrix:[1,0,0,0,0,0,1,0,0,0,0,0,1,0,0,0,0,0,1,0],mainParameter:"matrix",colorsOnly:!0,initialize:function(o){this.callSuper("initialize",o),this.matrix=this.matrix.slice(0)},applyTo2d:function(o){var a=o.imageData,s=a.data,l=s.length,d=this.matrix,c,g,v,y,_,w=this.colorsOnly;for(_=0;_<l;_+=4)c=s[_],g=s[_+1],v=s[_+2],w?(s[_]=c*d[0]+g*d[1]+v*d[2]+d[4]*255,s[_+1]=c*d[5]+g*d[6]+v*d[7]+d[9]*255,s[_+2]=c*d[10]+g*d[11]+v*d[12]+d[14]*255):(y=s[_+3],s[_]=c*d[0]+g*d[1]+v*d[2]+y*d[3]+d[4]*255,s[_+1]=c*d[5]+g*d[6]+v*d[7]+y*d[8]+d[9]*255,s[_+2]=c*d[10]+g*d[11]+v*d[12]+y*d[13]+d[14]*255,s[_+3]=c*d[15]+g*d[16]+v*d[17]+y*d[18]+d[19]*255)},getUniformLocations:function(o,a){return{uColorMatrix:o.getUniformLocation(a,"uColorMatrix"),uConstants:o.getUniformLocation(a,"uConstants")}},sendUniformData:function(o,a){var s=this.matrix,l=[s[0],s[1],s[2],s[3],s[5],s[6],s[7],s[8],s[10],s[11],s[12],s[13],s[15],s[16],s[17],s[18]],d=[s[4],s[9],s[14],s[19]];o.uniformMatrix4fv(a.uColorMatrix,!1,l),o.uniform4fv(a.uConstants,d)}}),i.Image.filters.ColorMatrix.fromObject=i.Image.filters.BaseFilter.fromObject}(e),function(h){var i=h.fabric||(h.fabric={}),u=i.Image.filters,f=i.util.createClass;u.Brightness=f(u.BaseFilter,{type:"Brightness",fragmentSource:`precision highp float;
uniform sampler2D uTexture;
uniform float uBrightness;
varying vec2 vTexCoord;
void main() {
vec4 color = texture2D(uTexture, vTexCoord);
color.rgb += uBrightness;
gl_FragColor = color;
}`,brightness:0,mainParameter:"brightness",applyTo2d:function(o){if(this.brightness!==0){var a=o.imageData,s=a.data,l,d=s.length,c=Math.round(this.brightness*255);for(l=0;l<d;l+=4)s[l]=s[l]+c,s[l+1]=s[l+1]+c,s[l+2]=s[l+2]+c}},getUniformLocations:function(o,a){return{uBrightness:o.getUniformLocation(a,"uBrightness")}},sendUniformData:function(o,a){o.uniform1f(a.uBrightness,this.brightness)}}),i.Image.filters.Brightness.fromObject=i.Image.filters.BaseFilter.fromObject}(e),function(h){var i=h.fabric||(h.fabric={}),u=i.util.object.extend,f=i.Image.filters,o=i.util.createClass;f.Convolute=o(f.BaseFilter,{type:"Convolute",opaque:!1,matrix:[0,0,0,0,1,0,0,0,0],fragmentSource:{Convolute_3_1:`precision highp float;
uniform sampler2D uTexture;
uniform float uMatrix[9];
uniform float uStepW;
uniform float uStepH;
varying vec2 vTexCoord;
void main() {
vec4 color = vec4(0, 0, 0, 0);
for (float h = 0.0; h < 3.0; h+=1.0) {
for (float w = 0.0; w < 3.0; w+=1.0) {
vec2 matrixPos = vec2(uStepW * (w - 1), uStepH * (h - 1));
color += texture2D(uTexture, vTexCoord + matrixPos) * uMatrix[int(h * 3.0 + w)];
}
}
gl_FragColor = color;
}`,Convolute_3_0:`precision highp float;
uniform sampler2D uTexture;
uniform float uMatrix[9];
uniform float uStepW;
uniform float uStepH;
varying vec2 vTexCoord;
void main() {
vec4 color = vec4(0, 0, 0, 1);
for (float h = 0.0; h < 3.0; h+=1.0) {
for (float w = 0.0; w < 3.0; w+=1.0) {
vec2 matrixPos = vec2(uStepW * (w - 1.0), uStepH * (h - 1.0));
color.rgb += texture2D(uTexture, vTexCoord + matrixPos).rgb * uMatrix[int(h * 3.0 + w)];
}
}
float alpha = texture2D(uTexture, vTexCoord).a;
gl_FragColor = color;
gl_FragColor.a = alpha;
}`,Convolute_5_1:`precision highp float;
uniform sampler2D uTexture;
uniform float uMatrix[25];
uniform float uStepW;
uniform float uStepH;
varying vec2 vTexCoord;
void main() {
vec4 color = vec4(0, 0, 0, 0);
for (float h = 0.0; h < 5.0; h+=1.0) {
for (float w = 0.0; w < 5.0; w+=1.0) {
vec2 matrixPos = vec2(uStepW * (w - 2.0), uStepH * (h - 2.0));
color += texture2D(uTexture, vTexCoord + matrixPos) * uMatrix[int(h * 5.0 + w)];
}
}
gl_FragColor = color;
}`,Convolute_5_0:`precision highp float;
uniform sampler2D uTexture;
uniform float uMatrix[25];
uniform float uStepW;
uniform float uStepH;
varying vec2 vTexCoord;
void main() {
vec4 color = vec4(0, 0, 0, 1);
for (float h = 0.0; h < 5.0; h+=1.0) {
for (float w = 0.0; w < 5.0; w+=1.0) {
vec2 matrixPos = vec2(uStepW * (w - 2.0), uStepH * (h - 2.0));
color.rgb += texture2D(uTexture, vTexCoord + matrixPos).rgb * uMatrix[int(h * 5.0 + w)];
}
}
float alpha = texture2D(uTexture, vTexCoord).a;
gl_FragColor = color;
gl_FragColor.a = alpha;
}`,Convolute_7_1:`precision highp float;
uniform sampler2D uTexture;
uniform float uMatrix[49];
uniform float uStepW;
uniform float uStepH;
varying vec2 vTexCoord;
void main() {
vec4 color = vec4(0, 0, 0, 0);
for (float h = 0.0; h < 7.0; h+=1.0) {
for (float w = 0.0; w < 7.0; w+=1.0) {
vec2 matrixPos = vec2(uStepW * (w - 3.0), uStepH * (h - 3.0));
color += texture2D(uTexture, vTexCoord + matrixPos) * uMatrix[int(h * 7.0 + w)];
}
}
gl_FragColor = color;
}`,Convolute_7_0:`precision highp float;
uniform sampler2D uTexture;
uniform float uMatrix[49];
uniform float uStepW;
uniform float uStepH;
varying vec2 vTexCoord;
void main() {
vec4 color = vec4(0, 0, 0, 1);
for (float h = 0.0; h < 7.0; h+=1.0) {
for (float w = 0.0; w < 7.0; w+=1.0) {
vec2 matrixPos = vec2(uStepW * (w - 3.0), uStepH * (h - 3.0));
color.rgb += texture2D(uTexture, vTexCoord + matrixPos).rgb * uMatrix[int(h * 7.0 + w)];
}
}
float alpha = texture2D(uTexture, vTexCoord).a;
gl_FragColor = color;
gl_FragColor.a = alpha;
}`,Convolute_9_1:`precision highp float;
uniform sampler2D uTexture;
uniform float uMatrix[81];
uniform float uStepW;
uniform float uStepH;
varying vec2 vTexCoord;
void main() {
vec4 color = vec4(0, 0, 0, 0);
for (float h = 0.0; h < 9.0; h+=1.0) {
for (float w = 0.0; w < 9.0; w+=1.0) {
vec2 matrixPos = vec2(uStepW * (w - 4.0), uStepH * (h - 4.0));
color += texture2D(uTexture, vTexCoord + matrixPos) * uMatrix[int(h * 9.0 + w)];
}
}
gl_FragColor = color;
}`,Convolute_9_0:`precision highp float;
uniform sampler2D uTexture;
uniform float uMatrix[81];
uniform float uStepW;
uniform float uStepH;
varying vec2 vTexCoord;
void main() {
vec4 color = vec4(0, 0, 0, 1);
for (float h = 0.0; h < 9.0; h+=1.0) {
for (float w = 0.0; w < 9.0; w+=1.0) {
vec2 matrixPos = vec2(uStepW * (w - 4.0), uStepH * (h - 4.0));
color.rgb += texture2D(uTexture, vTexCoord + matrixPos).rgb * uMatrix[int(h * 9.0 + w)];
}
}
float alpha = texture2D(uTexture, vTexCoord).a;
gl_FragColor = color;
gl_FragColor.a = alpha;
}`},retrieveShader:function(a){var s=Math.sqrt(this.matrix.length),l=this.type+"_"+s+"_"+(this.opaque?1:0),d=this.fragmentSource[l];return a.programCache.hasOwnProperty(l)||(a.programCache[l]=this.createProgram(a.context,d)),a.programCache[l]},applyTo2d:function(a){var s=a.imageData,l=s.data,d=this.matrix,c=Math.round(Math.sqrt(d.length)),g=Math.floor(c/2),v=s.width,y=s.height,_=a.ctx.createImageData(v,y),w=_.data,C=this.opaque?1:0,x,O,M,F,V,$,ne,ee,re,se,ue,H,T;for(ue=0;ue<y;ue++)for(se=0;se<v;se++){for(V=(ue*v+se)*4,x=0,O=0,M=0,F=0,T=0;T<c;T++)for(H=0;H<c;H++)ne=ue+T-g,$=se+H-g,!(ne<0||ne>=y||$<0||$>=v)&&(ee=(ne*v+$)*4,re=d[T*c+H],x+=l[ee]*re,O+=l[ee+1]*re,M+=l[ee+2]*re,C||(F+=l[ee+3]*re));w[V]=x,w[V+1]=O,w[V+2]=M,C?w[V+3]=l[V+3]:w[V+3]=F}a.imageData=_},getUniformLocations:function(a,s){return{uMatrix:a.getUniformLocation(s,"uMatrix"),uOpaque:a.getUniformLocation(s,"uOpaque"),uHalfSize:a.getUniformLocation(s,"uHalfSize"),uSize:a.getUniformLocation(s,"uSize")}},sendUniformData:function(a,s){a.uniform1fv(s.uMatrix,this.matrix)},toObject:function(){return u(this.callSuper("toObject"),{opaque:this.opaque,matrix:this.matrix})}}),i.Image.filters.Convolute.fromObject=i.Image.filters.BaseFilter.fromObject}(e),function(h){var i=h.fabric||(h.fabric={}),u=i.Image.filters,f=i.util.createClass;u.Grayscale=f(u.BaseFilter,{type:"Grayscale",fragmentSource:{average:`precision highp float;
uniform sampler2D uTexture;
varying vec2 vTexCoord;
void main() {
vec4 color = texture2D(uTexture, vTexCoord);
float average = (color.r + color.b + color.g) / 3.0;
gl_FragColor = vec4(average, average, average, color.a);
}`,lightness:`precision highp float;
uniform sampler2D uTexture;
uniform int uMode;
varying vec2 vTexCoord;
void main() {
vec4 col = texture2D(uTexture, vTexCoord);
float average = (max(max(col.r, col.g),col.b) + min(min(col.r, col.g),col.b)) / 2.0;
gl_FragColor = vec4(average, average, average, col.a);
}`,luminosity:`precision highp float;
uniform sampler2D uTexture;
uniform int uMode;
varying vec2 vTexCoord;
void main() {
vec4 col = texture2D(uTexture, vTexCoord);
float average = 0.21 * col.r + 0.72 * col.g + 0.07 * col.b;
gl_FragColor = vec4(average, average, average, col.a);
}`},mode:"average",mainParameter:"mode",applyTo2d:function(o){var a=o.imageData,s=a.data,l,d=s.length,c,g=this.mode;for(l=0;l<d;l+=4)g==="average"?c=(s[l]+s[l+1]+s[l+2])/3:g==="lightness"?c=(Math.min(s[l],s[l+1],s[l+2])+Math.max(s[l],s[l+1],s[l+2]))/2:g==="luminosity"&&(c=.21*s[l]+.72*s[l+1]+.07*s[l+2]),s[l]=c,s[l+1]=c,s[l+2]=c},retrieveShader:function(o){var a=this.type+"_"+this.mode;if(!o.programCache.hasOwnProperty(a)){var s=this.fragmentSource[this.mode];o.programCache[a]=this.createProgram(o.context,s)}return o.programCache[a]},getUniformLocations:function(o,a){return{uMode:o.getUniformLocation(a,"uMode")}},sendUniformData:function(o,a){var s=1;o.uniform1i(a.uMode,s)},isNeutralState:function(){return!1}}),i.Image.filters.Grayscale.fromObject=i.Image.filters.BaseFilter.fromObject}(e),function(h){var i=h.fabric||(h.fabric={}),u=i.Image.filters,f=i.util.createClass;u.Invert=f(u.BaseFilter,{type:"Invert",fragmentSource:`precision highp float;
uniform sampler2D uTexture;
uniform int uInvert;
varying vec2 vTexCoord;
void main() {
vec4 color = texture2D(uTexture, vTexCoord);
if (uInvert == 1) {
gl_FragColor = vec4(1.0 - color.r,1.0 -color.g,1.0 -color.b,color.a);
} else {
gl_FragColor = color;
}
}`,invert:!0,mainParameter:"invert",applyTo2d:function(o){var a=o.imageData,s=a.data,l,d=s.length;for(l=0;l<d;l+=4)s[l]=255-s[l],s[l+1]=255-s[l+1],s[l+2]=255-s[l+2]},isNeutralState:function(){return!this.invert},getUniformLocations:function(o,a){return{uInvert:o.getUniformLocation(a,"uInvert")}},sendUniformData:function(o,a){o.uniform1i(a.uInvert,this.invert)}}),i.Image.filters.Invert.fromObject=i.Image.filters.BaseFilter.fromObject}(e),function(h){var i=h.fabric||(h.fabric={}),u=i.util.object.extend,f=i.Image.filters,o=i.util.createClass;f.Noise=o(f.BaseFilter,{type:"Noise",fragmentSource:`precision highp float;
uniform sampler2D uTexture;
uniform float uStepH;
uniform float uNoise;
uniform float uSeed;
varying vec2 vTexCoord;
float rand(vec2 co, float seed, float vScale) {
return fract(sin(dot(co.xy * vScale ,vec2(12.9898 , 78.233))) * 43758.5453 * (seed + 0.01) / 2.0);
}
void main() {
vec4 color = texture2D(uTexture, vTexCoord);
color.rgb += (0.5 - rand(vTexCoord, uSeed, 0.1 / uStepH)) * uNoise;
gl_FragColor = color;
}`,mainParameter:"noise",noise:0,applyTo2d:function(a){if(this.noise!==0){var s=a.imageData,l=s.data,d,c=l.length,g=this.noise,v;for(d=0,c=l.length;d<c;d+=4)v=(.5-Math.random())*g,l[d]+=v,l[d+1]+=v,l[d+2]+=v}},getUniformLocations:function(a,s){return{uNoise:a.getUniformLocation(s,"uNoise"),uSeed:a.getUniformLocation(s,"uSeed")}},sendUniformData:function(a,s){a.uniform1f(s.uNoise,this.noise/255),a.uniform1f(s.uSeed,Math.random())},toObject:function(){return u(this.callSuper("toObject"),{noise:this.noise})}}),i.Image.filters.Noise.fromObject=i.Image.filters.BaseFilter.fromObject}(e),function(h){var i=h.fabric||(h.fabric={}),u=i.Image.filters,f=i.util.createClass;u.Pixelate=f(u.BaseFilter,{type:"Pixelate",blocksize:4,mainParameter:"blocksize",fragmentSource:`precision highp float;
uniform sampler2D uTexture;
uniform float uBlocksize;
uniform float uStepW;
uniform float uStepH;
varying vec2 vTexCoord;
void main() {
float blockW = uBlocksize * uStepW;
float blockH = uBlocksize * uStepW;
int posX = int(vTexCoord.x / blockW);
int posY = int(vTexCoord.y / blockH);
float fposX = float(posX);
float fposY = float(posY);
vec2 squareCoords = vec2(fposX * blockW, fposY * blockH);
vec4 color = texture2D(uTexture, squareCoords);
gl_FragColor = color;
}`,applyTo2d:function(o){var a=o.imageData,s=a.data,l=a.height,d=a.width,c,g,v,y,_,w,C,x,O,M,F;for(g=0;g<l;g+=this.blocksize)for(v=0;v<d;v+=this.blocksize)for(c=g*4*d+v*4,y=s[c],_=s[c+1],w=s[c+2],C=s[c+3],M=Math.min(g+this.blocksize,l),F=Math.min(v+this.blocksize,d),x=g;x<M;x++)for(O=v;O<F;O++)c=x*4*d+O*4,s[c]=y,s[c+1]=_,s[c+2]=w,s[c+3]=C},isNeutralState:function(){return this.blocksize===1},getUniformLocations:function(o,a){return{uBlocksize:o.getUniformLocation(a,"uBlocksize"),uStepW:o.getUniformLocation(a,"uStepW"),uStepH:o.getUniformLocation(a,"uStepH")}},sendUniformData:function(o,a){o.uniform1f(a.uBlocksize,this.blocksize)}}),i.Image.filters.Pixelate.fromObject=i.Image.filters.BaseFilter.fromObject}(e),function(h){var i=h.fabric||(h.fabric={}),u=i.util.object.extend,f=i.Image.filters,o=i.util.createClass;f.RemoveColor=o(f.BaseFilter,{type:"RemoveColor",color:"#FFFFFF",fragmentSource:`precision highp float;
uniform sampler2D uTexture;
uniform vec4 uLow;
uniform vec4 uHigh;
varying vec2 vTexCoord;
void main() {
gl_FragColor = texture2D(uTexture, vTexCoord);
if(all(greaterThan(gl_FragColor.rgb,uLow.rgb)) && all(greaterThan(uHigh.rgb,gl_FragColor.rgb))) {
gl_FragColor.a = 0.0;
}
}`,distance:.02,useAlpha:!1,applyTo2d:function(a){var s=a.imageData,l=s.data,d,c=this.distance*255,g,v,y,_=new i.Color(this.color).getSource(),w=[_[0]-c,_[1]-c,_[2]-c],C=[_[0]+c,_[1]+c,_[2]+c];for(d=0;d<l.length;d+=4)g=l[d],v=l[d+1],y=l[d+2],g>w[0]&&v>w[1]&&y>w[2]&&g<C[0]&&v<C[1]&&y<C[2]&&(l[d+3]=0)},getUniformLocations:function(a,s){return{uLow:a.getUniformLocation(s,"uLow"),uHigh:a.getUniformLocation(s,"uHigh")}},sendUniformData:function(a,s){var l=new i.Color(this.color).getSource(),d=parseFloat(this.distance),c=[0+l[0]/255-d,0+l[1]/255-d,0+l[2]/255-d,1],g=[l[0]/255+d,l[1]/255+d,l[2]/255+d,1];a.uniform4fv(s.uLow,c),a.uniform4fv(s.uHigh,g)},toObject:function(){return u(this.callSuper("toObject"),{color:this.color,distance:this.distance})}}),i.Image.filters.RemoveColor.fromObject=i.Image.filters.BaseFilter.fromObject}(e),function(h){var i=h.fabric||(h.fabric={}),u=i.Image.filters,f=i.util.createClass,o={Brownie:[.5997,.34553,-.27082,0,.186,-.0377,.86095,.15059,0,-.1449,.24113,-.07441,.44972,0,-.02965,0,0,0,1,0],Vintage:[.62793,.32021,-.03965,0,.03784,.02578,.64411,.03259,0,.02926,.0466,-.08512,.52416,0,.02023,0,0,0,1,0],Kodachrome:[1.12855,-.39673,-.03992,0,.24991,-.16404,1.08352,-.05498,0,.09698,-.16786,-.56034,1.60148,0,.13972,0,0,0,1,0],Technicolor:[1.91252,-.85453,-.09155,0,.04624,-.30878,1.76589,-.10601,0,-.27589,-.2311,-.75018,1.84759,0,.12137,0,0,0,1,0],Polaroid:[1.438,-.062,-.062,0,0,-.122,1.378,-.122,0,0,-.016,-.016,1.483,0,0,0,0,0,1,0],Sepia:[.393,.769,.189,0,0,.349,.686,.168,0,0,.272,.534,.131,0,0,0,0,0,1,0],BlackWhite:[1.5,1.5,1.5,0,-1,1.5,1.5,1.5,0,-1,1.5,1.5,1.5,0,-1,0,0,0,1,0]};for(var a in o)u[a]=f(u.ColorMatrix,{type:a,matrix:o[a],mainParameter:!1,colorsOnly:!0}),i.Image.filters[a].fromObject=i.Image.filters.BaseFilter.fromObject}(e),function(h){var i=h.fabric,u=i.Image.filters,f=i.util.createClass;u.BlendColor=f(u.BaseFilter,{type:"BlendColor",color:"#F95C63",mode:"multiply",alpha:1,fragmentSource:{multiply:`gl_FragColor.rgb *= uColor.rgb;
`,screen:`gl_FragColor.rgb = 1.0 - (1.0 - gl_FragColor.rgb) * (1.0 - uColor.rgb);
`,add:`gl_FragColor.rgb += uColor.rgb;
`,diff:`gl_FragColor.rgb = abs(gl_FragColor.rgb - uColor.rgb);
`,subtract:`gl_FragColor.rgb -= uColor.rgb;
`,lighten:`gl_FragColor.rgb = max(gl_FragColor.rgb, uColor.rgb);
`,darken:`gl_FragColor.rgb = min(gl_FragColor.rgb, uColor.rgb);
`,exclusion:`gl_FragColor.rgb += uColor.rgb - 2.0 * (uColor.rgb * gl_FragColor.rgb);
`,overlay:`if (uColor.r < 0.5) {
gl_FragColor.r *= 2.0 * uColor.r;
} else {
gl_FragColor.r = 1.0 - 2.0 * (1.0 - gl_FragColor.r) * (1.0 - uColor.r);
}
if (uColor.g < 0.5) {
gl_FragColor.g *= 2.0 * uColor.g;
} else {
gl_FragColor.g = 1.0 - 2.0 * (1.0 - gl_FragColor.g) * (1.0 - uColor.g);
}
if (uColor.b < 0.5) {
gl_FragColor.b *= 2.0 * uColor.b;
} else {
gl_FragColor.b = 1.0 - 2.0 * (1.0 - gl_FragColor.b) * (1.0 - uColor.b);
}
`,tint:`gl_FragColor.rgb *= (1.0 - uColor.a);
gl_FragColor.rgb += uColor.rgb;
`},buildSource:function(o){return`precision highp float;
uniform sampler2D uTexture;
uniform vec4 uColor;
varying vec2 vTexCoord;
void main() {
vec4 color = texture2D(uTexture, vTexCoord);
gl_FragColor = color;
if (color.a > 0.0) {
`+this.fragmentSource[o]+`}
}`},retrieveShader:function(o){var a=this.type+"_"+this.mode,s;return o.programCache.hasOwnProperty(a)||(s=this.buildSource(this.mode),o.programCache[a]=this.createProgram(o.context,s)),o.programCache[a]},applyTo2d:function(o){var a=o.imageData,s=a.data,l=s.length,d,c,g,v,y,_,w,C=1-this.alpha;w=new i.Color(this.color).getSource(),d=w[0]*this.alpha,c=w[1]*this.alpha,g=w[2]*this.alpha;for(var x=0;x<l;x+=4)switch(v=s[x],y=s[x+1],_=s[x+2],this.mode){case"multiply":s[x]=v*d/255,s[x+1]=y*c/255,s[x+2]=_*g/255;break;case"screen":s[x]=255-(255-v)*(255-d)/255,s[x+1]=255-(255-y)*(255-c)/255,s[x+2]=255-(255-_)*(255-g)/255;break;case"add":s[x]=v+d,s[x+1]=y+c,s[x+2]=_+g;break;case"diff":case"difference":s[x]=Math.abs(v-d),s[x+1]=Math.abs(y-c),s[x+2]=Math.abs(_-g);break;case"subtract":s[x]=v-d,s[x+1]=y-c,s[x+2]=_-g;break;case"darken":s[x]=Math.min(v,d),s[x+1]=Math.min(y,c),s[x+2]=Math.min(_,g);break;case"lighten":s[x]=Math.max(v,d),s[x+1]=Math.max(y,c),s[x+2]=Math.max(_,g);break;case"overlay":s[x]=d<128?2*v*d/255:255-2*(255-v)*(255-d)/255,s[x+1]=c<128?2*y*c/255:255-2*(255-y)*(255-c)/255,s[x+2]=g<128?2*_*g/255:255-2*(255-_)*(255-g)/255;break;case"exclusion":s[x]=d+v-2*d*v/255,s[x+1]=c+y-2*c*y/255,s[x+2]=g+_-2*g*_/255;break;case"tint":s[x]=d+v*C,s[x+1]=c+y*C,s[x+2]=g+_*C}},getUniformLocations:function(o,a){return{uColor:o.getUniformLocation(a,"uColor")}},sendUniformData:function(o,a){var s=new i.Color(this.color).getSource();s[0]=this.alpha*s[0]/255,s[1]=this.alpha*s[1]/255,s[2]=this.alpha*s[2]/255,s[3]=this.alpha,o.uniform4fv(a.uColor,s)},toObject:function(){return{type:this.type,color:this.color,mode:this.mode,alpha:this.alpha}}}),i.Image.filters.BlendColor.fromObject=i.Image.filters.BaseFilter.fromObject}(e),function(h){var i=h.fabric,u=i.Image.filters,f=i.util.createClass;u.BlendImage=f(u.BaseFilter,{type:"BlendImage",image:null,mode:"multiply",alpha:1,vertexSource:`attribute vec2 aPosition;
varying vec2 vTexCoord;
varying vec2 vTexCoord2;
uniform mat3 uTransformMatrix;
void main() {
vTexCoord = aPosition;
vTexCoord2 = (uTransformMatrix * vec3(aPosition, 1.0)).xy;
gl_Position = vec4(aPosition * 2.0 - 1.0, 0.0, 1.0);
}`,fragmentSource:{multiply:`precision highp float;
uniform sampler2D uTexture;
uniform sampler2D uImage;
uniform vec4 uColor;
varying vec2 vTexCoord;
varying vec2 vTexCoord2;
void main() {
vec4 color = texture2D(uTexture, vTexCoord);
vec4 color2 = texture2D(uImage, vTexCoord2);
color.rgba *= color2.rgba;
gl_FragColor = color;
}`,mask:`precision highp float;
uniform sampler2D uTexture;
uniform sampler2D uImage;
uniform vec4 uColor;
varying vec2 vTexCoord;
varying vec2 vTexCoord2;
void main() {
vec4 color = texture2D(uTexture, vTexCoord);
vec4 color2 = texture2D(uImage, vTexCoord2);
color.a = color2.a;
gl_FragColor = color;
}`},retrieveShader:function(o){var a=this.type+"_"+this.mode,s=this.fragmentSource[this.mode];return o.programCache.hasOwnProperty(a)||(o.programCache[a]=this.createProgram(o.context,s)),o.programCache[a]},applyToWebGL:function(o){var a=o.context,s=this.createTexture(o.filterBackend,this.image);this.bindAdditionalTexture(a,s,a.TEXTURE1),this.callSuper("applyToWebGL",o),this.unbindAdditionalTexture(a,a.TEXTURE1)},createTexture:function(o,a){return o.getCachedTexture(a.cacheKey,a._element)},calculateMatrix:function(){var o=this.image,a=o._element.width,s=o._element.height;return[1/o.scaleX,0,0,0,1/o.scaleY,0,-o.left/a,-o.top/s,1]},applyTo2d:function(o){var a=o.imageData,s=o.filterBackend.resources,l=a.data,d=l.length,c=a.width,g=a.height,v,y,_,w,C,x,O,M,F,V,$=this.image,ne;s.blendImage||(s.blendImage=i.util.createCanvasElement()),F=s.blendImage,V=F.getContext("2d"),F.width!==c||F.height!==g?(F.width=c,F.height=g):V.clearRect(0,0,c,g),V.setTransform($.scaleX,0,0,$.scaleY,$.left,$.top),V.drawImage($._element,0,0,c,g),ne=V.getImageData(0,0,c,g).data;for(var ee=0;ee<d;ee+=4)switch(C=l[ee],x=l[ee+1],O=l[ee+2],M=l[ee+3],v=ne[ee],y=ne[ee+1],_=ne[ee+2],w=ne[ee+3],this.mode){case"multiply":l[ee]=C*v/255,l[ee+1]=x*y/255,l[ee+2]=O*_/255,l[ee+3]=M*w/255;break;case"mask":l[ee+3]=w;break}},getUniformLocations:function(o,a){return{uTransformMatrix:o.getUniformLocation(a,"uTransformMatrix"),uImage:o.getUniformLocation(a,"uImage")}},sendUniformData:function(o,a){var s=this.calculateMatrix();o.uniform1i(a.uImage,1),o.uniformMatrix3fv(a.uTransformMatrix,!1,s)},toObject:function(){return{type:this.type,image:this.image&&this.image.toObject(),mode:this.mode,alpha:this.alpha}}}),i.Image.filters.BlendImage.fromObject=function(o,a){i.Image.fromObject(o.image,function(s){var l=i.util.object.clone(o);l.image=s,a(new i.Image.filters.BlendImage(l))})}}(e),function(h){var i=h.fabric||(h.fabric={}),u=Math.pow,f=Math.floor,o=Math.sqrt,a=Math.abs,s=Math.round,l=Math.sin,d=Math.ceil,c=i.Image.filters,g=i.util.createClass;c.Resize=g(c.BaseFilter,{type:"Resize",resizeType:"hermite",scaleX:1,scaleY:1,lanczosLobes:3,getUniformLocations:function(v,y){return{uDelta:v.getUniformLocation(y,"uDelta"),uTaps:v.getUniformLocation(y,"uTaps")}},sendUniformData:function(v,y){v.uniform2fv(y.uDelta,this.horizontal?[1/this.width,0]:[0,1/this.height]),v.uniform1fv(y.uTaps,this.taps)},retrieveShader:function(v){var y=this.getFilterWindow(),_=this.type+"_"+y;if(!v.programCache.hasOwnProperty(_)){var w=this.generateShader(y);v.programCache[_]=this.createProgram(v.context,w)}return v.programCache[_]},getFilterWindow:function(){var v=this.tempScale;return Math.ceil(this.lanczosLobes/v)},getTaps:function(){for(var v=this.lanczosCreate(this.lanczosLobes),y=this.tempScale,_=this.getFilterWindow(),w=new Array(_),C=1;C<=_;C++)w[C-1]=v(C*y);return w},generateShader:function(w){for(var y=new Array(w),_=this.fragmentSourceTOP,w,C=1;C<=w;C++)y[C-1]=C+".0 * uDelta";return _+="uniform float uTaps["+w+`];
`,_+=`void main() {
`,_+=`  vec4 color = texture2D(uTexture, vTexCoord);
`,_+=`  float sum = 1.0;
`,y.forEach(function(x,O){_+="  color += texture2D(uTexture, vTexCoord + "+x+") * uTaps["+O+`];
`,_+="  color += texture2D(uTexture, vTexCoord - "+x+") * uTaps["+O+`];
`,_+="  sum += 2.0 * uTaps["+O+`];
`}),_+=`  gl_FragColor = color / sum;
`,_+="}",_},fragmentSourceTOP:`precision highp float;
uniform sampler2D uTexture;
uniform vec2 uDelta;
varying vec2 vTexCoord;
`,applyTo:function(v){v.webgl?(v.passes++,this.width=v.sourceWidth,this.horizontal=!0,this.dW=Math.round(this.width*this.scaleX),this.dH=v.sourceHeight,this.tempScale=this.dW/this.width,this.taps=this.getTaps(),v.destinationWidth=this.dW,this._setupFrameBuffer(v),this.applyToWebGL(v),this._swapTextures(v),v.sourceWidth=v.destinationWidth,this.height=v.sourceHeight,this.horizontal=!1,this.dH=Math.round(this.height*this.scaleY),this.tempScale=this.dH/this.height,this.taps=this.getTaps(),v.destinationHeight=this.dH,this._setupFrameBuffer(v),this.applyToWebGL(v),this._swapTextures(v),v.sourceHeight=v.destinationHeight):this.applyTo2d(v)},isNeutralState:function(){return this.scaleX===1&&this.scaleY===1},lanczosCreate:function(v){return function(y){if(y>=v||y<=-v)return 0;if(y<11920929e-14&&y>-11920929e-14)return 1;y*=Math.PI;var _=y/v;return l(y)/y*l(_)/_}},applyTo2d:function(v){var y=v.imageData,_=this.scaleX,w=this.scaleY;this.rcpScaleX=1/_,this.rcpScaleY=1/w;var C=y.width,x=y.height,O=s(C*_),M=s(x*w),F;this.resizeType==="sliceHack"?F=this.sliceByTwo(v,C,x,O,M):this.resizeType==="hermite"?F=this.hermiteFastResize(v,C,x,O,M):this.resizeType==="bilinear"?F=this.bilinearFiltering(v,C,x,O,M):this.resizeType==="lanczos"&&(F=this.lanczosResize(v,C,x,O,M)),v.imageData=F},sliceByTwo:function(v,y,_,w,C){var x=v.imageData,O=.5,M=!1,F=!1,V=y*O,$=_*O,ne=i.filterBackend.resources,ee,re,se=0,ue=0,H=y,T=0;for(ne.sliceByTwo||(ne.sliceByTwo=document.createElement("canvas")),ee=ne.sliceByTwo,(ee.width<y*1.5||ee.height<_)&&(ee.width=y*1.5,ee.height=_),re=ee.getContext("2d"),re.clearRect(0,0,y*1.5,_),re.putImageData(x,0,0),w=f(w),C=f(C);!M||!F;)y=V,_=$,w<f(V*O)?V=f(V*O):(V=w,M=!0),C<f($*O)?$=f($*O):($=C,F=!0),re.drawImage(ee,se,ue,y,_,H,T,V,$),se=H,ue=T,T+=$;return re.getImageData(se,ue,w,C)},lanczosResize:function(v,y,_,w,C){function x(A){var D,B,k,b,R,I,W,N,K,Z,ie;for(T.x=(A+.5)*$,P.x=f(T.x),D=0;D<C;D++){for(T.y=(D+.5)*ne,P.y=f(T.y),R=0,I=0,W=0,N=0,K=0,B=P.x-se;B<=P.x+se;B++)if(!(B<0||B>=y)){Z=f(1e3*a(B-T.x)),H[Z]||(H[Z]={});for(var z=P.y-ue;z<=P.y+ue;z++)z<0||z>=_||(ie=f(1e3*a(z-T.y)),H[Z][ie]||(H[Z][ie]=V(o(u(Z*ee,2)+u(ie*re,2))/1e3)),k=H[Z][ie],k>0&&(b=(z*y+B)*4,R+=k,I+=k*O[b],W+=k*O[b+1],N+=k*O[b+2],K+=k*O[b+3]))}b=(D*w+A)*4,F[b]=I/R,F[b+1]=W/R,F[b+2]=N/R,F[b+3]=K/R}return++A<w?x(A):M}var O=v.imageData.data,M=v.ctx.createImageData(w,C),F=M.data,V=this.lanczosCreate(this.lanczosLobes),$=this.rcpScaleX,ne=this.rcpScaleY,ee=2/this.rcpScaleX,re=2/this.rcpScaleY,se=d($*this.lanczosLobes/2),ue=d(ne*this.lanczosLobes/2),H={},T={},P={};return x(0)},bilinearFiltering:function(v,y,_,w,C){var x,O,M,F,V,$,ne,ee,re,se,ue,H,T=0,P,A=this.rcpScaleX,D=this.rcpScaleY,B=4*(y-1),k=v.imageData,b=k.data,R=v.ctx.createImageData(w,C),I=R.data;for(ne=0;ne<C;ne++)for(ee=0;ee<w;ee++)for(V=f(A*ee),$=f(D*ne),re=A*ee-V,se=D*ne-$,P=4*($*y+V),ue=0;ue<4;ue++)x=b[P+ue],O=b[P+4+ue],M=b[P+B+ue],F=b[P+B+4+ue],H=x*(1-re)*(1-se)+O*re*(1-se)+M*se*(1-re)+F*re*se,I[T++]=H;return R},hermiteFastResize:function(v,y,_,w,C){for(var x=this.rcpScaleX,O=this.rcpScaleY,M=d(x/2),F=d(O/2),V=v.imageData,$=V.data,ne=v.ctx.createImageData(w,C),ee=ne.data,re=0;re<C;re++)for(var se=0;se<w;se++){for(var ue=(se+re*w)*4,H=0,T=0,P=0,A=0,D=0,B=0,k=0,b=(re+.5)*O,R=f(re*O);R<(re+1)*O;R++)for(var I=a(b-(R+.5))/F,W=(se+.5)*x,N=I*I,K=f(se*x);K<(se+1)*x;K++){var Z=a(W-(K+.5))/M,ie=o(N+Z*Z);ie>1&&ie<-1||(H=2*ie*ie*ie-3*ie*ie+1,H>0&&(Z=4*(K+R*y),k+=H*$[Z+3],P+=H,$[Z+3]<255&&(H=H*$[Z+3]/250),A+=H*$[Z],D+=H*$[Z+1],B+=H*$[Z+2],T+=H))}ee[ue]=A/T,ee[ue+1]=D/T,ee[ue+2]=B/T,ee[ue+3]=k/P}return ne},toObject:function(){return{type:this.type,scaleX:this.scaleX,scaleY:this.scaleY,resizeType:this.resizeType,lanczosLobes:this.lanczosLobes}}}),i.Image.filters.Resize.fromObject=i.Image.filters.BaseFilter.fromObject}(e),function(h){var i=h.fabric||(h.fabric={}),u=i.Image.filters,f=i.util.createClass;u.Contrast=f(u.BaseFilter,{type:"Contrast",fragmentSource:`precision highp float;
uniform sampler2D uTexture;
uniform float uContrast;
varying vec2 vTexCoord;
void main() {
vec4 color = texture2D(uTexture, vTexCoord);
float contrastF = 1.015 * (uContrast + 1.0) / (1.0 * (1.015 - uContrast));
color.rgb = contrastF * (color.rgb - 0.5) + 0.5;
gl_FragColor = color;
}`,contrast:0,mainParameter:"contrast",applyTo2d:function(o){if(this.contrast!==0){var a=o.imageData,s,d,l=a.data,d=l.length,c=Math.floor(this.contrast*255),g=259*(c+255)/(255*(259-c));for(s=0;s<d;s+=4)l[s]=g*(l[s]-128)+128,l[s+1]=g*(l[s+1]-128)+128,l[s+2]=g*(l[s+2]-128)+128}},getUniformLocations:function(o,a){return{uContrast:o.getUniformLocation(a,"uContrast")}},sendUniformData:function(o,a){o.uniform1f(a.uContrast,this.contrast)}}),i.Image.filters.Contrast.fromObject=i.Image.filters.BaseFilter.fromObject}(e),function(h){var i=h.fabric||(h.fabric={}),u=i.Image.filters,f=i.util.createClass;u.Saturation=f(u.BaseFilter,{type:"Saturation",fragmentSource:`precision highp float;
uniform sampler2D uTexture;
uniform float uSaturation;
varying vec2 vTexCoord;
void main() {
vec4 color = texture2D(uTexture, vTexCoord);
float rgMax = max(color.r, color.g);
float rgbMax = max(rgMax, color.b);
color.r += rgbMax != color.r ? (rgbMax - color.r) * uSaturation : 0.00;
color.g += rgbMax != color.g ? (rgbMax - color.g) * uSaturation : 0.00;
color.b += rgbMax != color.b ? (rgbMax - color.b) * uSaturation : 0.00;
gl_FragColor = color;
}`,saturation:0,mainParameter:"saturation",applyTo2d:function(o){if(this.saturation!==0){var a=o.imageData,s=a.data,l=s.length,d=-this.saturation,c,g;for(c=0;c<l;c+=4)g=Math.max(s[c],s[c+1],s[c+2]),s[c]+=g!==s[c]?(g-s[c])*d:0,s[c+1]+=g!==s[c+1]?(g-s[c+1])*d:0,s[c+2]+=g!==s[c+2]?(g-s[c+2])*d:0}},getUniformLocations:function(o,a){return{uSaturation:o.getUniformLocation(a,"uSaturation")}},sendUniformData:function(o,a){o.uniform1f(a.uSaturation,-this.saturation)}}),i.Image.filters.Saturation.fromObject=i.Image.filters.BaseFilter.fromObject}(e),function(h){var i=h.fabric||(h.fabric={}),u=i.Image.filters,f=i.util.createClass;u.Vibrance=f(u.BaseFilter,{type:"Vibrance",fragmentSource:`precision highp float;
uniform sampler2D uTexture;
uniform float uVibrance;
varying vec2 vTexCoord;
void main() {
vec4 color = texture2D(uTexture, vTexCoord);
float max = max(color.r, max(color.g, color.b));
float avg = (color.r + color.g + color.b) / 3.0;
float amt = (abs(max - avg) * 2.0) * uVibrance;
color.r += max != color.r ? (max - color.r) * amt : 0.00;
color.g += max != color.g ? (max - color.g) * amt : 0.00;
color.b += max != color.b ? (max - color.b) * amt : 0.00;
gl_FragColor = color;
}`,vibrance:0,mainParameter:"vibrance",applyTo2d:function(o){if(this.vibrance!==0){var a=o.imageData,s=a.data,l=s.length,d=-this.vibrance,c,g,v,y;for(c=0;c<l;c+=4)g=Math.max(s[c],s[c+1],s[c+2]),v=(s[c]+s[c+1]+s[c+2])/3,y=Math.abs(g-v)*2/255*d,s[c]+=g!==s[c]?(g-s[c])*y:0,s[c+1]+=g!==s[c+1]?(g-s[c+1])*y:0,s[c+2]+=g!==s[c+2]?(g-s[c+2])*y:0}},getUniformLocations:function(o,a){return{uVibrance:o.getUniformLocation(a,"uVibrance")}},sendUniformData:function(o,a){o.uniform1f(a.uVibrance,-this.vibrance)}}),i.Image.filters.Vibrance.fromObject=i.Image.filters.BaseFilter.fromObject}(e),function(h){var i=h.fabric||(h.fabric={}),u=i.Image.filters,f=i.util.createClass;u.Blur=f(u.BaseFilter,{type:"Blur",fragmentSource:`precision highp float;
uniform sampler2D uTexture;
uniform vec2 uDelta;
varying vec2 vTexCoord;
const float nSamples = 15.0;
vec3 v3offset = vec3(12.9898, 78.233, 151.7182);
float random(vec3 scale) {
return fract(sin(dot(gl_FragCoord.xyz, scale)) * 43758.5453);
}
void main() {
vec4 color = vec4(0.0);
float total = 0.0;
float offset = random(v3offset);
for (float t = -nSamples; t <= nSamples; t++) {
float percent = (t + offset - 0.5) / nSamples;
float weight = 1.0 - abs(percent);
color += texture2D(uTexture, vTexCoord + uDelta * percent) * weight;
total += weight;
}
gl_FragColor = color / total;
}`,blur:0,mainParameter:"blur",applyTo:function(o){o.webgl?(this.aspectRatio=o.sourceWidth/o.sourceHeight,o.passes++,this._setupFrameBuffer(o),this.horizontal=!0,this.applyToWebGL(o),this._swapTextures(o),this._setupFrameBuffer(o),this.horizontal=!1,this.applyToWebGL(o),this._swapTextures(o)):this.applyTo2d(o)},applyTo2d:function(o){o.imageData=this.simpleBlur(o)},simpleBlur:function(o){var a=o.filterBackend.resources,s,l,d=o.imageData.width,c=o.imageData.height;a.blurLayer1||(a.blurLayer1=i.util.createCanvasElement(),a.blurLayer2=i.util.createCanvasElement()),s=a.blurLayer1,l=a.blurLayer2,(s.width!==d||s.height!==c)&&(l.width=s.width=d,l.height=s.height=c);var g=s.getContext("2d"),v=l.getContext("2d"),y=15,_,w,C,x,O=this.blur*.06*.5;for(g.putImageData(o.imageData,0,0),v.clearRect(0,0,d,c),x=-y;x<=y;x++)_=(Math.random()-.5)/4,w=x/y,C=O*w*d+_,v.globalAlpha=1-Math.abs(w),v.drawImage(s,C,_),g.drawImage(l,0,0),v.globalAlpha=1,v.clearRect(0,0,l.width,l.height);for(x=-y;x<=y;x++)_=(Math.random()-.5)/4,w=x/y,C=O*w*c+_,v.globalAlpha=1-Math.abs(w),v.drawImage(s,_,C),g.drawImage(l,0,0),v.globalAlpha=1,v.clearRect(0,0,l.width,l.height);o.ctx.drawImage(s,0,0);var M=o.ctx.getImageData(0,0,s.width,s.height);return g.globalAlpha=1,g.clearRect(0,0,s.width,s.height),M},getUniformLocations:function(o,a){return{delta:o.getUniformLocation(a,"uDelta")}},sendUniformData:function(o,a){var s=this.chooseRightDelta();o.uniform2fv(a.delta,s)},chooseRightDelta:function(){var o=1,a=[0,0],s;return this.horizontal?this.aspectRatio>1&&(o=1/this.aspectRatio):this.aspectRatio<1&&(o=this.aspectRatio),s=o*this.blur*.12,this.horizontal?a[0]=s:a[1]=s,a}}),u.Blur.fromObject=i.Image.filters.BaseFilter.fromObject}(e),function(h){var i=h.fabric||(h.fabric={}),u=i.Image.filters,f=i.util.createClass;u.Gamma=f(u.BaseFilter,{type:"Gamma",fragmentSource:`precision highp float;
uniform sampler2D uTexture;
uniform vec3 uGamma;
varying vec2 vTexCoord;
void main() {
vec4 color = texture2D(uTexture, vTexCoord);
vec3 correction = (1.0 / uGamma);
color.r = pow(color.r, correction.r);
color.g = pow(color.g, correction.g);
color.b = pow(color.b, correction.b);
gl_FragColor = color;
gl_FragColor.rgb *= color.a;
}`,gamma:[1,1,1],mainParameter:"gamma",initialize:function(o){this.gamma=[1,1,1],u.BaseFilter.prototype.initialize.call(this,o)},applyTo2d:function(o){var a=o.imageData,s=a.data,l=this.gamma,d=s.length,c=1/l[0],g=1/l[1],v=1/l[2],y;for(this.rVals||(this.rVals=new Uint8Array(256),this.gVals=new Uint8Array(256),this.bVals=new Uint8Array(256)),y=0,d=256;y<d;y++)this.rVals[y]=Math.pow(y/255,c)*255,this.gVals[y]=Math.pow(y/255,g)*255,this.bVals[y]=Math.pow(y/255,v)*255;for(y=0,d=s.length;y<d;y+=4)s[y]=this.rVals[s[y]],s[y+1]=this.gVals[s[y+1]],s[y+2]=this.bVals[s[y+2]]},getUniformLocations:function(o,a){return{uGamma:o.getUniformLocation(a,"uGamma")}},sendUniformData:function(o,a){o.uniform3fv(a.uGamma,this.gamma)}}),i.Image.filters.Gamma.fromObject=i.Image.filters.BaseFilter.fromObject}(e),function(h){var i=h.fabric||(h.fabric={}),u=i.Image.filters,f=i.util.createClass;u.Composed=f(u.BaseFilter,{type:"Composed",subFilters:[],initialize:function(o){this.callSuper("initialize",o),this.subFilters=this.subFilters.slice(0)},applyTo:function(o){o.passes+=this.subFilters.length-1,this.subFilters.forEach(function(a){a.applyTo(o)})},toObject:function(){return i.util.object.extend(this.callSuper("toObject"),{subFilters:this.subFilters.map(function(o){return o.toObject()})})},isNeutralState:function(){return!this.subFilters.some(function(o){return!o.isNeutralState()})}}),i.Image.filters.Composed.fromObject=function(o,a){var s=o.subFilters||[],l=s.map(function(c){return new i.Image.filters[c.type](c)}),d=new i.Image.filters.Composed({subFilters:l});return a&&a(d),d}}(e),function(h){var i=h.fabric||(h.fabric={}),u=i.Image.filters,f=i.util.createClass;u.HueRotation=f(u.ColorMatrix,{type:"HueRotation",rotation:0,mainParameter:"rotation",calculateMatrix:function(){var o=this.rotation*Math.PI,a=i.util.cos(o),s=i.util.sin(o),l=1/3,d=Math.sqrt(l)*s,c=1-a;this.matrix=[1,0,0,0,0,0,1,0,0,0,0,0,1,0,0,0,0,0,1,0],this.matrix[0]=a+c/3,this.matrix[1]=l*c-d,this.matrix[2]=l*c+d,this.matrix[5]=l*c+d,this.matrix[6]=a+l*c,this.matrix[7]=l*c-d,this.matrix[10]=l*c-d,this.matrix[11]=l*c+d,this.matrix[12]=a+l*c},isNeutralState:function(o){return this.calculateMatrix(),u.BaseFilter.prototype.isNeutralState.call(this,o)},applyTo:function(o){this.calculateMatrix(),u.BaseFilter.prototype.applyTo.call(this,o)}}),i.Image.filters.HueRotation.fromObject=i.Image.filters.BaseFilter.fromObject}(e),function(h){var i=h.fabric||(h.fabric={}),u=i.util.object.clone;if(i.Text){i.warn("fabric.Text is already defined");return}var f="fontFamily fontWeight fontSize text underline overline linethrough textAlign fontStyle lineHeight textBackgroundColor charSpacing styles direction path pathStartOffset pathSide pathAlign".split(" ");i.Text=i.util.createClass(i.Object,{_dimensionAffectingProps:["fontSize","fontWeight","fontFamily","fontStyle","lineHeight","text","charSpacing","textAlign","styles","path","pathStartOffset","pathSide","pathAlign"],_reNewline:/\r?\n/,_reSpacesAndTabs:/[ \t\r]/g,_reSpaceAndTab:/[ \t\r]/,_reWords:/\S+/g,type:"text",fontSize:40,fontWeight:"normal",fontFamily:"Times New Roman",underline:!1,overline:!1,linethrough:!1,textAlign:"left",fontStyle:"normal",lineHeight:1.16,superscript:{size:.6,baseline:-.35},subscript:{size:.6,baseline:.11},textBackgroundColor:"",stateProperties:i.Object.prototype.stateProperties.concat(f),cacheProperties:i.Object.prototype.cacheProperties.concat(f),stroke:null,shadow:null,path:null,pathStartOffset:0,pathSide:"left",pathAlign:"baseline",_fontSizeFraction:.222,offsets:{underline:.1,linethrough:-.315,overline:-.88},_fontSizeMult:1.13,charSpacing:0,styles:null,_measuringContext:null,deltaY:0,direction:"ltr",_styleProperties:["stroke","strokeWidth","fill","fontFamily","fontSize","fontWeight","fontStyle","underline","overline","linethrough","deltaY","textBackgroundColor"],__charBounds:[],CACHE_FONT_SIZE:400,MIN_TEXT_WIDTH:2,initialize:function(o,a){this.styles=a?a.styles||{}:{},this.text=o,this.__skipDimension=!0,this.callSuper("initialize",a),this.path&&this.setPathInfo(),this.__skipDimension=!1,this.initDimensions(),this.setCoords(),this.setupState({propertySet:"_dimensionAffectingProps"})},setPathInfo:function(){var o=this.path;o&&(o.segmentsInfo=i.util.getPathSegmentsInfo(o.path))},getMeasuringContext:function(){return i._measuringContext||(i._measuringContext=this.canvas&&this.canvas.contextCache||i.util.createCanvasElement().getContext("2d")),i._measuringContext},_splitText:function(){var o=this._splitTextIntoLines(this.text);return this.textLines=o.lines,this._textLines=o.graphemeLines,this._unwrappedTextLines=o._unwrappedLines,this._text=o.graphemeText,o},initDimensions:function(){this.__skipDimension||(this._splitText(),this._clearCache(),this.path?(this.width=this.path.width,this.height=this.path.height):(this.width=this.calcTextWidth()||this.cursorWidth||this.MIN_TEXT_WIDTH,this.height=this.calcTextHeight()),this.textAlign.indexOf("justify")!==-1&&this.enlargeSpaces(),this.saveState({propertySet:"_dimensionAffectingProps"}))},enlargeSpaces:function(){for(var o,a,s,l,d,c,g,v=0,y=this._textLines.length;v<y;v++)if(!(this.textAlign!=="justify"&&(v===y-1||this.isEndOfWrapping(v)))&&(l=0,d=this._textLines[v],a=this.getLineWidth(v),a<this.width&&(g=this.textLines[v].match(this._reSpacesAndTabs)))){s=g.length,o=(this.width-a)/s;for(var _=0,w=d.length;_<=w;_++)c=this.__charBounds[v][_],this._reSpaceAndTab.test(d[_])?(c.width+=o,c.kernedWidth+=o,c.left+=l,l+=o):c.left+=l}},isEndOfWrapping:function(o){return o===this._textLines.length-1},missingNewlineOffset:function(){return 1},toString:function(){return"#<fabric.Text ("+this.complexity()+'): { "text": "'+this.text+'", "fontFamily": "'+this.fontFamily+'" }>'},_getCacheCanvasDimensions:function(){var o=this.callSuper("_getCacheCanvasDimensions"),a=this.fontSize;return o.width+=a*o.zoomX,o.height+=a*o.zoomY,o},_render:function(o){var a=this.path;a&&!a.isNotVisible()&&a._render(o),this._setTextStyles(o),this._renderTextLinesBackground(o),this._renderTextDecoration(o,"underline"),this._renderText(o),this._renderTextDecoration(o,"overline"),this._renderTextDecoration(o,"linethrough")},_renderText:function(o){this.paintFirst==="stroke"?(this._renderTextStroke(o),this._renderTextFill(o)):(this._renderTextFill(o),this._renderTextStroke(o))},_setTextStyles:function(o,a,s){if(o.textBaseline="alphabetical",this.path)switch(this.pathAlign){case"center":o.textBaseline="middle";break;case"ascender":o.textBaseline="top";break;case"descender":o.textBaseline="bottom";break}o.font=this._getFontDeclaration(a,s)},calcTextWidth:function(){for(var o=this.getLineWidth(0),a=1,s=this._textLines.length;a<s;a++){var l=this.getLineWidth(a);l>o&&(o=l)}return o},_renderTextLine:function(o,a,s,l,d,c){this._renderChars(o,a,s,l,d,c)},_renderTextLinesBackground:function(o){if(!(!this.textBackgroundColor&&!this.styleHas("textBackgroundColor"))){for(var a,s,l=o.fillStyle,d,c,g=this._getLeftOffset(),v=this._getTopOffset(),y=0,_=0,w,C,x=this.path,O,M=0,F=this._textLines.length;M<F;M++){if(a=this.getHeightOfLine(M),!this.textBackgroundColor&&!this.styleHas("textBackgroundColor",M)){v+=a;continue}d=this._textLines[M],s=this._getLineLeftOffset(M),_=0,y=0,c=this.getValueOfPropertyAt(M,0,"textBackgroundColor");for(var V=0,$=d.length;V<$;V++)w=this.__charBounds[M][V],C=this.getValueOfPropertyAt(M,V,"textBackgroundColor"),x?(o.save(),o.translate(w.renderLeft,w.renderTop),o.rotate(w.angle),o.fillStyle=C,C&&o.fillRect(-w.width/2,-a/this.lineHeight*(1-this._fontSizeFraction),w.width,a/this.lineHeight),o.restore()):C!==c?(O=g+s+y,this.direction==="rtl"&&(O=this.width-O-_),o.fillStyle=c,c&&o.fillRect(O,v,_,a/this.lineHeight),y=w.left,_=w.width,c=C):_+=w.kernedWidth;C&&!x&&(O=g+s+y,this.direction==="rtl"&&(O=this.width-O-_),o.fillStyle=C,o.fillRect(O,v,_,a/this.lineHeight)),v+=a}o.fillStyle=l,this._removeShadow(o)}},getFontCache:function(o){var a=o.fontFamily.toLowerCase();i.charWidthsCache[a]||(i.charWidthsCache[a]={});var s=i.charWidthsCache[a],l=o.fontStyle.toLowerCase()+"_"+(o.fontWeight+"").toLowerCase();return s[l]||(s[l]={}),s[l]},_measureChar:function(o,a,s,l){var d=this.getFontCache(a),c=this._getFontDeclaration(a),g=this._getFontDeclaration(l),v=s+o,y=c===g,_,w,C,x=a.fontSize/this.CACHE_FONT_SIZE,O;if(s&&d[s]!==void 0&&(C=d[s]),d[o]!==void 0&&(O=_=d[o]),y&&d[v]!==void 0&&(w=d[v],O=w-C),_===void 0||C===void 0||w===void 0){var M=this.getMeasuringContext();this._setTextStyles(M,a,!0)}return _===void 0&&(O=_=M.measureText(o).width,d[o]=_),C===void 0&&y&&s&&(C=M.measureText(s).width,d[s]=C),y&&w===void 0&&(w=M.measureText(v).width,d[v]=w,O=w-C),{width:_*x,kernedWidth:O*x}},getHeightOfChar:function(o,a){return this.getValueOfPropertyAt(o,a,"fontSize")},measureLine:function(o){var a=this._measureLine(o);return this.charSpacing!==0&&(a.width-=this._getWidthOfCharSpacing()),a.width<0&&(a.width=0),a},_measureLine:function(o){var a=0,s,l,d=this._textLines[o],c,g,v=0,y=new Array(d.length),_=0,w,C,x=this.path,O=this.pathSide==="right";for(this.__charBounds[o]=y,s=0;s<d.length;s++)l=d[s],g=this._getGraphemeBox(l,o,s,c),y[s]=g,a+=g.kernedWidth,c=l;if(y[s]={left:g?g.left+g.width:0,width:0,kernedWidth:0,height:this.fontSize},x){switch(C=x.segmentsInfo[x.segmentsInfo.length-1].length,w=i.util.getPointOnPath(x.path,0,x.segmentsInfo),w.x+=x.pathOffset.x,w.y+=x.pathOffset.y,this.textAlign){case"left":_=O?C-a:0;break;case"center":_=(C-a)/2;break;case"right":_=O?0:C-a;break}for(_+=this.pathStartOffset*(O?-1:1),s=O?d.length-1:0;O?s>=0:s<d.length;O?s--:s++)g=y[s],_>C?_%=C:_<0&&(_+=C),this._setGraphemeOnPath(_,g,w),_+=g.kernedWidth}return{width:a,numOfSpaces:v}},_setGraphemeOnPath:function(o,a,s){var l=o+a.kernedWidth/2,d=this.path,c=i.util.getPointOnPath(d.path,l,d.segmentsInfo);a.renderLeft=c.x-s.x,a.renderTop=c.y-s.y,a.angle=c.angle+(this.pathSide==="right"?Math.PI:0)},_getGraphemeBox:function(o,a,s,l,d){var c=this.getCompleteStyleDeclaration(a,s),g=l?this.getCompleteStyleDeclaration(a,s-1):{},v=this._measureChar(o,c,l,g),y=v.kernedWidth,_=v.width,w;this.charSpacing!==0&&(w=this._getWidthOfCharSpacing(),_+=w,y+=w);var C={width:_,left:0,height:c.fontSize,kernedWidth:y,deltaY:c.deltaY};if(s>0&&!d){var x=this.__charBounds[a][s-1];C.left=x.left+x.width+v.kernedWidth-v.width}return C},getHeightOfLine:function(o){if(this.__lineHeights[o])return this.__lineHeights[o];for(var a=this._textLines[o],s=this.getHeightOfChar(o,0),l=1,d=a.length;l<d;l++)s=Math.max(this.getHeightOfChar(o,l),s);return this.__lineHeights[o]=s*this.lineHeight*this._fontSizeMult},calcTextHeight:function(){for(var o,a=0,s=0,l=this._textLines.length;s<l;s++)o=this.getHeightOfLine(s),a+=s===l-1?o/this.lineHeight:o;return a},_getLeftOffset:function(){return this.direction==="ltr"?-this.width/2:this.width/2},_getTopOffset:function(){return-this.height/2},_renderTextCommon:function(o,a){o.save();for(var s=0,l=this._getLeftOffset(),d=this._getTopOffset(),c=0,g=this._textLines.length;c<g;c++){var v=this.getHeightOfLine(c),y=v/this.lineHeight,_=this._getLineLeftOffset(c);this._renderTextLine(a,o,this._textLines[c],l+_,d+s+y,c),s+=v}o.restore()},_renderTextFill:function(o){!this.fill&&!this.styleHas("fill")||this._renderTextCommon(o,"fillText")},_renderTextStroke:function(o){(!this.stroke||this.strokeWidth===0)&&this.isEmptyStyles()||(this.shadow&&!this.shadow.affectStroke&&this._removeShadow(o),o.save(),this._setLineDash(o,this.strokeDashArray),o.beginPath(),this._renderTextCommon(o,"strokeText"),o.closePath(),o.restore())},_renderChars:function(o,a,s,l,d,c){var g=this.getHeightOfLine(c),v=this.textAlign.indexOf("justify")!==-1,y,_,w="",C,x=0,O,M=this.path,F=!v&&this.charSpacing===0&&this.isEmptyStyles(c)&&!M,V=this.direction==="ltr",$=this.direction==="ltr"?1:-1,ne,ee=a.canvas.getAttribute("dir");if(a.save(),ee!==this.direction&&(a.canvas.setAttribute("dir",V?"ltr":"rtl"),a.direction=V?"ltr":"rtl",a.textAlign=V?"left":"right"),d-=g*this._fontSizeFraction/this.lineHeight,F){this._renderChar(o,a,c,0,s.join(""),l,d,g),a.restore();return}for(var re=0,se=s.length-1;re<=se;re++)O=re===se||this.charSpacing||M,w+=s[re],C=this.__charBounds[c][re],x===0?(l+=$*(C.kernedWidth-C.width),x+=C.width):x+=C.kernedWidth,v&&!O&&this._reSpaceAndTab.test(s[re])&&(O=!0),O||(y=y||this.getCompleteStyleDeclaration(c,re),_=this.getCompleteStyleDeclaration(c,re+1),O=i.util.hasStyleChanged(y,_,!1)),O&&(M?(a.save(),a.translate(C.renderLeft,C.renderTop),a.rotate(C.angle),this._renderChar(o,a,c,re,w,-x/2,0,g),a.restore()):(ne=l,this._renderChar(o,a,c,re,w,ne,d,g)),w="",y=_,l+=$*x,x=0);a.restore()},_applyPatternGradientTransformText:function(o){var a=i.util.createCanvasElement(),s,l=this.width+this.strokeWidth,d=this.height+this.strokeWidth;return a.width=l,a.height=d,s=a.getContext("2d"),s.beginPath(),s.moveTo(0,0),s.lineTo(l,0),s.lineTo(l,d),s.lineTo(0,d),s.closePath(),s.translate(l/2,d/2),s.fillStyle=o.toLive(s),this._applyPatternGradientTransform(s,o),s.fill(),s.createPattern(a,"no-repeat")},handleFiller:function(o,a,s){var l,d;return s.toLive?s.gradientUnits==="percentage"||s.gradientTransform||s.patternTransform?(l=-this.width/2,d=-this.height/2,o.translate(l,d),o[a]=this._applyPatternGradientTransformText(s),{offsetX:l,offsetY:d}):(o[a]=s.toLive(o,this),this._applyPatternGradientTransform(o,s)):(o[a]=s,{offsetX:0,offsetY:0})},_setStrokeStyles:function(o,a){return o.lineWidth=a.strokeWidth,o.lineCap=this.strokeLineCap,o.lineDashOffset=this.strokeDashOffset,o.lineJoin=this.strokeLineJoin,o.miterLimit=this.strokeMiterLimit,this.handleFiller(o,"strokeStyle",a.stroke)},_setFillStyles:function(o,a){return this.handleFiller(o,"fillStyle",a.fill)},_renderChar:function(o,a,s,l,d,c,g){var v=this._getStyleDeclaration(s,l),y=this.getCompleteStyleDeclaration(s,l),_=o==="fillText"&&y.fill,w=o==="strokeText"&&y.stroke&&y.strokeWidth,C,x;!w&&!_||(a.save(),_&&(C=this._setFillStyles(a,y)),w&&(x=this._setStrokeStyles(a,y)),a.font=this._getFontDeclaration(y),v&&v.textBackgroundColor&&this._removeShadow(a),v&&v.deltaY&&(g+=v.deltaY),_&&a.fillText(d,c-C.offsetX,g-C.offsetY),w&&a.strokeText(d,c-x.offsetX,g-x.offsetY),a.restore())},setSuperscript:function(o,a){return this._setScript(o,a,this.superscript)},setSubscript:function(o,a){return this._setScript(o,a,this.subscript)},_setScript:function(o,a,s){var l=this.get2DCursorLocation(o,!0),d=this.getValueOfPropertyAt(l.lineIndex,l.charIndex,"fontSize"),c=this.getValueOfPropertyAt(l.lineIndex,l.charIndex,"deltaY"),g={fontSize:d*s.size,deltaY:c+d*s.baseline};return this.setSelectionStyles(g,o,a),this},_getLineLeftOffset:function(o){var a=this.getLineWidth(o),s=this.width-a,l=this.textAlign,d=this.direction,g,c=0,g=this.isEndOfWrapping(o);return l==="justify"||l==="justify-center"&&!g||l==="justify-right"&&!g||l==="justify-left"&&!g?0:(l==="center"&&(c=s/2),l==="right"&&(c=s),l==="justify-center"&&(c=s/2),l==="justify-right"&&(c=s),d==="rtl"&&(c-=s),c)},_clearCache:function(){this.__lineWidths=[],this.__lineHeights=[],this.__charBounds=[]},_shouldClearDimensionCache:function(){var o=this._forceClearCache;return o||(o=this.hasStateChanged("_dimensionAffectingProps")),o&&(this.dirty=!0,this._forceClearCache=!1),o},getLineWidth:function(o){if(this.__lineWidths[o]!==void 0)return this.__lineWidths[o];var a=this.measureLine(o),s=a.width;return this.__lineWidths[o]=s,s},_getWidthOfCharSpacing:function(){return this.charSpacing!==0?this.fontSize*this.charSpacing/1e3:0},getValueOfPropertyAt:function(o,a,s){var l=this._getStyleDeclaration(o,a);return l&&typeof l[s]<"u"?l[s]:this[s]},_renderTextDecoration:function(o,a){if(!(!this[a]&&!this.styleHas(a))){for(var s,l,d,c,g,v,y,_,w=this._getLeftOffset(),C=this._getTopOffset(),x,O,M,F,V,$,ne,ee,re=this.path,se=this._getWidthOfCharSpacing(),ue=this.offsets[a],H=0,T=this._textLines.length;H<T;H++){if(s=this.getHeightOfLine(H),!this[a]&&!this.styleHas(a,H)){C+=s;continue}y=this._textLines[H],$=s/this.lineHeight,c=this._getLineLeftOffset(H),O=0,M=0,_=this.getValueOfPropertyAt(H,0,a),ee=this.getValueOfPropertyAt(H,0,"fill"),x=C+$*(1-this._fontSizeFraction),l=this.getHeightOfChar(H,0),g=this.getValueOfPropertyAt(H,0,"deltaY");for(var P=0,A=y.length;P<A;P++)if(F=this.__charBounds[H][P],V=this.getValueOfPropertyAt(H,P,a),ne=this.getValueOfPropertyAt(H,P,"fill"),d=this.getHeightOfChar(H,P),v=this.getValueOfPropertyAt(H,P,"deltaY"),re&&V&&ne)o.save(),o.fillStyle=ee,o.translate(F.renderLeft,F.renderTop),o.rotate(F.angle),o.fillRect(-F.kernedWidth/2,ue*d+v,F.kernedWidth,this.fontSize/15),o.restore();else if((V!==_||ne!==ee||d!==l||v!==g)&&M>0){var D=w+c+O;this.direction==="rtl"&&(D=this.width-D-M),_&&ee&&(o.fillStyle=ee,o.fillRect(D,x+ue*l+g,M,this.fontSize/15)),O=F.left,M=F.width,_=V,ee=ne,l=d,g=v}else M+=F.kernedWidth;var D=w+c+O;this.direction==="rtl"&&(D=this.width-D-M),o.fillStyle=ne,V&&ne&&o.fillRect(D,x+ue*l+g,M-se,this.fontSize/15),C+=s}this._removeShadow(o)}},_getFontDeclaration:function(o,a){var s=o||this,l=this.fontFamily,d=i.Text.genericFonts.indexOf(l.toLowerCase())>-1,c=l===void 0||l.indexOf("'")>-1||l.indexOf(",")>-1||l.indexOf('"')>-1||d?s.fontFamily:'"'+s.fontFamily+'"';return[i.isLikelyNode?s.fontWeight:s.fontStyle,i.isLikelyNode?s.fontStyle:s.fontWeight,a?this.CACHE_FONT_SIZE+"px":s.fontSize+"px",c].join(" ")},render:function(o){this.visible&&(this.canvas&&this.canvas.skipOffscreen&&!this.group&&!this.isOnScreen()||(this._shouldClearDimensionCache()&&this.initDimensions(),this.callSuper("render",o)))},_splitTextIntoLines:function(o){for(var a=o.split(this._reNewline),s=new Array(a.length),l=[`
`],d=[],c=0;c<a.length;c++)s[c]=i.util.string.graphemeSplit(a[c]),d=d.concat(s[c],l);return d.pop(),{_unwrappedLines:s,lines:a,graphemeText:d,graphemeLines:s}},toObject:function(o){var a=f.concat(o),s=this.callSuper("toObject",a);return s.styles=i.util.stylesToArray(this.styles,this.text),s.path&&(s.path=this.path.toObject()),s},set:function(o,a){this.callSuper("set",o,a);var s=!1,l=!1;if(typeof o=="object")for(var d in o)d==="path"&&this.setPathInfo(),s=s||this._dimensionAffectingProps.indexOf(d)!==-1,l=l||d==="path";else s=this._dimensionAffectingProps.indexOf(o)!==-1,l=o==="path";return l&&this.setPathInfo(),s&&(this.initDimensions(),this.setCoords()),this},complexity:function(){return 1}}),i.Text.ATTRIBUTE_NAMES=i.SHARED_ATTRIBUTES.concat("x y dx dy font-family font-style font-weight font-size letter-spacing text-decoration text-anchor".split(" ")),i.Text.DEFAULT_SVG_FONT_SIZE=16,i.Text.fromElement=function(o,a,s){if(!o)return a(null);var l=i.parseAttributes(o,i.Text.ATTRIBUTE_NAMES),d=l.textAnchor||"left";if(s=i.util.object.extend(s?u(s):{},l),s.top=s.top||0,s.left=s.left||0,l.textDecoration){var c=l.textDecoration;c.indexOf("underline")!==-1&&(s.underline=!0),c.indexOf("overline")!==-1&&(s.overline=!0),c.indexOf("line-through")!==-1&&(s.linethrough=!0),delete s.textDecoration}"dx"in l&&(s.left+=l.dx),"dy"in l&&(s.top+=l.dy),"fontSize"in s||(s.fontSize=i.Text.DEFAULT_SVG_FONT_SIZE);var g="";"textContent"in o?g=o.textContent:"firstChild"in o&&o.firstChild!==null&&"data"in o.firstChild&&o.firstChild.data!==null&&(g=o.firstChild.data),g=g.replace(/^\s+|\s+$|\n+/g,"").replace(/\s+/g," ");var v=s.strokeWidth;s.strokeWidth=0;var y=new i.Text(g,s),_=y.getScaledHeight()/y.height,w=(y.height+y.strokeWidth)*y.lineHeight-y.height,C=w*_,x=y.getScaledHeight()+C,O=0;d==="center"&&(O=y.getScaledWidth()/2),d==="right"&&(O=y.getScaledWidth()),y.set({left:y.left-O,top:y.top-(x-y.fontSize*(.07+y._fontSizeFraction))/y.lineHeight,strokeWidth:typeof v<"u"?v:1}),a(y)},i.Text.fromObject=function(o,a){var s=u(o),l=o.path;return delete s.path,i.Object._fromObject("Text",s,function(d){d.styles=i.util.stylesFromArray(o.styles,o.text),l?i.Object._fromObject("Path",l,function(c){d.set("path",c),a(d)},"path"):a(d)},"text")},i.Text.genericFonts=["sans-serif","serif","cursive","fantasy","monospace"],i.util.createAccessors&&i.util.createAccessors(i.Text)}(e),function(){t.util.object.extend(t.Text.prototype,{isEmptyStyles:function(h){if(!this.styles||typeof h<"u"&&!this.styles[h])return!0;var i=typeof h>"u"?this.styles:{line:this.styles[h]};for(var u in i)for(var f in i[u])for(var o in i[u][f])return!1;return!0},styleHas:function(h,i){if(!this.styles||!h||h===""||typeof i<"u"&&!this.styles[i])return!1;var u=typeof i>"u"?this.styles:{0:this.styles[i]};for(var f in u)for(var o in u[f])if(typeof u[f][o][h]<"u")return!0;return!1},cleanStyle:function(h){if(!this.styles||!h||h==="")return!1;var i=this.styles,u=0,f,o,a=!0,s=0,l;for(var d in i){f=0;for(var c in i[d]){var l=i[d][c],g=l.hasOwnProperty(h);u++,g?(o?l[h]!==o&&(a=!1):o=l[h],l[h]===this[h]&&delete l[h]):a=!1,Object.keys(l).length!==0?f++:delete i[d][c]}f===0&&delete i[d]}for(var v=0;v<this._textLines.length;v++)s+=this._textLines[v].length;a&&u===s&&(this[h]=o,this.removeStyle(h))},removeStyle:function(h){if(!(!this.styles||!h||h==="")){var i=this.styles,u,f,o;for(f in i){u=i[f];for(o in u)delete u[o][h],Object.keys(u[o]).length===0&&delete u[o];Object.keys(u).length===0&&delete i[f]}}},_extendStyles:function(h,i){var u=this.get2DCursorLocation(h);this._getLineStyle(u.lineIndex)||this._setLineStyle(u.lineIndex),this._getStyleDeclaration(u.lineIndex,u.charIndex)||this._setStyleDeclaration(u.lineIndex,u.charIndex,{}),t.util.object.extend(this._getStyleDeclaration(u.lineIndex,u.charIndex),i)},get2DCursorLocation:function(h,i){typeof h>"u"&&(h=this.selectionStart);for(var u=i?this._unwrappedTextLines:this._textLines,f=u.length,o=0;o<f;o++){if(h<=u[o].length)return{lineIndex:o,charIndex:h};h-=u[o].length+this.missingNewlineOffset(o)}return{lineIndex:o-1,charIndex:u[o-1].length<h?u[o-1].length:h}},getSelectionStyles:function(h,i,u){typeof h>"u"&&(h=this.selectionStart||0),typeof i>"u"&&(i=this.selectionEnd||h);for(var f=[],o=h;o<i;o++)f.push(this.getStyleAtPosition(o,u));return f},getStyleAtPosition:function(h,i){var u=this.get2DCursorLocation(h),f=i?this.getCompleteStyleDeclaration(u.lineIndex,u.charIndex):this._getStyleDeclaration(u.lineIndex,u.charIndex);return f||{}},setSelectionStyles:function(h,i,u){typeof i>"u"&&(i=this.selectionStart||0),typeof u>"u"&&(u=this.selectionEnd||i);for(var f=i;f<u;f++)this._extendStyles(f,h);return this._forceClearCache=!0,this},_getStyleDeclaration:function(h,i){var u=this.styles&&this.styles[h];return u?u[i]:null},getCompleteStyleDeclaration:function(h,i){for(var u=this._getStyleDeclaration(h,i)||{},f={},o,a=0;a<this._styleProperties.length;a++)o=this._styleProperties[a],f[o]=typeof u[o]>"u"?this[o]:u[o];return f},_setStyleDeclaration:function(h,i,u){this.styles[h][i]=u},_deleteStyleDeclaration:function(h,i){delete this.styles[h][i]},_getLineStyle:function(h){return!!this.styles[h]},_setLineStyle:function(h){this.styles[h]={}},_deleteLineStyle:function(h){delete this.styles[h]}})}(),function(){function h(i){i.textDecoration&&(i.textDecoration.indexOf("underline")>-1&&(i.underline=!0),i.textDecoration.indexOf("line-through")>-1&&(i.linethrough=!0),i.textDecoration.indexOf("overline")>-1&&(i.overline=!0),delete i.textDecoration)}t.IText=t.util.createClass(t.Text,t.Observable,{type:"i-text",selectionStart:0,selectionEnd:0,selectionColor:"rgba(17,119,255,0.3)",isEditing:!1,editable:!0,editingBorderColor:"rgba(102,153,255,0.25)",cursorWidth:2,cursorColor:"",cursorDelay:1e3,cursorDuration:600,caching:!0,hiddenTextareaContainer:null,_reSpace:/\s|\n/,_currentCursorOpacity:0,_selectionDirection:null,_abortCursorAnimation:!1,__widthOfSpace:[],inCompositionMode:!1,initialize:function(i,u){this.callSuper("initialize",i,u),this.initBehavior()},setSelectionStart:function(i){i=Math.max(i,0),this._updateAndFire("selectionStart",i)},setSelectionEnd:function(i){i=Math.min(i,this.text.length),this._updateAndFire("selectionEnd",i)},_updateAndFire:function(i,u){this[i]!==u&&(this._fireSelectionChanged(),this[i]=u),this._updateTextarea()},_fireSelectionChanged:function(){this.fire("selection:changed"),this.canvas&&this.canvas.fire("text:selection:changed",{target:this})},initDimensions:function(){this.isEditing&&this.initDelayedCursor(),this.clearContextTop(),this.callSuper("initDimensions")},render:function(i){this.clearContextTop(),this.callSuper("render",i),this.cursorOffsetCache={},this.renderCursorOrSelection()},_render:function(i){this.callSuper("_render",i)},clearContextTop:function(i){if(!(!this.isEditing||!this.canvas||!this.canvas.contextTop)){var u=this.canvas.contextTop,f=this.canvas.viewportTransform;u.save(),u.transform(f[0],f[1],f[2],f[3],f[4],f[5]),this.transform(u),this._clearTextArea(u),i||u.restore()}},renderCursorOrSelection:function(){if(!(!this.isEditing||!this.canvas||!this.canvas.contextTop)){var i=this._getCursorBoundaries(),u=this.canvas.contextTop;this.clearContextTop(!0),this.selectionStart===this.selectionEnd?this.renderCursor(i,u):this.renderSelection(i,u),u.restore()}},_clearTextArea:function(i){var u=this.width+4,f=this.height+4;i.clearRect(-u/2,-f/2,u,f)},_getCursorBoundaries:function(i){typeof i>"u"&&(i=this.selectionStart);var u=this._getLeftOffset(),f=this._getTopOffset(),o=this._getCursorBoundariesOffsets(i);return{left:u,top:f,leftOffset:o.left,topOffset:o.top}},_getCursorBoundariesOffsets:function(i){if(this.cursorOffsetCache&&"top"in this.cursorOffsetCache)return this.cursorOffsetCache;var u,f,o,a=0,s=0,l,d=this.get2DCursorLocation(i);o=d.charIndex,f=d.lineIndex;for(var c=0;c<f;c++)a+=this.getHeightOfLine(c);u=this._getLineLeftOffset(f);var g=this.__charBounds[f][o];return g&&(s=g.left),this.charSpacing!==0&&o===this._textLines[f].length&&(s-=this._getWidthOfCharSpacing()),l={top:a,left:u+(s>0?s:0)},this.direction==="rtl"&&(l.left*=-1),this.cursorOffsetCache=l,this.cursorOffsetCache},renderCursor:function(i,u){var f=this.get2DCursorLocation(),o=f.lineIndex,a=f.charIndex>0?f.charIndex-1:0,s=this.getValueOfPropertyAt(o,a,"fontSize"),l=this.scaleX*this.canvas.getZoom(),d=this.cursorWidth/l,c=i.topOffset,g=this.getValueOfPropertyAt(o,a,"deltaY");c+=(1-this._fontSizeFraction)*this.getHeightOfLine(o)/this.lineHeight-s*(1-this._fontSizeFraction),this.inCompositionMode&&this.renderSelection(i,u),u.fillStyle=this.cursorColor||this.getValueOfPropertyAt(o,a,"fill"),u.globalAlpha=this.__isMousedown?1:this._currentCursorOpacity,u.fillRect(i.left+i.leftOffset-d/2,c+i.top+g,d,s)},renderSelection:function(i,u){for(var f=this.inCompositionMode?this.hiddenTextarea.selectionStart:this.selectionStart,o=this.inCompositionMode?this.hiddenTextarea.selectionEnd:this.selectionEnd,a=this.textAlign.indexOf("justify")!==-1,s=this.get2DCursorLocation(f),l=this.get2DCursorLocation(o),d=s.lineIndex,c=l.lineIndex,g=s.charIndex<0?0:s.charIndex,v=l.charIndex<0?0:l.charIndex,y=d;y<=c;y++){var _=this._getLineLeftOffset(y)||0,w=this.getHeightOfLine(y),C=0,x=0,O=0;if(y===d&&(x=this.__charBounds[d][g].left),y>=d&&y<c)O=a&&!this.isEndOfWrapping(y)?this.width:this.getLineWidth(y)||5;else if(y===c)if(v===0)O=this.__charBounds[c][v].left;else{var M=this._getWidthOfCharSpacing();O=this.__charBounds[c][v-1].left+this.__charBounds[c][v-1].width-M}C=w,(this.lineHeight<1||y===c&&this.lineHeight>1)&&(w/=this.lineHeight);var F=i.left+_+x,V=O-x,$=w,ne=0;this.inCompositionMode?(u.fillStyle=this.compositionColor||"black",$=1,ne=w):u.fillStyle=this.selectionColor,this.direction==="rtl"&&(F=this.width-F-V),u.fillRect(F,i.top+i.topOffset+ne,V,$),i.topOffset+=C}},getCurrentCharFontSize:function(){var i=this._getCurrentCharIndex();return this.getValueOfPropertyAt(i.l,i.c,"fontSize")},getCurrentCharColor:function(){var i=this._getCurrentCharIndex();return this.getValueOfPropertyAt(i.l,i.c,"fill")},_getCurrentCharIndex:function(){var i=this.get2DCursorLocation(this.selectionStart,!0),u=i.charIndex>0?i.charIndex-1:0;return{l:i.lineIndex,c:u}}}),t.IText.fromObject=function(i,u){var f=t.util.stylesFromArray(i.styles,i.text),o=Object.assign({},i,{styles:f});if(h(o),o.styles)for(var a in o.styles)for(var s in o.styles[a])h(o.styles[a][s]);t.Object._fromObject("IText",o,u,"text")}}(),function(){var h=t.util.object.clone;t.util.object.extend(t.IText.prototype,{initBehavior:function(){this.initAddedHandler(),this.initRemovedHandler(),this.initCursorSelectionHandlers(),this.initDoubleClickSimulation(),this.mouseMoveHandler=this.mouseMoveHandler.bind(this)},onDeselect:function(){this.isEditing&&this.exitEditing(),this.selected=!1},initAddedHandler:function(){var i=this;this.on("added",function(){var u=i.canvas;u&&(u._hasITextHandlers||(u._hasITextHandlers=!0,i._initCanvasHandlers(u)),u._iTextInstances=u._iTextInstances||[],u._iTextInstances.push(i))})},initRemovedHandler:function(){var i=this;this.on("removed",function(){var u=i.canvas;u&&(u._iTextInstances=u._iTextInstances||[],t.util.removeFromArray(u._iTextInstances,i),u._iTextInstances.length===0&&(u._hasITextHandlers=!1,i._removeCanvasHandlers(u)))})},_initCanvasHandlers:function(i){i._mouseUpITextHandler=function(){i._iTextInstances&&i._iTextInstances.forEach(function(u){u.__isMousedown=!1})},i.on("mouse:up",i._mouseUpITextHandler)},_removeCanvasHandlers:function(i){i.off("mouse:up",i._mouseUpITextHandler)},_tick:function(){this._currentTickState=this._animateCursor(this,1,this.cursorDuration,"_onTickComplete")},_animateCursor:function(i,u,f,o){var a;return a={isAborted:!1,abort:function(){this.isAborted=!0}},i.animate("_currentCursorOpacity",u,{duration:f,onComplete:function(){a.isAborted||i[o]()},onChange:function(){i.canvas&&i.selectionStart===i.selectionEnd&&i.renderCursorOrSelection()},abort:function(){return a.isAborted}}),a},_onTickComplete:function(){var i=this;this._cursorTimeout1&&clearTimeout(this._cursorTimeout1),this._cursorTimeout1=setTimeout(function(){i._currentTickCompleteState=i._animateCursor(i,0,this.cursorDuration/2,"_tick")},100)},initDelayedCursor:function(i){var u=this,f=i?0:this.cursorDelay;this.abortCursorAnimation(),this._currentCursorOpacity=1,this._cursorTimeout2=setTimeout(function(){u._tick()},f)},abortCursorAnimation:function(){var i=this._currentTickState||this._currentTickCompleteState,u=this.canvas;this._currentTickState&&this._currentTickState.abort(),this._currentTickCompleteState&&this._currentTickCompleteState.abort(),clearTimeout(this._cursorTimeout1),clearTimeout(this._cursorTimeout2),this._currentCursorOpacity=0,i&&u&&u.clearContext(u.contextTop||u.contextContainer)},selectAll:function(){return this.selectionStart=0,this.selectionEnd=this._text.length,this._fireSelectionChanged(),this._updateTextarea(),this},getSelectedText:function(){return this._text.slice(this.selectionStart,this.selectionEnd).join("")},findWordBoundaryLeft:function(i){var u=0,f=i-1;if(this._reSpace.test(this._text[f]))for(;this._reSpace.test(this._text[f]);)u++,f--;for(;/\S/.test(this._text[f])&&f>-1;)u++,f--;return i-u},findWordBoundaryRight:function(i){var u=0,f=i;if(this._reSpace.test(this._text[f]))for(;this._reSpace.test(this._text[f]);)u++,f++;for(;/\S/.test(this._text[f])&&f<this._text.length;)u++,f++;return i+u},findLineBoundaryLeft:function(i){for(var u=0,f=i-1;!/\n/.test(this._text[f])&&f>-1;)u++,f--;return i-u},findLineBoundaryRight:function(i){for(var u=0,f=i;!/\n/.test(this._text[f])&&f<this._text.length;)u++,f++;return i+u},searchWordBoundary:function(i,u){for(var f=this._text,o=this._reSpace.test(f[i])?i-1:i,a=f[o],s=t.reNonWord;!s.test(a)&&o>0&&o<f.length;)o+=u,a=f[o];return s.test(a)&&(o+=u===1?0:1),o},selectWord:function(i){i=i||this.selectionStart;var u=this.searchWordBoundary(i,-1),f=this.searchWordBoundary(i,1);this.selectionStart=u,this.selectionEnd=f,this._fireSelectionChanged(),this._updateTextarea(),this.renderCursorOrSelection()},selectLine:function(i){i=i||this.selectionStart;var u=this.findLineBoundaryLeft(i),f=this.findLineBoundaryRight(i);return this.selectionStart=u,this.selectionEnd=f,this._fireSelectionChanged(),this._updateTextarea(),this},enterEditing:function(i){if(!(this.isEditing||!this.editable))return this.canvas&&(this.canvas.calcOffset(),this.exitEditingOnOthers(this.canvas)),this.isEditing=!0,this.initHiddenTextarea(i),this.hiddenTextarea.focus(),this.hiddenTextarea.value=this.text,this._updateTextarea(),this._saveEditingProps(),this._setEditingProps(),this._textBeforeEdit=this.text,this._tick(),this.fire("editing:entered"),this._fireSelectionChanged(),this.canvas?(this.canvas.fire("text:editing:entered",{target:this}),this.initMouseMoveHandler(),this.canvas.requestRenderAll(),this):this},exitEditingOnOthers:function(i){i._iTextInstances&&i._iTextInstances.forEach(function(u){u.selected=!1,u.isEditing&&u.exitEditing()})},initMouseMoveHandler:function(){this.canvas.on("mouse:move",this.mouseMoveHandler)},mouseMoveHandler:function(i){if(!(!this.__isMousedown||!this.isEditing)){document.activeElement!==this.hiddenTextarea&&this.hiddenTextarea.focus();var u=this.getSelectionStartFromPointer(i.e),f=this.selectionStart,o=this.selectionEnd;(u!==this.__selectionStartOnMouseDown||f===o)&&(f===u||o===u)||(u>this.__selectionStartOnMouseDown?(this.selectionStart=this.__selectionStartOnMouseDown,this.selectionEnd=u):(this.selectionStart=u,this.selectionEnd=this.__selectionStartOnMouseDown),(this.selectionStart!==f||this.selectionEnd!==o)&&(this.restartCursorIfNeeded(),this._fireSelectionChanged(),this._updateTextarea(),this.renderCursorOrSelection()))}},_setEditingProps:function(){this.hoverCursor="text",this.canvas&&(this.canvas.defaultCursor=this.canvas.moveCursor="text"),this.borderColor=this.editingBorderColor,this.hasControls=this.selectable=!1,this.lockMovementX=this.lockMovementY=!0},fromStringToGraphemeSelection:function(i,u,f){var o=f.slice(0,i),a=t.util.string.graphemeSplit(o).length;if(i===u)return{selectionStart:a,selectionEnd:a};var s=f.slice(i,u),l=t.util.string.graphemeSplit(s).length;return{selectionStart:a,selectionEnd:a+l}},fromGraphemeToStringSelection:function(i,u,f){var o=f.slice(0,i),a=o.join("").length;if(i===u)return{selectionStart:a,selectionEnd:a};var s=f.slice(i,u),l=s.join("").length;return{selectionStart:a,selectionEnd:a+l}},_updateTextarea:function(){if(this.cursorOffsetCache={},!!this.hiddenTextarea){if(!this.inCompositionMode){var i=this.fromGraphemeToStringSelection(this.selectionStart,this.selectionEnd,this._text);this.hiddenTextarea.selectionStart=i.selectionStart,this.hiddenTextarea.selectionEnd=i.selectionEnd}this.updateTextareaPosition()}},updateFromTextArea:function(){if(this.hiddenTextarea){this.cursorOffsetCache={},this.text=this.hiddenTextarea.value,this._shouldClearDimensionCache()&&(this.initDimensions(),this.setCoords());var i=this.fromStringToGraphemeSelection(this.hiddenTextarea.selectionStart,this.hiddenTextarea.selectionEnd,this.hiddenTextarea.value);this.selectionEnd=this.selectionStart=i.selectionEnd,this.inCompositionMode||(this.selectionStart=i.selectionStart),this.updateTextareaPosition()}},updateTextareaPosition:function(){if(this.selectionStart===this.selectionEnd){var i=this._calcTextareaPosition();this.hiddenTextarea.style.left=i.left,this.hiddenTextarea.style.top=i.top}},_calcTextareaPosition:function(){if(!this.canvas)return{x:1,y:1};var i=this.inCompositionMode?this.compositionStart:this.selectionStart,u=this._getCursorBoundaries(i),f=this.get2DCursorLocation(i),o=f.lineIndex,a=f.charIndex,s=this.getValueOfPropertyAt(o,a,"fontSize")*this.lineHeight,l=u.leftOffset,d=this.calcTransformMatrix(),c={x:u.left+l,y:u.top+u.topOffset+s},g=this.canvas.getRetinaScaling(),v=this.canvas.upperCanvasEl,y=v.width/g,_=v.height/g,w=y-s,C=_-s,x=v.clientWidth/y,O=v.clientHeight/_;return c=t.util.transformPoint(c,d),c=t.util.transformPoint(c,this.canvas.viewportTransform),c.x*=x,c.y*=O,c.x<0&&(c.x=0),c.x>w&&(c.x=w),c.y<0&&(c.y=0),c.y>C&&(c.y=C),c.x+=this.canvas._offset.left,c.y+=this.canvas._offset.top,{left:c.x+"px",top:c.y+"px",fontSize:s+"px",charHeight:s}},_saveEditingProps:function(){this._savedProps={hasControls:this.hasControls,borderColor:this.borderColor,lockMovementX:this.lockMovementX,lockMovementY:this.lockMovementY,hoverCursor:this.hoverCursor,selectable:this.selectable,defaultCursor:this.canvas&&this.canvas.defaultCursor,moveCursor:this.canvas&&this.canvas.moveCursor}},_restoreEditingProps:function(){this._savedProps&&(this.hoverCursor=this._savedProps.hoverCursor,this.hasControls=this._savedProps.hasControls,this.borderColor=this._savedProps.borderColor,this.selectable=this._savedProps.selectable,this.lockMovementX=this._savedProps.lockMovementX,this.lockMovementY=this._savedProps.lockMovementY,this.canvas&&(this.canvas.defaultCursor=this._savedProps.defaultCursor,this.canvas.moveCursor=this._savedProps.moveCursor))},exitEditing:function(){var i=this._textBeforeEdit!==this.text,u=this.hiddenTextarea;return this.selected=!1,this.isEditing=!1,this.selectionEnd=this.selectionStart,u&&(u.blur&&u.blur(),u.parentNode&&u.parentNode.removeChild(u)),this.hiddenTextarea=null,this.abortCursorAnimation(),this._restoreEditingProps(),this._currentCursorOpacity=0,this._shouldClearDimensionCache()&&(this.initDimensions(),this.setCoords()),this.fire("editing:exited"),i&&this.fire("modified"),this.canvas&&(this.canvas.off("mouse:move",this.mouseMoveHandler),this.canvas.fire("text:editing:exited",{target:this}),i&&this.canvas.fire("object:modified",{target:this})),this},_removeExtraneousStyles:function(){for(var i in this.styles)this._textLines[i]||delete this.styles[i]},removeStyleFromTo:function(i,u){var f=this.get2DCursorLocation(i,!0),o=this.get2DCursorLocation(u,!0),a=f.lineIndex,s=f.charIndex,l=o.lineIndex,d=o.charIndex,c,g;if(a!==l){if(this.styles[a])for(c=s;c<this._unwrappedTextLines[a].length;c++)delete this.styles[a][c];if(this.styles[l])for(c=d;c<this._unwrappedTextLines[l].length;c++)g=this.styles[l][c],g&&(this.styles[a]||(this.styles[a]={}),this.styles[a][s+c-d]=g);for(c=a+1;c<=l;c++)delete this.styles[c];this.shiftLineStyles(l,a-l)}else if(this.styles[a]){g=this.styles[a];var v=d-s,y,_;for(c=s;c<d;c++)delete g[c];for(_ in this.styles[a])y=parseInt(_,10),y>=d&&(g[y-v]=g[_],delete g[_])}},shiftLineStyles:function(i,u){var f=h(this.styles);for(var o in this.styles){var a=parseInt(o,10);a>i&&(this.styles[a+u]=f[a],f[a-u]||delete this.styles[a])}},restartCursorIfNeeded:function(){(!this._currentTickState||this._currentTickState.isAborted||!this._currentTickCompleteState||this._currentTickCompleteState.isAborted)&&this.initDelayedCursor()},insertNewlineStyleObject:function(i,u,f,o){var a,s={},l=!1,d=this._unwrappedTextLines[i].length===u;f||(f=1),this.shiftLineStyles(i,f),this.styles[i]&&(a=this.styles[i][u===0?u:u-1]);for(var c in this.styles[i]){var g=parseInt(c,10);g>=u&&(l=!0,s[g-u]=this.styles[i][c],d&&u===0||delete this.styles[i][c])}var v=!1;for(l&&!d&&(this.styles[i+f]=s,v=!0),v&&f--;f>0;)o&&o[f-1]?this.styles[i+f]={0:h(o[f-1])}:a?this.styles[i+f]={0:h(a)}:delete this.styles[i+f],f--;this._forceClearCache=!0},insertCharStyleObject:function(i,u,f,o){this.styles||(this.styles={});var a=this.styles[i],s=a?h(a):{};f||(f=1);for(var l in s){var d=parseInt(l,10);d>=u&&(a[d+f]=s[d],s[d-f]||delete a[d])}if(this._forceClearCache=!0,o){for(;f--;)Object.keys(o[f]).length&&(this.styles[i]||(this.styles[i]={}),this.styles[i][u+f]=h(o[f]));return}if(a)for(var c=a[u?u-1:1];c&&f--;)this.styles[i][u+f]=h(c)},insertNewStyleBlock:function(i,u,f){for(var o=this.get2DCursorLocation(u,!0),a=[0],s=0,l=0;l<i.length;l++)i[l]===`
`?(s++,a[s]=0):a[s]++;a[0]>0&&(this.insertCharStyleObject(o.lineIndex,o.charIndex,a[0],f),f=f&&f.slice(a[0]+1)),s&&this.insertNewlineStyleObject(o.lineIndex,o.charIndex+a[0],s);for(var l=1;l<s;l++)a[l]>0?this.insertCharStyleObject(o.lineIndex+l,0,a[l],f):f&&this.styles[o.lineIndex+l]&&f[0]&&(this.styles[o.lineIndex+l][0]=f[0]),f=f&&f.slice(a[l]+1);a[l]>0&&this.insertCharStyleObject(o.lineIndex+l,0,a[l],f)},setSelectionStartEndWithShift:function(i,u,f){f<=i?(u===i?this._selectionDirection="left":this._selectionDirection==="right"&&(this._selectionDirection="left",this.selectionEnd=i),this.selectionStart=f):f>i&&f<u?this._selectionDirection==="right"?this.selectionEnd=f:this.selectionStart=f:(u===i?this._selectionDirection="right":this._selectionDirection==="left"&&(this._selectionDirection="right",this.selectionStart=u),this.selectionEnd=f)},setSelectionInBoundaries:function(){var i=this.text.length;this.selectionStart>i?this.selectionStart=i:this.selectionStart<0&&(this.selectionStart=0),this.selectionEnd>i?this.selectionEnd=i:this.selectionEnd<0&&(this.selectionEnd=0)}})}(),t.util.object.extend(t.IText.prototype,{initDoubleClickSimulation:function(){this.__lastClickTime=+new Date,this.__lastLastClickTime=+new Date,this.__lastPointer={},this.on("mousedown",this.onMouseDown)},onMouseDown:function(h){if(this.canvas){this.__newClickTime=+new Date;var i=h.pointer;this.isTripleClick(i)&&(this.fire("tripleclick",h),this._stopEvent(h.e)),this.__lastLastClickTime=this.__lastClickTime,this.__lastClickTime=this.__newClickTime,this.__lastPointer=i,this.__lastIsEditing=this.isEditing,this.__lastSelected=this.selected}},isTripleClick:function(h){return this.__newClickTime-this.__lastClickTime<500&&this.__lastClickTime-this.__lastLastClickTime<500&&this.__lastPointer.x===h.x&&this.__lastPointer.y===h.y},_stopEvent:function(h){h.preventDefault&&h.preventDefault(),h.stopPropagation&&h.stopPropagation()},initCursorSelectionHandlers:function(){this.initMousedownHandler(),this.initMouseupHandler(),this.initClicks()},doubleClickHandler:function(h){this.isEditing&&this.selectWord(this.getSelectionStartFromPointer(h.e))},tripleClickHandler:function(h){this.isEditing&&this.selectLine(this.getSelectionStartFromPointer(h.e))},initClicks:function(){this.on("mousedblclick",this.doubleClickHandler),this.on("tripleclick",this.tripleClickHandler)},_mouseDownHandler:function(h){!this.canvas||!this.editable||h.e.button&&h.e.button!==1||(this.__isMousedown=!0,this.selected&&(this.inCompositionMode=!1,this.setCursorByClick(h.e)),this.isEditing&&(this.__selectionStartOnMouseDown=this.selectionStart,this.selectionStart===this.selectionEnd&&this.abortCursorAnimation(),this.renderCursorOrSelection()))},_mouseDownHandlerBefore:function(h){!this.canvas||!this.editable||h.e.button&&h.e.button!==1||(this.selected=this===this.canvas._activeObject)},initMousedownHandler:function(){this.on("mousedown",this._mouseDownHandler),this.on("mousedown:before",this._mouseDownHandlerBefore)},initMouseupHandler:function(){this.on("mouseup",this.mouseUpHandler)},mouseUpHandler:function(h){if(this.__isMousedown=!1,!(!this.editable||this.group||h.transform&&h.transform.actionPerformed||h.e.button&&h.e.button!==1)){if(this.canvas){var i=this.canvas._activeObject;if(i&&i!==this)return}this.__lastSelected&&!this.__corner?(this.selected=!1,this.__lastSelected=!1,this.enterEditing(h.e),this.selectionStart===this.selectionEnd?this.initDelayedCursor(!0):this.renderCursorOrSelection()):this.selected=!0}},setCursorByClick:function(h){var i=this.getSelectionStartFromPointer(h),u=this.selectionStart,f=this.selectionEnd;h.shiftKey?this.setSelectionStartEndWithShift(u,f,i):(this.selectionStart=i,this.selectionEnd=i),this.isEditing&&(this._fireSelectionChanged(),this._updateTextarea())},getSelectionStartFromPointer:function(h){for(var i=this.getLocalPointer(h),u=0,f=0,o=0,a=0,s=0,l,d,c=0,g=this._textLines.length;c<g&&o<=i.y;c++)o+=this.getHeightOfLine(c)*this.scaleY,s=c,c>0&&(a+=this._textLines[c-1].length+this.missingNewlineOffset(c-1));l=this._getLineLeftOffset(s),f=l*this.scaleX,d=this._textLines[s],this.direction==="rtl"&&(i.x=this.width*this.scaleX-i.x+f);for(var v=0,y=d.length;v<y&&(u=f,f+=this.__charBounds[s][v].kernedWidth*this.scaleX,f<=i.x);v++)a++;return this._getNewSelectionStartFromOffset(i,u,f,a,y)},_getNewSelectionStartFromOffset:function(h,i,u,f,o){var a=h.x-i,s=u-h.x,l=s>a||s<0?0:1,d=f+l;return this.flipX&&(d=o-d),d>this._text.length&&(d=this._text.length),d}}),t.util.object.extend(t.IText.prototype,{initHiddenTextarea:function(){this.hiddenTextarea=t.document.createElement("textarea"),this.hiddenTextarea.setAttribute("autocapitalize","off"),this.hiddenTextarea.setAttribute("autocorrect","off"),this.hiddenTextarea.setAttribute("autocomplete","off"),this.hiddenTextarea.setAttribute("spellcheck","false"),this.hiddenTextarea.setAttribute("data-fabric-hiddentextarea",""),this.hiddenTextarea.setAttribute("wrap","off");var h=this._calcTextareaPosition();this.hiddenTextarea.style.cssText="position: absolute; top: "+h.top+"; left: "+h.left+"; z-index: -999; opacity: 0; width: 1px; height: 1px; font-size: 1px; padding-top: "+h.fontSize+";",this.hiddenTextareaContainer?this.hiddenTextareaContainer.appendChild(this.hiddenTextarea):t.document.body.appendChild(this.hiddenTextarea),t.util.addListener(this.hiddenTextarea,"keydown",this.onKeyDown.bind(this)),t.util.addListener(this.hiddenTextarea,"keyup",this.onKeyUp.bind(this)),t.util.addListener(this.hiddenTextarea,"input",this.onInput.bind(this)),t.util.addListener(this.hiddenTextarea,"copy",this.copy.bind(this)),t.util.addListener(this.hiddenTextarea,"cut",this.copy.bind(this)),t.util.addListener(this.hiddenTextarea,"paste",this.paste.bind(this)),t.util.addListener(this.hiddenTextarea,"compositionstart",this.onCompositionStart.bind(this)),t.util.addListener(this.hiddenTextarea,"compositionupdate",this.onCompositionUpdate.bind(this)),t.util.addListener(this.hiddenTextarea,"compositionend",this.onCompositionEnd.bind(this)),!this._clickHandlerInitialized&&this.canvas&&(t.util.addListener(this.canvas.upperCanvasEl,"click",this.onClick.bind(this)),this._clickHandlerInitialized=!0)},keysMap:{9:"exitEditing",27:"exitEditing",33:"moveCursorUp",34:"moveCursorDown",35:"moveCursorRight",36:"moveCursorLeft",37:"moveCursorLeft",38:"moveCursorUp",39:"moveCursorRight",40:"moveCursorDown"},keysMapRtl:{9:"exitEditing",27:"exitEditing",33:"moveCursorUp",34:"moveCursorDown",35:"moveCursorLeft",36:"moveCursorRight",37:"moveCursorRight",38:"moveCursorUp",39:"moveCursorLeft",40:"moveCursorDown"},ctrlKeysMapUp:{67:"copy",88:"cut"},ctrlKeysMapDown:{65:"selectAll"},onClick:function(){this.hiddenTextarea&&this.hiddenTextarea.focus()},onKeyDown:function(h){if(this.isEditing){var i=this.direction==="rtl"?this.keysMapRtl:this.keysMap;if(h.keyCode in i)this[i[h.keyCode]](h);else if(h.keyCode in this.ctrlKeysMapDown&&(h.ctrlKey||h.metaKey))this[this.ctrlKeysMapDown[h.keyCode]](h);else return;h.stopImmediatePropagation(),h.preventDefault(),h.keyCode>=33&&h.keyCode<=40?(this.inCompositionMode=!1,this.clearContextTop(),this.renderCursorOrSelection()):this.canvas&&this.canvas.requestRenderAll()}},onKeyUp:function(h){if(!this.isEditing||this._copyDone||this.inCompositionMode){this._copyDone=!1;return}if(h.keyCode in this.ctrlKeysMapUp&&(h.ctrlKey||h.metaKey))this[this.ctrlKeysMapUp[h.keyCode]](h);else return;h.stopImmediatePropagation(),h.preventDefault(),this.canvas&&this.canvas.requestRenderAll()},onInput:function(h){var i=this.fromPaste;if(this.fromPaste=!1,h&&h.stopPropagation(),!!this.isEditing){var u=this._splitTextIntoLines(this.hiddenTextarea.value).graphemeText,f=this._text.length,o=u.length,a,s,l=o-f,d=this.selectionStart,c=this.selectionEnd,g=d!==c,v,y,_;if(this.hiddenTextarea.value===""){this.styles={},this.updateFromTextArea(),this.fire("changed"),this.canvas&&(this.canvas.fire("text:changed",{target:this}),this.canvas.requestRenderAll());return}var w=this.fromStringToGraphemeSelection(this.hiddenTextarea.selectionStart,this.hiddenTextarea.selectionEnd,this.hiddenTextarea.value),C=d>w.selectionStart;g?(a=this._text.slice(d,c),l+=c-d):o<f&&(C?a=this._text.slice(c+l,c):a=this._text.slice(d,d-l)),s=u.slice(w.selectionEnd-l,w.selectionEnd),a&&a.length&&(s.length&&(v=this.getSelectionStyles(d,d+1,!1),v=s.map(function(){return v[0]})),g?(y=d,_=c):C?(y=c-a.length,_=c):(y=c,_=c+a.length),this.removeStyleFromTo(y,_)),s.length&&(i&&s.join("")===t.copiedText&&!t.disableStyleCopyPaste&&(v=t.copiedTextStyle),this.insertNewStyleBlock(s,d,v)),this.updateFromTextArea(),this.fire("changed"),this.canvas&&(this.canvas.fire("text:changed",{target:this}),this.canvas.requestRenderAll())}},onCompositionStart:function(){this.inCompositionMode=!0},onCompositionEnd:function(){this.inCompositionMode=!1},onCompositionUpdate:function(h){this.compositionStart=h.target.selectionStart,this.compositionEnd=h.target.selectionEnd,this.updateTextareaPosition()},copy:function(){this.selectionStart!==this.selectionEnd&&(t.copiedText=this.getSelectedText(),t.disableStyleCopyPaste?t.copiedTextStyle=null:t.copiedTextStyle=this.getSelectionStyles(this.selectionStart,this.selectionEnd,!0),this._copyDone=!0)},paste:function(){this.fromPaste=!0},_getClipboardData:function(h){return h&&h.clipboardData||t.window.clipboardData},_getWidthBeforeCursor:function(h,i){var u=this._getLineLeftOffset(h),f;return i>0&&(f=this.__charBounds[h][i-1],u+=f.left+f.width),u},getDownCursorOffset:function(h,i){var u=this._getSelectionForOffset(h,i),f=this.get2DCursorLocation(u),o=f.lineIndex;if(o===this._textLines.length-1||h.metaKey||h.keyCode===34)return this._text.length-u;var a=f.charIndex,s=this._getWidthBeforeCursor(o,a),l=this._getIndexOnLine(o+1,s),d=this._textLines[o].slice(a);return d.length+l+1+this.missingNewlineOffset(o)},_getSelectionForOffset:function(h,i){return h.shiftKey&&this.selectionStart!==this.selectionEnd&&i?this.selectionEnd:this.selectionStart},getUpCursorOffset:function(h,i){var u=this._getSelectionForOffset(h,i),f=this.get2DCursorLocation(u),o=f.lineIndex;if(o===0||h.metaKey||h.keyCode===33)return-u;var a=f.charIndex,s=this._getWidthBeforeCursor(o,a),l=this._getIndexOnLine(o-1,s),d=this._textLines[o].slice(0,a),c=this.missingNewlineOffset(o-1);return-this._textLines[o-1].length+l-d.length+(1-c)},_getIndexOnLine:function(h,i){for(var u=this._textLines[h],f=this._getLineLeftOffset(h),o=f,a=0,s,l,d=0,c=u.length;d<c;d++)if(s=this.__charBounds[h][d].width,o+=s,o>i){l=!0;var g=o-s,v=o,y=Math.abs(g-i),_=Math.abs(v-i);a=_<y?d:d-1;break}return l||(a=u.length-1),a},moveCursorDown:function(h){this.selectionStart>=this._text.length&&this.selectionEnd>=this._text.length||this._moveCursorUpOrDown("Down",h)},moveCursorUp:function(h){this.selectionStart===0&&this.selectionEnd===0||this._moveCursorUpOrDown("Up",h)},_moveCursorUpOrDown:function(h,i){var u="get"+h+"CursorOffset",f=this[u](i,this._selectionDirection==="right");i.shiftKey?this.moveCursorWithShift(f):this.moveCursorWithoutShift(f),f!==0&&(this.setSelectionInBoundaries(),this.abortCursorAnimation(),this._currentCursorOpacity=1,this.initDelayedCursor(),this._fireSelectionChanged(),this._updateTextarea())},moveCursorWithShift:function(h){var i=this._selectionDirection==="left"?this.selectionStart+h:this.selectionEnd+h;return this.setSelectionStartEndWithShift(this.selectionStart,this.selectionEnd,i),h!==0},moveCursorWithoutShift:function(h){return h<0?(this.selectionStart+=h,this.selectionEnd=this.selectionStart):(this.selectionEnd+=h,this.selectionStart=this.selectionEnd),h!==0},moveCursorLeft:function(h){this.selectionStart===0&&this.selectionEnd===0||this._moveCursorLeftOrRight("Left",h)},_move:function(h,i,u){var f;if(h.altKey)f=this["findWordBoundary"+u](this[i]);else if(h.metaKey||h.keyCode===35||h.keyCode===36)f=this["findLineBoundary"+u](this[i]);else return this[i]+=u==="Left"?-1:1,!0;if(typeof f<"u"&&this[i]!==f)return this[i]=f,!0},_moveLeft:function(h,i){return this._move(h,i,"Left")},_moveRight:function(h,i){return this._move(h,i,"Right")},moveCursorLeftWithoutShift:function(h){var i=!0;return this._selectionDirection="left",this.selectionEnd===this.selectionStart&&this.selectionStart!==0&&(i=this._moveLeft(h,"selectionStart")),this.selectionEnd=this.selectionStart,i},moveCursorLeftWithShift:function(h){if(this._selectionDirection==="right"&&this.selectionStart!==this.selectionEnd)return this._moveLeft(h,"selectionEnd");if(this.selectionStart!==0)return this._selectionDirection="left",this._moveLeft(h,"selectionStart")},moveCursorRight:function(h){this.selectionStart>=this._text.length&&this.selectionEnd>=this._text.length||this._moveCursorLeftOrRight("Right",h)},_moveCursorLeftOrRight:function(h,i){var u="moveCursor"+h+"With";this._currentCursorOpacity=1,i.shiftKey?u+="Shift":u+="outShift",this[u](i)&&(this.abortCursorAnimation(),this.initDelayedCursor(),this._fireSelectionChanged(),this._updateTextarea())},moveCursorRightWithShift:function(h){if(this._selectionDirection==="left"&&this.selectionStart!==this.selectionEnd)return this._moveRight(h,"selectionStart");if(this.selectionEnd!==this._text.length)return this._selectionDirection="right",this._moveRight(h,"selectionEnd")},moveCursorRightWithoutShift:function(h){var i=!0;return this._selectionDirection="right",this.selectionStart===this.selectionEnd?(i=this._moveRight(h,"selectionStart"),this.selectionEnd=this.selectionStart):this.selectionStart=this.selectionEnd,i},removeChars:function(h,i){typeof i>"u"&&(i=h+1),this.removeStyleFromTo(h,i),this._text.splice(h,i-h),this.text=this._text.join(""),this.set("dirty",!0),this._shouldClearDimensionCache()&&(this.initDimensions(),this.setCoords()),this._removeExtraneousStyles()},insertChars:function(h,i,u,f){typeof f>"u"&&(f=u),f>u&&this.removeStyleFromTo(u,f);var o=t.util.string.graphemeSplit(h);this.insertNewStyleBlock(o,u,i),this._text=[].concat(this._text.slice(0,u),o,this._text.slice(f)),this.text=this._text.join(""),this.set("dirty",!0),this._shouldClearDimensionCache()&&(this.initDimensions(),this.setCoords()),this._removeExtraneousStyles()}}),function(){var h=t.util.toFixed,i=/  +/g;t.util.object.extend(t.Text.prototype,{_toSVG:function(){var u=this._getSVGLeftTopOffsets(),f=this._getSVGTextAndBg(u.textTop,u.textLeft);return this._wrapSVGTextAndBg(f)},toSVG:function(u){return this._createBaseSVGMarkup(this._toSVG(),{reviver:u,noStyle:!0,withShadow:!0})},_getSVGLeftTopOffsets:function(){return{textLeft:-this.width/2,textTop:-this.height/2,lineTop:this.getHeightOfLine(0)}},_wrapSVGTextAndBg:function(u){var f=!0,o=this.getSvgTextDecoration(this);return[u.textBgRects.join(""),'		<text xml:space="preserve" ',this.fontFamily?'font-family="'+this.fontFamily.replace(/"/g,"'")+'" ':"",this.fontSize?'font-size="'+this.fontSize+'" ':"",this.fontStyle?'font-style="'+this.fontStyle+'" ':"",this.fontWeight?'font-weight="'+this.fontWeight+'" ':"",o?'text-decoration="'+o+'" ':"",'style="',this.getSvgStyles(f),'"',this.addPaintOrder()," >",u.textSpans.join(""),`</text>
`]},_getSVGTextAndBg:function(u,f){var o=[],a=[],s=u,l;this._setSVGBg(a);for(var d=0,c=this._textLines.length;d<c;d++)l=this._getLineLeftOffset(d),(this.textBackgroundColor||this.styleHas("textBackgroundColor",d))&&this._setSVGTextLineBg(a,d,f+l,s),this._setSVGTextLineText(o,d,f+l,s),s+=this.getHeightOfLine(d);return{textSpans:o,textBgRects:a}},_createTextCharSpan:function(u,f,o,a){var s=u!==u.trim()||u.match(i),l=this.getSvgSpanStyles(f,s),d=l?'style="'+l+'"':"",c=f.deltaY,g="",v=t.Object.NUM_FRACTION_DIGITS;return c&&(g=' dy="'+h(c,v)+'" '),['<tspan x="',h(o,v),'" y="',h(a,v),'" ',g,d,">",t.util.string.escapeXml(u),"</tspan>"].join("")},_setSVGTextLineText:function(u,f,o,a){var s=this.getHeightOfLine(f),l=this.textAlign.indexOf("justify")!==-1,d,c,g="",v,y,_=0,w=this._textLines[f],C;a+=s*(1-this._fontSizeFraction)/this.lineHeight;for(var x=0,O=w.length-1;x<=O;x++)C=x===O||this.charSpacing,g+=w[x],v=this.__charBounds[f][x],_===0?(o+=v.kernedWidth-v.width,_+=v.width):_+=v.kernedWidth,l&&!C&&this._reSpaceAndTab.test(w[x])&&(C=!0),C||(d=d||this.getCompleteStyleDeclaration(f,x),c=this.getCompleteStyleDeclaration(f,x+1),C=t.util.hasStyleChanged(d,c,!0)),C&&(y=this._getStyleDeclaration(f,x)||{},u.push(this._createTextCharSpan(g,y,o,a)),g="",d=c,o+=_,_=0)},_pushTextBgRect:function(u,f,o,a,s,l){var d=t.Object.NUM_FRACTION_DIGITS;u.push("		<rect ",this._getFillAttributes(f),' x="',h(o,d),'" y="',h(a,d),'" width="',h(s,d),'" height="',h(l,d),`"></rect>
`)},_setSVGTextLineBg:function(u,f,o,a){for(var s=this._textLines[f],l=this.getHeightOfLine(f)/this.lineHeight,d=0,c=0,g,v,y=this.getValueOfPropertyAt(f,0,"textBackgroundColor"),_=0,w=s.length;_<w;_++)g=this.__charBounds[f][_],v=this.getValueOfPropertyAt(f,_,"textBackgroundColor"),v!==y?(y&&this._pushTextBgRect(u,y,o+c,a,d,l),c=g.left,d=g.width,y=v):d+=g.kernedWidth;v&&this._pushTextBgRect(u,v,o+c,a,d,l)},_getFillAttributes:function(u){var f=u&&typeof u=="string"?new t.Color(u):"";return!f||!f.getSource()||f.getAlpha()===1?'fill="'+u+'"':'opacity="'+f.getAlpha()+'" fill="'+f.setAlpha(1).toRgb()+'"'},_getSVGLineTopOffset:function(u){for(var f=0,o=0,a=0;a<u;a++)f+=this.getHeightOfLine(a);return o=this.getHeightOfLine(a),{lineTop:f,offset:(this._fontSizeMult-this._fontSizeFraction)*o/(this.lineHeight*this._fontSizeMult)}},getSvgStyles:function(u){var f=t.Object.prototype.getSvgStyles.call(this,u);return f+" white-space: pre;"}})}(),function(h){var i=h.fabric||(h.fabric={});i.Textbox=i.util.createClass(i.IText,i.Observable,{type:"textbox",minWidth:20,dynamicMinWidth:2,__cachedLines:null,lockScalingFlip:!0,noScaleCache:!1,_dimensionAffectingProps:i.Text.prototype._dimensionAffectingProps.concat("width"),_wordJoiners:/[ \t\r]/,splitByGrapheme:!1,initDimensions:function(){this.__skipDimension||(this.isEditing&&this.initDelayedCursor(),this.clearContextTop(),this._clearCache(),this.dynamicMinWidth=0,this._styleMap=this._generateStyleMap(this._splitText()),this.dynamicMinWidth>this.width&&this._set("width",this.dynamicMinWidth),this.textAlign.indexOf("justify")!==-1&&this.enlargeSpaces(),this.height=this.calcTextHeight(),this.saveState({propertySet:"_dimensionAffectingProps"}))},_generateStyleMap:function(u){for(var f=0,o=0,a=0,s={},l=0;l<u.graphemeLines.length;l++)u.graphemeText[a]===`
`&&l>0?(o=0,a++,f++):!this.splitByGrapheme&&this._reSpaceAndTab.test(u.graphemeText[a])&&l>0&&(o++,a++),s[l]={line:f,offset:o},a+=u.graphemeLines[l].length,o+=u.graphemeLines[l].length;return s},styleHas:function(u,f){if(this._styleMap&&!this.isWrapping){var o=this._styleMap[f];o&&(f=o.line)}return i.Text.prototype.styleHas.call(this,u,f)},isEmptyStyles:function(u){if(!this.styles)return!0;var f=0,o=u+1,a,s,l=!1,d=this._styleMap[u],c=this._styleMap[u+1];d&&(u=d.line,f=d.offset),c&&(o=c.line,l=o===u,a=c.offset),s=typeof u>"u"?this.styles:{line:this.styles[u]};for(var g in s)for(var v in s[g])if(v>=f&&(!l||v<a))for(var y in s[g][v])return!1;return!0},_getStyleDeclaration:function(u,f){if(this._styleMap&&!this.isWrapping){var o=this._styleMap[u];if(!o)return null;u=o.line,f=o.offset+f}return this.callSuper("_getStyleDeclaration",u,f)},_setStyleDeclaration:function(u,f,o){var a=this._styleMap[u];u=a.line,f=a.offset+f,this.styles[u][f]=o},_deleteStyleDeclaration:function(u,f){var o=this._styleMap[u];u=o.line,f=o.offset+f,delete this.styles[u][f]},_getLineStyle:function(u){var f=this._styleMap[u];return!!this.styles[f.line]},_setLineStyle:function(u){var f=this._styleMap[u];this.styles[f.line]={}},_wrapText:function(u,f){var o=[],a;for(this.isWrapping=!0,a=0;a<u.length;a++)o=o.concat(this._wrapLine(u[a],a,f));return this.isWrapping=!1,o},_measureWord:function(u,f,o){var a=0,s,l=!0;o=o||0;for(var d=0,c=u.length;d<c;d++){var g=this._getGraphemeBox(u[d],f,d+o,s,l);a+=g.kernedWidth,s=u[d]}return a},_wrapLine:function(u,f,o,F){var s=0,l=this.splitByGrapheme,d=[],c=[],g=l?i.util.string.graphemeSplit(u):u.split(this._wordJoiners),v="",y=0,_=l?"":" ",w=0,C=0,x=0,O=!0,M=this._getWidthOfCharSpacing(),F=F||0;g.length===0&&g.push([]),o-=F;for(var V=0;V<g.length;V++)v=l?g[V]:i.util.string.graphemeSplit(g[V]),w=this._measureWord(v,f,y),y+=v.length,s+=C+w-M,s>o&&!O?(d.push(c),c=[],s=w,O=!0):s+=M,!O&&!l&&c.push(_),c=c.concat(v),C=l?0:this._measureWord([_],f,y),y++,O=!1,w>x&&(x=w);return V&&d.push(c),x+F>this.dynamicMinWidth&&(this.dynamicMinWidth=x-M+F),d},isEndOfWrapping:function(u){return!this._styleMap[u+1]||this._styleMap[u+1].line!==this._styleMap[u].line},missingNewlineOffset:function(u){return this.splitByGrapheme?this.isEndOfWrapping(u)?1:0:1},_splitTextIntoLines:function(u){for(var f=i.Text.prototype._splitTextIntoLines.call(this,u),o=this._wrapText(f.lines,this.width),a=new Array(o.length),s=0;s<o.length;s++)a[s]=o[s].join("");return f.lines=a,f.graphemeLines=o,f},getMinWidth:function(){return Math.max(this.minWidth,this.dynamicMinWidth)},_removeExtraneousStyles:function(){var u={};for(var f in this._styleMap)this._textLines[f]&&(u[this._styleMap[f].line]=1);for(var f in this.styles)u[f]||delete this.styles[f]},toObject:function(u){return this.callSuper("toObject",["minWidth","splitByGrapheme"].concat(u))}}),i.Textbox.fromObject=function(u,f){var o=i.util.stylesFromArray(u.styles,u.text),a=Object.assign({},u,{styles:o});return i.Object._fromObject("Textbox",a,f,"text")}}(e),function(){var h=t.controlsUtils,i=h.scaleSkewCursorStyleHandler,u=h.scaleCursorStyleHandler,f=h.scalingEqually,o=h.scalingYOrSkewingX,a=h.scalingXOrSkewingY,s=h.scaleOrSkewActionName,l=t.Object.prototype.controls;if(l.ml=new t.Control({x:-.5,y:0,cursorStyleHandler:i,actionHandler:a,getActionName:s}),l.mr=new t.Control({x:.5,y:0,cursorStyleHandler:i,actionHandler:a,getActionName:s}),l.mb=new t.Control({x:0,y:.5,cursorStyleHandler:i,actionHandler:o,getActionName:s}),l.mt=new t.Control({x:0,y:-.5,cursorStyleHandler:i,actionHandler:o,getActionName:s}),l.tl=new t.Control({x:-.5,y:-.5,cursorStyleHandler:u,actionHandler:f}),l.tr=new t.Control({x:.5,y:-.5,cursorStyleHandler:u,actionHandler:f}),l.bl=new t.Control({x:-.5,y:.5,cursorStyleHandler:u,actionHandler:f}),l.br=new t.Control({x:.5,y:.5,cursorStyleHandler:u,actionHandler:f}),l.mtr=new t.Control({x:0,y:-.5,actionHandler:h.rotationWithSnapping,cursorStyleHandler:h.rotationStyleHandler,offsetY:-40,withConnection:!0,actionName:"rotate"}),t.Textbox){var d=t.Textbox.prototype.controls={};d.mtr=l.mtr,d.tr=l.tr,d.br=l.br,d.tl=l.tl,d.bl=l.bl,d.mt=l.mt,d.mb=l.mb,d.mr=new t.Control({x:.5,y:0,actionHandler:h.changeWidth,cursorStyleHandler:i,actionName:"resizing"}),d.ml=new t.Control({x:-.5,y:0,actionHandler:h.changeWidth,cursorStyleHandler:i,actionName:"resizing"})}}()})(qa);const HT=bn(qa),ab=Ry({__proto__:null,default:HT},[qa]),VT=new qa.fabric.Canvas("myCanvas2",{isDrawingMode:!0}),$T=he.createContext(null),XT=he.createContext(null),YT=({children:e})=>{const[t,r]=he.useState(VT);return $i.jsx($T.Provider,{value:t,children:$i.jsx(XT.Provider,{value:r,children:e})})},GT="AnimateQ";QC({title:e=>`${e} - ${GT}`,resolve:e=>ZC(`./Pages/${e}.tsx`,Object.assign({"./Pages/Auth/Login.tsx":()=>An(()=>import("./Login-17435d42.js"),["assets/Login-17435d42.js","assets/TextInput-cbeaf3a6.js"]),"./Pages/Editor/controls.tsx":()=>An(()=>import("./controls-21c7480d.js").then(t=>t.c),[]),"./Pages/Editor/index.tsx":()=>An(()=>import("./index-4feb0dd2.js"),["assets/index-4feb0dd2.js","assets/controls-21c7480d.js","assets/index-04bd2a27.css"]),"./Pages/Home/index.tsx":()=>An(()=>import("./index-8476a783.js"),[]),"./Pages/Signin/index.tsx":()=>An(()=>import("./index-60ce4143.js"),["assets/index-60ce4143.js","assets/TextInput-cbeaf3a6.js"]),"./Pages/Welcome.tsx":()=>An(()=>import("./Welcome-9f70470a.js"),[])})),setup({el:e,App:t,props:r}){jm(e).render($i.jsx(Gx,{store:WT,children:$i.jsx(YT,{children:$i.jsx(t,{...r})})}))},progress:{color:"#4B5563"}});export{$T as F,Kf as R,JT as W,KT as a,XT as b,sb as c,QT as d,ib as e,ab as f,uf as g,tb as h,rb as i,$i as j,qT as k,kv as l,pT as m,sa as n,nb as o,jy as p,ZT as q,he as r,bn as s,ob as u,eb as y};
