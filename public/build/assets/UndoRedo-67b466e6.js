import{R as d,c as x,u as p,r as v,F as H,j as y,b as l}from"./app-d9ffdf96.js";var g={color:void 0,size:void 0,className:void 0,style:void 0,attr:void 0},f=d.createContext&&d.createContext(g),c=globalThis&&globalThis.__assign||function(){return c=Object.assign||function(e){for(var o,t=1,a=arguments.length;t<a;t++){o=arguments[t];for(var n in o)Object.prototype.hasOwnProperty.call(o,n)&&(e[n]=o[n])}return e},c.apply(this,arguments)},O=globalThis&&globalThis.__rest||function(e,o){var t={};for(var a in e)Object.prototype.hasOwnProperty.call(e,a)&&o.indexOf(a)<0&&(t[a]=e[a]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var n=0,a=Object.getOwnPropertySymbols(e);n<a.length;n++)o.indexOf(a[n])<0&&Object.prototype.propertyIsEnumerable.call(e,a[n])&&(t[a[n]]=e[a[n]]);return t};function m(e){return e&&e.map(function(o,t){return d.createElement(o.tag,c({key:t},o.attr),m(o.child))})}function b(e){return function(o){return d.createElement(w,c({attr:c({},e.attr)},o),m(e.child))}}function w(e){var o=function(t){var a=e.attr,n=e.size,s=e.title,h=O(e,["attr","size","title"]),u=n||t.size||"1em",i;return t.className&&(i=t.className),e.className&&(i=(i?i+" ":"")+e.className),d.createElement("svg",c({stroke:"currentColor",fill:"currentColor",strokeWidth:"0"},t.attr,a,h,{className:i,style:c(c({color:e.color||t.color},t.style),e.style),height:u,width:u,xmlns:"http://www.w3.org/2000/svg"}),s&&d.createElement("title",null,s),e.children)};return f!==void 0?d.createElement(f.Consumer,null,function(t){return o(t)}):o(g)}function N(e){return b({tag:"svg",attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{d:"M16.82,4,15.4,5.44,17.94,8H8.23a6,6,0,0,0,0,12h2V18h-2a4,4,0,0,1,0-8h9.71L15.4,12.51l1.41,1.41L21.77,9Z"}}]})(e)}function j(e){return b({tag:"svg",attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{d:"M7.18,4,8.6,5.44,6.06,8h9.71a6,6,0,0,1,0,12h-2V18h2a4,4,0,0,0,0-8H6.06L8.6,12.51,7.18,13.92,2.23,9Z"}}]})(e)}var r={isLocked:!1,undoHistory:[],redoHistory:[]};const C=({threadState:e,actions:o})=>{const{isUndoAble:t,isRedoAble:a}=x(i=>i.uiSlice),n=p(),s=v.useContext(H),h=()=>{if(r.undoHistory.length>0){r.isLocked=!0;const i=r.undoHistory[r.undoHistory.length-2];r.undoHistory.pop(),r.redoHistory.push(s==null?void 0:s.toJSON(["data"])),s==null||s.loadFromJSON(i,()=>{s.renderAll(),r.isLocked=!1,n(r.redoHistory.length==0?l.disableRedo():l.enableRedo()),n(r.undoHistory.length==0?l.disableUndo():l.enableUndo())})}},u=()=>{if(r.redoHistory.length>0){r.isLocked=!0;const i=r.redoHistory[r.redoHistory.length-1];r.undoHistory.push(i),r.redoHistory.pop(),s==null||s.loadFromJSON(i,()=>{s.renderAll(),r.isLocked=!1,n(r.undoHistory.length==0?l.disableUndo():l.enableUndo()),n(r.redoHistory.length==0?l.disableRedo():l.enableRedo())})}};return y.jsxs("div",{className:"flex items-center justify-center h-14  bg-black rounded-br-xl opacity-70",children:[y.jsx(j,{size:45,className:`cursor-pointer   ${t?"text-white active:text-red-500":"text-gray-400"}`,onClick:h}),y.jsx(N,{size:45,className:`cursor-pointer   ${a?"text-white active:text-red-500":"text-gray-400"}`,onClick:u})]})};export{b as G,C as U,r as h};
